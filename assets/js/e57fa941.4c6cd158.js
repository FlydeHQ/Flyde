"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2234],{38570:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var o=a(70079);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},l=Object.keys(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var d=o.createContext({}),s=function(e){var t=o.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=s(e.components);return o.createElement(d.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,d=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),u=s(a),h=n,m=u["".concat(d,".").concat(h)]||u[h]||c[h]||l;return a?o.createElement(m,i(i({ref:t},p),{},{components:a})):o.createElement(m,i({ref:t},p))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=h;var r={};for(var d in t)hasOwnProperty.call(t,d)&&(r[d]=t[d]);r.originalType=e,r[u]="string"==typeof e?e:n,i[1]=r;for(var s=2;s<l;s++)i[s]=a[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}h.displayName="MDXCreateElement"},57517:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var o=a(10328),n=(a(70079),a(38570));const l={sidebar_position:2},i="[ WIP ] Creating Custom Code Nodes with Flyde",r={unversionedId:"Tutorials/code-parts/index",id:"Tutorials/code-parts/index",title:"[ WIP ] Creating Custom Code Nodes with Flyde",description:"In this tutorial, we'll guide you step-by-step through creating a custom code node using Flyde.",source:"@site/docs/Tutorials/code-parts/index.md",sourceDirName:"Tutorials/code-parts",slug:"/Tutorials/code-parts/",permalink:"/docs/Tutorials/code-parts/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tutorials/code-parts/index.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Hello World with Flyde",permalink:"/docs/Tutorials/hello-world-with-flyde/"},next:{title:"Lifecycle of a Node",permalink:"/docs/lifecycle"}},d={},s=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Set up a new project",id:"step-1-set-up-a-new-project",level:2},{value:"Step 2: Install the needed packages",id:"step-2-install-the-needed-packages",level:2},{value:"Step 3: Create a new Flyde flow",id:"step-3-create-a-new-flyde-flow",level:2},{value:"Step 4: Create a custom code node",id:"step-4-create-a-custom-code-node",level:2},{value:"Step 5: Add the validator package to the custom code node",id:"step-5-add-the-validator-package-to-the-custom-code-node",level:2},{value:"Step 6: Add the custom code node to the flow",id:"step-6-add-the-custom-code-node-to-the-flow",level:2},{value:"Step 7: Create the email validation flow",id:"step-7-create-the-email-validation-flow",level:2},{value:"Step 8: Run the flow",id:"step-8-run-the-flow",level:2},{value:"Next steps",id:"next-steps",level:2}],p={toc:s},u="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(u,(0,o.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"-wip--creating-custom-code-nodes-with-flyde"},"[ WIP ]"," Creating Custom Code Nodes with Flyde"),(0,n.kt)("p",null,"In this tutorial, we'll guide you step-by-step through creating a custom code node using Flyde.",(0,n.kt)("br",{parentName:"p"}),"\n","We'll wrap the ",(0,n.kt)("inlineCode",{parentName:"p"},"validator")," npm package into a Flyde code node that validates email addresses, and use it in a visual flow by running it with the Flyde extension."),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Visual Studio Code installed."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=flyde.flyde-vscode"},"Flyde")," extension installed in Visual Studio Code.")),(0,n.kt)("h2",{id:"step-1-set-up-a-new-project"},"Step 1: Set up a new project"),(0,n.kt)("p",null,"Create a new directory for your project and open it in Visual Studio Code. Initialize a new npm project by running ",(0,n.kt)("inlineCode",{parentName:"p"},"npm init -y")," in the terminal."),(0,n.kt)("h2",{id:"step-2-install-the-needed-packages"},"Step 2: Install the needed packages"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Install the ",(0,n.kt)("inlineCode",{parentName:"li"},"validator")," package by running ",(0,n.kt)("inlineCode",{parentName:"li"},"npm install validator")," in the terminal. This package will be used to validate the email address."),(0,n.kt)("li",{parentName:"ol"},"Install the ",(0,n.kt)("inlineCode",{parentName:"li"},"@flyde/core")," package by running ",(0,n.kt)("inlineCode",{parentName:"li"},"npm install @flyde/core")," in the terminal (for the code node interface).")),(0,n.kt)("h2",{id:"step-3-create-a-new-flyde-flow"},"Step 3: Create a new Flyde flow"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Right click on the VSCode\'s sidebar -> "Flyde: New Visual Flow"'),(0,n.kt)("li",{parentName:"ol"},'Name your flow "Validator Example" and choose the "Blank" template'),(0,n.kt)("li",{parentName:"ol"},"You should now see a Flyde flow editor tab inside your IDE")),(0,n.kt)("p",null,"[ Screenshot of the Flyde panel with a new flow ]"),(0,n.kt)("h2",{id:"step-4-create-a-custom-code-node"},"Step 4: Create a custom code node"),(0,n.kt)("p",null,'Create a new file, call it "EmailValidator.flyde.ts" and add the following code:'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"import { CodeNode } from '@flyde/core';\n\nexport const validatorNode: CodeNode = {\n  id: 'Email Validator',\n  description: 'Validates an email address',\n  inputs: {\n    email: {\n      description: 'Email address to validate',\n    },\n  },\n  outputs: {\n    isValid: {\n      description: 'Whether the email is valid',\n    },\n  },\n  fn: async (inputs, outputs) => {\n    // logic will go here\n  },\n};\n")),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Important"),': Flyde will auto-detect valid code nodes by searching for "',(0,n.kt)("em",{parentName:"p"},'.flyde.ts" or "'),'.flyde.js" files in your project, so make sure to name your file accordingly.'),(0,n.kt)("p",null,"[ Screenshot of the custom code node file ]"),(0,n.kt)("h2",{id:"step-5-add-the-validator-package-to-the-custom-code-node"},"Step 5: Add the validator package to the custom code node"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"In the generated code node file (EmailValidator.flyde.ts), import the validator package by adding the following line at the top:\n",(0,n.kt)("inlineCode",{parentName:"li"},"import validator from 'validator';")),(0,n.kt)("li",{parentName:"ol"},"Change the implementation of the fn function to the following:")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"fn: (inputs, outputs) => {\n  const isValid = validator.isEmail(inputs.email);\n  outputs.isValid.next(isValid);\n},\n")),(0,n.kt)("p",null,"Flyde will make all inputs available as properties on the inputs object, and all outputs available as properties on the outputs object. The next function on the output will emit the value to the next node in the flow."),(0,n.kt)("p",null,"[ Screenshot of the custom code node file with the changes ]"),(0,n.kt)("h2",{id:"step-6-add-the-custom-code-node-to-the-flow"},"Step 6: Add the custom code node to the flow"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Open the flow you've created earlier."),(0,n.kt)("li",{parentName:"ol"},'Open the "add node" menu by clicking on the "+" button in the right actions menu of the flow editor.'),(0,n.kt)("li",{parentName:"ol"},'Search for "Email Validator" and click on the "Add" button.')),(0,n.kt)("p",null,"[ Screenshot of the flow editor with the custom code node added ]"),(0,n.kt)("h2",{id:"step-7-create-the-email-validation-flow"},"Step 7: Create the email validation flow"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Add a main input to the flow by right-clicking the flow editor, and choosing "New input"'),(0,n.kt)("li",{parentName:"ol"},'Name the input "value"'),(0,n.kt)("li",{parentName:"ol"},'Connect that main input to the "Email Validator" node')),(0,n.kt)("p",null,"[ Screenshot of the completed flow with all nodes connected ]"),(0,n.kt)("h2",{id:"step-8-run-the-flow"},"Step 8: Run the flow"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Click on the "Run flow" button in the actions menu.'),(0,n.kt)("li",{parentName:"ol"},'Enter a test email address in the "value" input node and click "Run".'),(0,n.kt)("li",{parentName:"ol"},'Hover over the "isValid" output node to see the result. You can also see it in the VSCode "Flyde" output channel.')),(0,n.kt)("p",null,"[ Gif of the flow running with the test email address ]"),(0,n.kt)("p",null,"That's it! You've successfully created a custom code node using the validator npm package and used it in a Flyde flow. Experiment with other npm packages and build more complex flows using Flyde's visual flow-based programming interface."),(0,n.kt)("h2",{id:"next-steps"},"Next steps"),(0,n.kt)("p",null,"Before moving on to the next tutorial, I highly recommend you to try tinkering with this example:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"allow passing a second, optional parameter to the code node to specify the validation options that the validator package supports."),(0,n.kt)("li",{parentName:"ul"},'explore the "defaultStyle" property of the CodeNode interface and try making your node pop-out.'),(0,n.kt)("li",{parentName:"ul"},"Try adding a list of email addresses, a loop node and a delay and see how you can validate a list of email addresses."),(0,n.kt)("li",{parentName:"ul"},"package that node into a separate npm package and publish it to npm! See ","[/packages]"," for more info.")),(0,n.kt)("hr",null),(0,n.kt)("p",null,"If you have any feedback or issue please open a ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/flydelabs/flyde/issues/new"},"Github issue")," or ping us on Discord."))}c.isMDXComponent=!0}}]);