(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3237],{19121:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cappedArrayDebounce=void 0;t.cappedArrayDebounce=function(e,t,n,o){void 0===o&&(o=500);let r=[],i=null,a=null;return{addItem:s=>{clearTimeout(i),r.push(s),a||(a=setTimeout((()=>{e(r),clearTimeout(i),a=null}),o)),r.length>=n?(e(r),clearTimeout(a),a=null,r=[]):i=setTimeout((()=>{e(r),clearTimeout(a),a=null,r=[]}),t)},flush:()=>{r.length&&(e(r),r=[],clearTimeout(a))},pendingItems:()=>r.length}}},59792:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.dataShaper=t.DataShapeType=void 0,function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.ARRAY=3]="ARRAY",e[e.OBJECT=4]="OBJECT",e[e.NULL=5]="NULL",e[e.UNSUPPORTED=6]="UNSUPPORTED"}(n=t.DataShapeType||(t.DataShapeType={}));const o={string:n.STRING,number:n.NUMBER,boolean:n.BOOLEAN,object:n.OBJECT,array:n.ARRAY,null:n.NULL,symbol:n.UNSUPPORTED,undefined:n.UNSUPPORTED,function:n.UNSUPPORTED,bigint:n.UNSUPPORTED};t.dataShaper=function(e,n,r){void 0===n&&(n=5),void 0===r&&(r=5);const i=null===(a=e)?"null":typeof a;var a,s;if("object"===i){if(Array.isArray(e))return n>1?e.filter(((e,t)=>t<r)).map((e=>(0,t.dataShaper)(e,n-1,r))):o.array;if(n>1){const o={};for(const i in e)o[i]=(0,t.dataShaper)(e[i],n-1,r);return s=o,Object.keys(s).sort().reduce(((e,t)=>(e[t]=s[t],e)),{})}return o.object}return o[i]}},23046:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debugLogger=void 0;const r=(0,o(n(55899)).default)("flyde");t.debugLogger=e=>r.extend(e)},24331:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullInsIdPath=void 0,t.fullInsIdPath=function(e,t){if(!e)throw new Error("insId is not defined");return t?`${t}.${e}`:e}},34459:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashFlow=t.hashNode=void 0;const r=o(n(68805)),i=n(30292),a=e=>(0,r.default)(e);t.hashNode=function(e,t){void 0===t&&(t=!0);const{id:n,completionOutputs:o,reactiveInputs:r,inputs:s,outputs:l}=e,u={id:n,completionOutputs:o,reactiveInputs:r,inputs:s,outputs:l};if((0,i.isVisualNode)(e)){const{instances:n,connections:o,inputsPosition:r,outputsPosition:i}=e,s=n.map((e=>{const{pos:t,...n}=e;return n})),l=t?{}:{inputsPosition:r,outputsPosition:i},d=t?s:n;d.sort(((e,t)=>e.id.localeCompare(t.id)));const c=[...o];c.sort(((e,t)=>{const n=`${e.from.insId}.${e.from.pinId}`,o=`${t.from.insId}.${t.from.pinId}`;return n.localeCompare(o)}));const p=JSON.stringify({instancesToUse:d,conns:c,...u,maybeIoPos:l});return a(p)}throw new Error("Hashing code nodes unsupported")};t.hashFlow=e=>{const{node:n,imports:o}=e,r=(0,t.hashNode)(n,!1),i=Object.entries(null!=o?o:{}).sort(((e,t)=>{let[n]=e,[o]=t;return n.localeCompare(o)})).map((e=>{let[t,n]=e;return[t,n.sort()]})).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:o}}),{}),s=JSON.stringify(i);return a(r+s)}},86873:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DepGraph=void 0,r(n(3172),t),r(n(59962),t),r(n(23046),t),r(n(19121),t),r(n(59962),t),r(n(34459),t),r(n(39043),t),r(n(59792),t),r(n(24331),t),t.DepGraph=n(60359).DepGraph},3172:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testDataCreator=void 0;t.testDataCreator=e=>function(t){void 0===t&&(t={});return{..."function"==typeof e?e():e,...t}}},59962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simplePluralize=t.eventually=t.delay=t.noop=t.removeDupes=t.ensure=t.isOptionalType=t.callFnOrFnPromise=t.isPromise=t.isDefined=t.containsAll=t.shuffle=t.randomInts=t.repeat=t.pickRandom=t.randomPos=t.randomInt=t.pickSecond=t.pickFirst=t.fromEntries=t.entries=t.okeys=t.values=t.keys=t.filterOMap=t.mapOMap=t.middlePos=t.calcCenter=t.intersectRect=void 0;t.intersectRect=(e,t)=>{const n=e.x+e.w,o=t.x+t.w;return!(t.x>n||o<e.x||t.y>e.y+e.h||t.y+t.h<e.y)};t.calcCenter=e=>{let{w:t,h:n,x:o,y:r}=e;return{x:o+t/2,y:r+n/2}};t.middlePos=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});t.mapOMap=(e,n)=>(0,t.entries)(e).map((e=>{let[t,o]=e;return[t,n(t,o)]})).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:o}}),{});t.filterOMap=(e,n)=>(0,t.entries)(e).filter((e=>{let[t,o]=e;return n(t,o)})).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:o}}),{});t.keys=e=>Object.keys(e);t.values=e=>Object.values(e),t.okeys=t.keys;t.entries=e=>(0,t.okeys)(e).map((t=>[t,e[t]]));t.fromEntries=e=>e.reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:o}}),{});t.pickFirst=e=>e[0];t.pickSecond=e=>e[1];t.randomInt=function(e,t){void 0===t&&(t=0);const n=Math.random();return t+Math.floor((e-t)*n)};t.randomPos=function(e,n){void 0===e&&(e=1e3),void 0===n&&(n=0);return{x:(0,t.randomInt)(e,n),y:(0,t.randomInt)(e,n)}};t.pickRandom=e=>e[(0,t.randomInt)(e.length)];t.repeat=(e,t)=>"x".repeat(e).split("").map(((e,n)=>t(n)));t.randomInts=function(e,n,o){return void 0===n&&(n=100),void 0===o&&(o=0),(0,t.repeat)(e,(()=>(0,t.randomInt)(n,o)))};t.shuffle=e=>{const t=[...e];for(let n=t.length-1;n>=0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};t.containsAll=(e,t)=>t.every((t=>e.includes(t)));t.isDefined=e=>void 0!==e;t.isPromise=e=>e&&"function"==typeof e.then;t.callFnOrFnPromise=(e,n)=>{if(!(0,t.isDefined)(e))return;const o=e=>{try{e()}catch(t){console.error(n,t)}};"function"==typeof e?o(e):Promise.resolve(e).then((e=>{"function"==typeof e&&o(e)}))};t.isOptionalType=e=>/\?$/.test(e);t.ensure=(e,t)=>{if(void 0===e)throw new Error(t||"Undefined value passed");return e};t.removeDupes=e=>Array.from(new Set(e));t.noop=()=>{};t.delay=e=>new Promise((t=>setTimeout(t,e)));t.eventually=async function(e,n,o,r){if(void 0===n&&(n=1e3),void 0===o&&(o=100),void 0===r&&(r=new Set),n<0){const e=Array.from(r).reduce(((e,t,n)=>`${e}\n\t\t${n+1}. ${t}`),"");throw new Error(`[Eventually timeout exceeded after: timeout with error]: ${e}`)}try{await e()}catch(i){const a=Date.now();await(0,t.delay)(o);const s=Date.now()-a;return r.add(null==i?void 0:i.message),(0,t.eventually)(e,n-s,o,r)}},t.simplePluralize=function(e,t){return`${e} ${t}${1!==e?"s":""}`}},39043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileObjectTemplate=t.compileStringTemplate=void 0;t.compileStringTemplate=(e,t)=>{let n=decodeURIComponent(e);return Object.keys(t).forEach((e=>{const o=t[e],r=new RegExp("\\$\\{"+e+"\\}","g");n=n.replace(r,o)})),n};t.compileObjectTemplate=(e,t)=>{let n=decodeURIComponent(e);return Object.keys(t).forEach((e=>{const o=t[e],r=JSON.stringify(o),i=new RegExp('"\\$\\$\\{'+e+'\\}"',"g"),a=new RegExp("\\$\\{"+e+"\\}","g"),s="string"==typeof o?o.replace(/"/g,((e,t,n)=>"\\"!==n[t-1]?'\\"':n[t])):o;n=n.replace(i,r).replace(a,s).replace(/\n/g,"\\n")})),JSON.parse(n)}},69150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connection=t.connectionData=t.connectionDataEquals=t.connectionNodeEquals=t.connectionNode=t.externalConnectionNode=t.isInternalConnection=t.isExternalConnection=t.isInternalConnectionNode=t.isExternalConnectionNode=t.getNodeOutputs=t.getOutputName=t.getInputName=t.getNodeInputs=t.TRIGGER_PIN_ID=t.ERROR_PIN_ID=t.THIS_INS_ID=void 0;const o=n(30292);t.THIS_INS_ID="__this",t.ERROR_PIN_ID="__error",t.TRIGGER_PIN_ID="__trigger";t.getNodeInputs=e=>({...e.inputs,[t.TRIGGER_PIN_ID]:(0,o.nodeInput)()});t.getInputName=e=>e===t.TRIGGER_PIN_ID?"Trigger Node":e;t.getOutputName=e=>e===t.ERROR_PIN_ID?"Error":e;t.getNodeOutputs=e=>({...e.outputs,[t.ERROR_PIN_ID]:(0,o.nodeOutput)()});t.isExternalConnectionNode=e=>e&&e.insId===t.THIS_INS_ID;t.isInternalConnectionNode=e=>e.insId!==t.THIS_INS_ID;t.isExternalConnection=e=>{let{from:n,to:o}=e;return(0,t.isExternalConnectionNode)(n)||(0,t.isExternalConnectionNode)(o)};t.isInternalConnection=e=>!(0,t.isExternalConnection)(e);t.externalConnectionNode=e=>({insId:t.THIS_INS_ID,pinId:e});t.connectionNode=(e,t)=>({insId:e,pinId:t});t.connectionNodeEquals=(e,t)=>e.insId===t.insId&&e.pinId===t.pinId;t.connectionDataEquals=(e,n)=>!(!e||!n)&&((0,t.connectionNodeEquals)(e.from,n.from)&&(0,t.connectionNodeEquals)(e.to,n.to)),t.connectionData=function(e,n,o){const r="string"==typeof e?e.split("."):e,i="string"==typeof n?n.split("."):n;if(r.length>2||i.length>2)throw new Error(`invalid source or target to connection data - ${e} / ${n}`);return{from:2===r.length?(0,t.connectionNode)(r[0],r[1]):(0,t.externalConnectionNode)(r[0]),to:2===i.length?(0,t.connectionNode)(i[0],i[1]):(0,t.externalConnectionNode)(i[0]),delayed:o}};t.connection=function(e,t,n){return void 0===n&&(n=!1),{from:e,to:t,delayed:n}}},6775:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;const i=n(30292),a=n(47025),s=n(86873),l=n(69150);r(n(69150),t);t.connect=function(e,t,n,o,r,u,d){void 0===n&&(n={}),void 0===r&&(r={}),void 0===u&&(u=s.noop),void 0===d&&(d={});const{id:c,connections:p,instances:m}=e,f=c||"connected-node"+(0,s.randomInt)(999);return{inputs:e.inputs,outputs:e.outputs,id:f,completionOutputs:e.completionOutputs,reactiveInputs:e.reactiveInputs,run:(c,_)=>{let v=[];const b=new s.DepGraph({}),g=new Map,h=new Map,y=new Map,I=new Map,x=new Map,C=new Map;let w;const E=new Set;m.forEach((e=>{const n=(0,i.getNode)(e,t),o=e.id;g.set(e,o),h.set(o,e),b.addNode(o);const r=Object.keys(n.inputs),a=Object.keys(n.outputs),s={},u={};r.forEach((t=>{const n=(e.inputConfig||{})[t]||(0,i.queueInputPinConfig)();s[t]=(0,i.dynamicNodeInput)({config:n})})),s[l.TRIGGER_PIN_ID]=(0,i.dynamicNodeInput)({config:(0,i.queueInputPinConfig)()});if(p.some((t=>(0,l.isInternalConnectionNode)(t.to)&&t.to.insId===e.id&&t.to.pinId===l.TRIGGER_PIN_ID))&&e.inputConfig&&e.inputConfig[l.TRIGGER_PIN_ID])throw"Trigger connection can not be configured";a.forEach((e=>{const t=(0,i.dynamicOutput)();u[e]=t}));p.some((t=>(0,l.isInternalConnectionNode)(t.from)&&t.from.insId===e.id&&t.from.pinId===l.ERROR_PIN_ID))&&(u[l.ERROR_PIN_ID]=(0,i.dynamicOutput)()),y.set(o,s),I.set(o,u)}));const j=new Set;return p.forEach((n=>{const{from:o,to:r}=n,{insId:a,pinId:s}=o,{insId:u,pinId:d}=r,c=I.get(a),p=y.get(u);if((0,l.isInternalConnectionNode)(r)&&j.add(`${r.insId}.${r.pinId}`),(0,l.isExternalConnection)(n)){if((0,l.isExternalConnectionNode)(o)){const e=null==p?void 0:p[r.pinId];if(!e)throw new Error(`Input ${r.pinId} of instance ${u} not found`);const t=x.get(o.pinId)||[];t.push(e),x.set(o.pinId,t)}else{let e=null==c?void 0:c[o.pinId];if(!e)throw new Error(`Output ${o.pinId} of instance ${a} not found`);const t=C.get(r.pinId)||[];t.push(e),C.set(r.pinId,t)}return}if(!c)throw new Error(`No outputs found for instance [${a}]`);if(!p)throw h.has(u)?new Error(`No inputs found for instance [${u}]`):new Error(`Instance with id [${u}] does not exist!`);const m=c[s];if(!m)throw new Error(`Output source - [${s}] not found in node [${f}]`);const _=p[d],g=h.get(a);if(!g&&a!==l.THIS_INS_ID)throw new Error(`Instance [${a}] does not exist! failed to connect [${o}] -> [${r}]`);const w=(g?(0,i.getNode)(g,t):e).outputs[s];if(w&&w.delayed||n.delayed||a!==l.THIS_INS_ID&&u!==l.THIS_INS_ID&&b.addDependency(a,u),!_)throw new Error(`Target arg - [${r}] not found in node [${f}]`);const E=m.subscribe((async e=>{_.subject.next(e)}));v.push((()=>E.unsubscribe()))})),(0,s.okeys)(_).forEach((e=>{(C.get(e)||[]).forEach((t=>{const n=t.subscribe((async t=>{if(!_[e])throw new Error(`Impossible state - output ${e} does not exist`);_[e].next(t)}));v.push((()=>n.unsubscribe()))}))})),b.overallOrder().map((e=>h.get(e))).forEach((e=>{const s=y.get(e.id),l=I.get(e.id),c=(0,i.getNode)(e,t);if(!s)throw new Error(`Unexpected error - args not found when running ${e}`);if(!l)throw new Error(`Unexpected error - outputs not found when running ${e}`);for(const t in s)j.has(`${e.id}.${t}`)||delete s[t];const p=(0,a.execute)({node:c,inputs:s,outputs:l,resolvedDeps:t,_debugger:n,insId:e.id,extraContext:d,mainState:r,ancestorsInsIds:o,onBubbleError:u,onCompleted:()=>{return t=e.id,E.delete(t),void(0===E.size&&w&&w());var t},onStarted:()=>{return t=e.id,void E.add(t);var t}});v.push(p)})),Object.keys(c).forEach((async e=>{(x.get(e)||[]).forEach((t=>{const n=c[e];(0,s.isDefined)(n)&&t.subject.next(n)}))})),void 0===e.completionOutputs&&E.size>0?new Promise((e=>{w=e})):()=>v.forEach((e=>{try{e()}catch(t){console.error("error unsubscribing",t)}}))}}}},26488:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MINOR_DEBUGGER_EVENT_TYPES=t.MAJOR_DEBUGGER_EVENT_TYPES=t.DebuggerEventType=void 0,function(e){e.INPUT_CHANGE="i",e.OUTPUT_CHANGE="o",e.PROCESSING_CHANGE="pc",e.ERROR="err",e.INPUTS_STATE_CHANGE="isc"}(n=t.DebuggerEventType||(t.DebuggerEventType={})),t.MAJOR_DEBUGGER_EVENT_TYPES=[n.INPUT_CHANGE,n.OUTPUT_CHANGE,n.ERROR],t.MINOR_DEBUGGER_EVENT_TYPES=[n.PROCESSING_CHANGE,n.INPUTS_STATE_CHANGE]},43686:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvent=void 0;const o=n(26488);t.formatEvent=function(e){var t,n,r;const i=[e.insId,...null!==(n=null===(t=e.ancestorsInsIds)||void 0===t?void 0:t.split("."))&&void 0!==n?n:[]];(null===(r=e.ancestorsInsIds)||void 0===r?void 0:r.length)>0&&e.ancestorsInsIds;const a=`Node <${e.nodeId}> `,s=`| Ins. id: ${i.join(" -> ")}`;return`${a} - ${function(e){switch(e.type){case o.DebuggerEventType.PROCESSING_CHANGE:return e.val?"started processing":"stopped processing";case o.DebuggerEventType.INPUT_CHANGE:return`Input pin <${e.pinId}> received value: ${e.val}`;case o.DebuggerEventType.OUTPUT_CHANGE:return`Output pin <${e.pinId}> emitted value: ${e.val}`;case o.DebuggerEventType.INPUTS_STATE_CHANGE:return`Inputs queue size changed to ${Object.entries(e.val).map((e=>{let[t,n]=e;return`${t}: ${n}`})).join(", ")}`;case o.DebuggerEventType.ERROR:return`Error: ${e.val}`}}(e)} ${s}`}},99896:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(26488),t),r(n(43686),t)},47025:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.execute=t.GLOBAL_STATE_NS=t.ROOT_INS_ID=t.INPUTS_STATE_SUFFIX=t.INNER_STATE_SUFFIX=void 0;const i=n(62600),a=n(87794);r(n(99896),t);const s=n(30292),l=n(6775),u=n(84479),d=n(86873),c=n(23046),p=n(99896);t.INNER_STATE_SUFFIX="_inner",t.INPUTS_STATE_SUFFIX="_inputs";t.ROOT_INS_ID="__root",t.GLOBAL_STATE_NS="____global";t.execute=e=>{let{node:n,inputs:o,outputs:r,resolvedDeps:m,_debugger:f={},insId:_=t.ROOT_INS_ID,extraContext:v={},mainState:b={},ancestorsInsIds:g,onBubbleError:h=i.noop,onCompleted:y=i.noop,onStarted:I=i.noop}=e;const x=[];b[t.GLOBAL_STATE_NS]||(b[t.GLOBAL_STATE_NS]=new Map);const C=m,w=e=>{const t=e instanceof s.NodeInstanceError?e:new s.NodeInstanceError(e,(0,d.fullInsIdPath)(_,g),n.id);f.onEvent&&f.onEvent({type:p.DebuggerEventType.ERROR,val:t,insId:_,ancestorsInsIds:g,nodeId:n.id}),r[l.ERROR_PIN_ID]?r[l.ERROR_PIN_ID].next(t):h(t)},E=(e=>(0,s.isVisualNode)(e)?(0,l.connect)(e,C,f,(0,d.fullInsIdPath)(_,g),b,w,v):e)(n),j=f.onEvent||i.noop,T={},N={};(0,d.entries)(o).forEach((e=>{let[t,o]=e;const r=(0,s.dynamicNodeInput)({config:o.config}),i=o.subject.subscribe((async e=>{const o=j({type:p.DebuggerEventType.INPUT_CHANGE,insId:_,pinId:t,val:e,ancestorsInsIds:g,nodeId:n.id});if(o){const e=await o.valuePromise;r.subject.next(e)}else f.debugDelay&&await(0,d.delay)(f.debugDelay),r.subject.next(e)}));x.push((()=>i.unsubscribe())),N[t]=r})),(0,d.entries)(r).forEach((e=>{let[t,o]=e;const r=(0,s.dynamicOutput)(),i=r.subscribe((async e=>{const r=j({type:p.DebuggerEventType.OUTPUT_CHANGE,insId:_,pinId:t,val:e,ancestorsInsIds:g,nodeId:n.id});if(r){const e=await r.valuePromise;o.next(e)}else o.next(e)}));x.push((()=>i.unsubscribe())),T[t]=r}));const k=(e=>{var n,o;const{node:r,inputs:l,outputs:m,resolvedDeps:f,_debugger:_,insId:v,ancestorsInsIds:b,mainState:g,onError:h,onStarted:y,onCompleted:I,extraContext:x}=e,{run:C,fn:w}=r,E=(0,c.debugLogger)("core"),j=[];let T;const N=(null==_?void 0:_.onEvent)||i.noop,k=(0,d.fullInsIdPath)(v,b),S=`${k}${t.INNER_STATE_SUFFIX}`,O=`${k}${t.INPUTS_STATE_SUFFIX}`,P=E.extend(k),D=g[t.GLOBAL_STATE_NS];g[S]||(g[S]=new Map),g[O]||(g[O]=new Map);let M=null!==(n=g[O])&&void 0!==n?n:new Map;const V=()=>{const e=Array.from(M.entries()).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:(0,s.isQueueInputPinConfig)(l[n].config)?null==o?void 0:o.length:1}}),{});N({type:p.DebuggerEventType.INPUTS_STATE_CHANGE,val:e,insId:v,ancestorsInsIds:b,nodeId:r.id})},R={execute:(e,n,o,r)=>(0,t.execute)({node:e,inputs:n,outputs:o,resolvedDeps:f,_debugger:_,insId:r,onCompleted:I,onStarted:y}),insId:v,state:null!==(o=g[S])&&void 0!==o?o:new Map,onCleanup:e=>{j.push(e)},onError:e=>{h(e)},context:null!=x?x:{},ancestorsInsIds:b,globalState:D};let A,L=!1;const q=r.reactiveInputs||[],z=()=>{var e;null===(e=g[S])||void 0===e||e.clear(),(0,d.keys)(g).filter((e=>e.startsWith(`${k}.`))).forEach((e=>{g[e]=new Map}))},B=e=>{const t=(null==e?void 0:e.key)&&q.includes(null==e?void 0:e.key);if(L&&!t);else{const o=L&&t;if((0,u.isNodeStateValid)(l,M,r)||o){let t;if(L){if(!e)throw new Error("Unexpected state,  got reactive node while not processing and not valid");const n=(0,u.pullValueForExecution)(e.key,l[e.key],M);t={...A,[e.key]:n},V()}else t=(0,u.pullValuesForExecution)(l,M),A=t,V();let o=new Set,i={};if(L=!0,N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id}),r.completionOutputs){const e=r.completionOutputs.map((e=>e.split("+"))).reduce(((e,t)=>(t.forEach((n=>{e.set(n,t)})),e)),new Map);(0,d.entries)(m).forEach((t=>{let[n,s]=t;s.pipe((0,a.first)()).subscribe((t=>{o.add(n),i[n]=t;let a=e.get(n);a&&(a.splice(a.indexOf(n),1),0===a.length&&(L=!1,N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id}),I&&I(i),z(),(0,d.callFnOrFnPromise)(T,`Error with cleanup function of ${r.id}`),T=void 0,o.clear(),i={},(0,u.hasNewSignificantValues)(l,M,r.id)&&B()))}))}))}else(0,d.entries)(m).forEach((e=>{let[t,n]=e;n.subscribe((e=>{i[t]=e}))}));try{P("Running node %s with values %o",r.id,t),y&&y(),T=(null!=w?w:C)(t,m,R),(0,d.isPromise)(T)?T.then((()=>{void 0===r.completionOutputs&&I&&(L=!1,N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id}),I(i),z(),(0,u.hasNewSignificantValues)(l,M,r.id)&&B())})).catch((e=>{h(e),L=!1,P("Error in node %s - value %e",r.id,e),N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id})})):void 0===r.completionOutputs&&I&&(L=!1,N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id}),I(i),z())}catch(n){h(n),L=!1,P("Error in node %s - value %e",r.id,n),N({type:p.DebuggerEventType.PROCESSING_CHANGE,val:L,insId:v,ancestorsInsIds:b,nodeId:r.id})}const c=q.find((e=>l[e]&&(0,u.peekValueForExecution)(e,l[e],M,r.id)));if(c){const e=(0,u.peekValueForExecution)(c,l[c],M,r.id);B({key:c,value:e})}else{const e=(0,d.entries)(l).find((e=>{let[t,n]=e;const o=(0,s.isQueueInputPinConfig)(n.config),i=(0,u.peekValueForExecution)(t,n,M,r.id);return!!o&&(0,d.isDefined)(i)}));if(e){const[t,n]=e,o=(0,u.peekValueForExecution)(t,n,M,r.id);B({key:t,value:o})}}}}};B();const G=(0,u.subscribeInputsToState)(l,M,((e,t)=>{E("Got input %s - value is [%o]",e,t),V();try{B({key:e,value:t})}catch(n){h(n)}}));return j.push(G),()=>{(0,d.callFnOrFnPromise)(T,`Error with cleanup function of ${r.id}`),j.forEach((e=>e()))}})({node:E,inputs:N,outputs:T,resolvedDeps:C,_debugger:f,insId:_,mainState:b,ancestorsInsIds:g,onError:w,onBubbleError:h,extraContext:v,onCompleted:y,onStarted:I});return()=>{x.forEach((e=>e())),k()}}},84479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeInputsToState=t.isNodeStateValid=t.hasNewSignificantValues=t.peekValuesForExecution=t.pullValuesForExecution=t.pullValueForExecution=t.peekValueForExecution=void 0;const o=n(30292),r=n(86873),i=n(6775);t.peekValueForExecution=(e,t,n,r)=>{const i=n.get(e);let a;if(!t)throw new Error(`Trying to peek value of inexsting input in key "${e}" in node "${r}"`);return a=(0,o.isQueueInputPinConfig)(t.config)?i?[...i].shift():void 0:i,a};t.pullValueForExecution=(e,t,n)=>{const r=n.get(e);let i;return(0,o.isQueueInputPinConfig)(t.config)?(i=(r||[]).shift(),n.set(e,r)):(i=r,(0,o.isStickyInputPinConfig)(t.config)||n.delete(e)),i};t.pullValuesForExecution=(e,n)=>(0,r.entries)(e).reduce(((e,o)=>{let[r,i]=o;return e[r]=(0,t.pullValueForExecution)(r,i,n),e}),{});t.peekValuesForExecution=(e,n,o)=>(0,r.entries)(e).reduce(((e,r)=>{let[i,a]=r;return e[i]=(0,t.peekValueForExecution)(i,a,n,o),e}),{});t.hasNewSignificantValues=(e,n,i)=>(0,r.entries)(e).some((e=>{let[a,s]=e;const l=(0,o.isQueueInputPinConfig)(s.config),u=(0,t.peekValueForExecution)(a,s,n,i);return(0,r.isDefined)(u)&&l}));t.isNodeStateValid=(e,t,n)=>{const a=(0,r.keys)(e),s=(0,r.keys)(n.inputs).filter((e=>{var t;const o=null===(t=n.inputs[e])||void 0===t?void 0:t.mode;return!o||"required"===o}));a.includes(i.TRIGGER_PIN_ID)&&s.push(i.TRIGGER_PIN_ID);return!!(0,r.containsAll)(a,s)&&(0,r.entries)(e).filter((e=>{let[t]=e;return!!n.inputs[t]||t===i.TRIGGER_PIN_ID})).every((e=>{let[i,a]=e;var s;const l=t.get(i);return"optional"===((null===(s=n.inputs[i])||void 0===s?void 0:s.mode)||"required")||((0,o.isQueueInputPinConfig)(a.config)?(0,r.isDefined)(l)&&l.length>0:(0,r.isDefined)(l))}))};t.subscribeInputsToState=(e,t,n)=>{const i=[];return(0,r.entries)(e).forEach((e=>{let[r,a]=e;if(!a)return;const s=a.subject.subscribe((e=>{if((0,o.isQueueInputPinConfig)(a.config)){const o=t.get(r)||[];if(!Array.isArray(o))throw new Error(`impossible state - state of key ${r} is set but not an array`);o.push(e),t.set(r,o),n(r,e)}else t.set(r,e),n(r,e)}));i.push((()=>s.unsubscribe()))})),()=>i.forEach((e=>e()))}},5474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flydeFlowSchema=void 0;const o=n(29022),r=o.z.record(o.z.string(),o.z.string().or(o.z.array(o.z.string()))),i=o.z.strictObject({x:o.z.number(),y:o.z.number()}),a=o.z.discriminatedUnion("mode",[o.z.strictObject({mode:o.z.literal("queue")}),o.z.strictObject({mode:o.z.literal("sticky")})]),s=o.z.object({size:o.z.optional(o.z.enum(["small","regular","large"])),icon:o.z.optional(o.z.any()),color:o.z.optional(o.z.string()),cssOverride:o.z.optional(o.z.record(o.z.string()))}),l=o.z.object({pos:i.default({x:0,y:0}),id:o.z.string(),inputConfig:o.z.optional(o.z.record(o.z.string(),a)).default({}),visibleInputs:o.z.optional(o.z.array(o.z.string())),visibleOutputs:o.z.optional(o.z.array(o.z.string())),nodeId:o.z.optional(o.z.string()),node:o.z.optional(o.z.lazy((()=>p))),macroId:o.z.optional(o.z.string()),macroData:o.z.optional(o.z.any()),style:o.z.optional(s)}).refine((e=>e.node||e.nodeId||e.macroId&&void 0!==e.macroData),{message:"Instance must have either an inline node or refer to a nodeId, or be a macro instance"}),u=o.z.union([o.z.string(),o.z.object({mode:o.z.enum(["required","optional","required-if-connected"]),type:o.z.optional(o.z.string()),description:o.z.optional(o.z.string()),defaultValue:o.z.optional(o.z.any())})]),d=o.z.object({type:o.z.optional(o.z.string()),optional:o.z.optional(o.z.boolean()),delayed:o.z.optional(o.z.boolean()),description:o.z.optional(o.z.string())}),c=o.z.object({id:o.z.optional(o.z.string()),inputs:o.z.record(o.z.string(),u),outputs:o.z.record(o.z.string(),d),inputsPosition:o.z.optional(o.z.record(o.z.string(),i)),outputsPosition:o.z.optional(o.z.record(o.z.string(),i)),completionOutputs:o.z.optional(o.z.array(o.z.string())),reactiveInputs:o.z.optional(o.z.array(o.z.string())),defaultStyle:o.z.optional(s),description:o.z.optional(o.z.string()),searchKeywords:o.z.optional(o.z.array(o.z.string()))}),p=o.z.object({instances:o.z.array(l),connections:o.z.array(o.z.strictObject({from:o.z.strictObject({insId:o.z.string(),pinId:o.z.string()}),to:o.z.strictObject({insId:o.z.string(),pinId:o.z.string()}),delayed:o.z.optional(o.z.boolean()),hidden:o.z.optional(o.z.boolean())}))}).and(c);t.flydeFlowSchema=o.z.strictObject({imports:o.z.optional(r).default({}),node:p})},74762:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(86873),t),r(n(6775),t),r(n(47025),t),r(n(10418),t),r(n(30292),t),r(n(3320),t),r(n(5474),t)},3320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeWithDependencies=void 0;const o=n(74762),r=n(88270);t.getNodeWithDependencies=function(e,n,i){if(void 0===i&&(i=[]),i.includes(e.id))return[];const a=(0,o.removeDupes)(e.instances.filter((e=>(0,r.isRefNodeInstance)(e))).map((e=>e.nodeId)).filter((e=>n[e])));return[e,...a.flatMap((e=>{var t;return null!==(t=n[e])&&void 0!==t?t:[]})).reduce(((e,o)=>[...e,...(0,t.getNodeWithDependencies)(o,n,[...i,...a])]),[])]}},30292:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(88270),t),r(n(43069),t),r(n(79426),t),r(n(44535),t),r(n(18063),t),r(n(20359),t)},18063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeInstanceError=void 0;class n extends Error{constructor(e,t,n){let o="Unknown error";o="string"==typeof e?e:e instanceof Error?e.message:null!==e&&"object"==typeof e?JSON.stringify(e):String(e),super(`${o} (insId: ${t}, nodeId: ${n})`),this.name=this.constructor.name,this.message=`${o} (insId: ${t}, nodeId: ${n})`,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.fullInsIdsPath=t,this.nodeId=n}}t.NodeInstanceError=n},88270:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInsId=t.NodeInstance=t.isResolvedMacroNodeInstance=t.isMacroNodeInstance=t.isRefNodeInstance=t.isInlineNodeInstance=t.macroNodeInstance=t.inlineNodeInstance=t.nodeInstance=void 0;const o=n(36618);t.nodeInstance=(e,t,n,o)=>({id:e,nodeId:t,inputConfig:n||{},pos:o||{x:0,y:0}});t.inlineNodeInstance=(e,t,n,o)=>({id:e,node:t,inputConfig:n||{},pos:o||{x:0,y:0}});t.macroNodeInstance=(e,t,n,o,r)=>({id:e,macroId:t,macroData:n,inputConfig:o||{},nodeId:`${t}__${e}`,pos:r||{x:0,y:0}});t.isInlineNodeInstance=e=>!!e.node;t.isRefNodeInstance=e=>!!e.nodeId&&!e.macroId;t.isMacroNodeInstance=e=>!!e.macroId;t.isResolvedMacroNodeInstance=e=>!!e.macroId&&!!e.nodeId;t.NodeInstance=(e,t,n,o)=>({id:e,nodeId:t.id,inputConfig:n||{},pos:o||{x:0,y:0}});t.createInsId=e=>`${e.id}-${(0,o.slug)()}`},43069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicNodeInputs=t.dynamicNodeInput=t.dynamicOutput=t.nodeOutputs=t.nodeOutput=t.nodeInputs=t.isInputPinOptional=t.nodeInput=void 0;const o=n(62600),r=n(86873),i=n(79426);t.nodeInput=function(e){return void 0===e&&(e="required"),{mode:e}};t.isInputPinOptional=e=>"optional"===e.mode;t.nodeInputs=(e,n)=>(0,r.repeat)(e,(e=>(0,t.nodeInput)((null==n?void 0:n[e])||"required")));t.nodeOutput=function(e){return void 0===e&&(e=!1),{delayed:e}};t.nodeOutputs=e=>(0,r.repeat)(e,(()=>(0,t.nodeOutput)()));t.dynamicOutput=()=>new o.Subject,t.dynamicNodeInput=(0,r.testDataCreator)((()=>({subject:new o.Subject,config:(0,i.queueInputPinConfig)()})));t.dynamicNodeInputs=function(e){return void 0===e&&(e=10),(0,r.repeat)(e,(()=>(0,r.testDataCreator)((()=>({subject:new o.Subject,config:(0,i.queueInputPinConfig)()})))()))}},20359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeFromFunction=t.getNodeDef=t.getNode=t.fromSimplified=t.codeNode=t.visualNode=t.isVisualNode=t.isMacroNodeDefinition=t.extractMetadata=t.isMacroNode=t.isCodeNode=t.isBaseNode=void 0;const o=n(86873),r=n(88270),i=n(43069);t.isBaseNode=e=>e&&e.id&&e.inputs&&e.outputs;t.isCodeNode=e=>(0,t.isBaseNode)(e)&&"function"==typeof e.run;t.isMacroNode=e=>e&&"function"==typeof e.runFnBuilder;t.extractMetadata=e=>{const{id:t,displayName:n,description:o,namespace:r,defaultStyle:i,searchKeywords:a}=e;return{id:t,displayName:n,description:o,namespace:r,defaultStyle:i,searchKeywords:a}};t.isMacroNodeDefinition=e=>e&&"string"==typeof e.editorComponentBundleContent;t.isVisualNode=e=>!!e.instances,t.visualNode=(0,o.testDataCreator)({id:"visual-node",inputs:{},outputs:{},instances:[],connections:[],outputsPosition:{},inputsPosition:{}}),t.codeNode=(0,o.testDataCreator)({id:"node",inputs:{},outputs:{},run:o.noop});t.fromSimplified=e=>{let{run:t,inputTypes:n,outputTypes:r,id:i}=e;return{id:i,inputs:(0,o.entries)(n).reduce(((e,t)=>{let[n]=t;return{...e,[n]:{}}}),{}),outputs:(0,o.entries)(r).reduce(((e,t)=>{let[n]=t;return{...e,[n]:{}}}),{}),run:t}};t.getNode=(e,t)=>{const n=e;if("string"!=typeof n&&(0,r.isInlineNodeInstance)(n))return n.node;const o="string"==typeof n?n:n.nodeId,i=t[o];if(!i)throw new Error(`Node with id ${o} not found`);return i};t.getNodeDef=(e,t)=>{if("string"!=typeof e&&(0,r.isInlineNodeInstance)(e))return e.node;const n="string"==typeof e?e:e.nodeId,o=t[n];if(!o)throw console.error(`Node with id ${n} not found`),new Error(`Node with id ${n} not found`);return o};t.codeFromFunction=e=>{let{id:t,fn:n,inputNames:o,outputName:r,defaultStyle:a}=e;return{id:t,inputs:o.reduce(((e,t)=>({...e,[t]:(0,i.nodeInput)()})),{}),outputs:{[r]:(0,i.nodeOutput)()},run:(e,t)=>{const i=o.map((t=>e[t])),a=t[r],s=n(...i);return Promise.resolve(s).then((e=>null==a?void 0:a.next(e)))},completionOutputs:[r],defaultStyle:a}}},44535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeFromSimpleFunction=void 0,t.nodeFromSimpleFunction=function(e){var t;return{...e,id:e.id,description:e.description,namespace:e.namespace,inputs:e.inputs?e.inputs.reduce(((e,t)=>{let{name:n,description:o,mode:r,defaultValue:i}=t;return{...e,[n]:{description:o,mode:null!=r?r:"required",defaultValue:i}}}),{}):{},outputs:e.output?{[e.output.name]:{description:e.output.description}}:{},defaultStyle:{icon:e.icon,size:e.size},run:null!==(t=e.fullRunFn)&&void 0!==t?t:async function(t,n,o){var r,i;const a=(null!==(r=e.inputs)&&void 0!==r?r:[]).map((e=>{let{name:n}=e;return t[n]}));try{const t=await Promise.resolve(e.run(...a));e.output&&(null===(i=n[e.output.name])||void 0===i||i.next(t))}catch(s){console.error("Error in node",s),o.onError(s)}}}}},79426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStickyInputPinConfig=t.isQueueInputPinConfig=t.stickyInputPinConfig=t.queueInputPinConfig=t.INPUT_MODES=void 0,t.INPUT_MODES=["queue","sticky","static"];t.queueInputPinConfig=()=>({mode:"queue"});t.stickyInputPinConfig=()=>({mode:"sticky"});t.isQueueInputPinConfig=e=>"queue"===e.mode;t.isStickyInputPinConfig=e=>!!e&&"sticky"===e.mode},10418:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simplifiedExecute=void 0;const o=n(74762),r=n(47025);t.simplifiedExecute=function(e,t,n,i,a){void 0===n&&(n={}),void 0===a&&(a={});const s=(0,o.keys)(e.outputs),l=Object.keys(n).reduce(((e,t)=>({...e,[t]:(0,o.dynamicNodeInput)()})),{}),u=s.reduce(((e,t)=>{const n=(0,o.dynamicOutput)();return i&&n.subscribe((e=>{i(t,e)})),{...e,[t]:n}}),{}),d=(0,r.execute)({node:e,inputs:l,outputs:u,resolvedDeps:t,onBubbleError:e=>{throw e},...a});return Object.entries(n).forEach((e=>{let[t,n]=e;l[t].subject.next(n)})),d}},25779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodePreview=void 0;const o=n(35250),r=n(74762),i=n(86553);t.NodePreview=e=>{let{node:t}=e;const n={node:t,instance:(0,r.nodeInstance)("bob",t.id,{}),connections:[],viewPort:{pos:{x:0,y:0},zoom:1},resolvedDeps:{},connectionsPerInput:{},onUngroup:r.noop,onDblClick:r.noop,onDragEnd:r.noop,onDragMove:r.noop,onDragStart:r.noop,onPinClick:r.noop,onPinDblClick:r.noop,onSelect:r.noop,onTogglePinBreakpoint:r.noop,onTogglePinLog:r.noop,onToggleSticky:r.noop,displayMode:!0,onInspectPin:r.noop,ancestorsInsIds:"",onChangeVisibleInputs:r.noop,onChangeVisibleOutputs:r.noop,forceShowMinimized:"both",onExtractInlineNode:r.noop,onCloseInlineEditor:r.noop,isConnectedInstanceSelected:!1,inlineEditorPortalDomNode:null,onChangeStyle:r.noop,onDeleteInstance:r.noop,onGroupSelected:r.noop,onSetDisplayName:r.noop,hadError:!1,queuedInputsData:{},onPinMouseDown:r.noop,onPinMouseUp:r.noop};return(0,o.jsx)("div",{className:"node-preview",children:(0,o.jsx)(i.InstanceView,{...n})})}},30653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDarkMode=t.DarkModeProvider=void 0;const o=n(70079),r=(0,o.createContext)(!0);t.DarkModeProvider=r.Provider;t.useDarkMode=()=>(0,o.useContext)(r)},29183:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataInspectionModal=void 0;const s=n(35250),l=n(50382),u=a(n(26372)),d=i(n(70079)),c=n(74089),p=n(83938),m=n(17102),f=n(98158);t.DataInspectionModal=e=>{var t;const{onRequestHistory:n}=(0,f.useDebuggerContext)(),{item:o}=e,[r,i]=d.default.useState(),[a,_]=d.default.useState(0),[v,b]=d.default.useState(""),[g,h]=d.default.useState(),[y]=(0,c.useDebounce)(v,300);(0,d.useEffect)((()=>{h(null==r?void 0:r.lastSamples.filter((e=>"object"==typeof e.val?JSON.stringify(e.val).includes(y):e.val.toString().includes(y)))),_(0)}),[null==r?void 0:r.lastSamples,y]),d.default.useEffect((()=>{!async function(){var e,t;const r=await n(o.insId,null===(e=o.pin)||void 0===e?void 0:e.id,null===(t=o.pin)||void 0===t?void 0:t.type);i(r)}()}),[o,n]);const I=e=>{const t=e.val;return"object"==typeof t?(0,s.jsx)(p.BrowserOnlyReactJson,{src:t}):(0,s.jsx)(l.Code,{children:t.toString()})},x=`"${o.insId}" ${(null===(t=o.pin)||void 0===t?void 0:t.id)?`(${o.pin.id})`:""}`;return(0,s.jsx)(l.Dialog,{isOpen:!0,title:`Inspecting data for instance ${x}`,onClose:e.onClose,canEscapeKeyClose:!1,className:"data-inspection-modal",children:(0,s.jsx)("main",{className:(0,u.default)(l.Classes.DIALOG_BODY),tabIndex:0,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("header",{children:[r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("em",{children:[x," called ",r.total," time(s)"]}),r.total>10&&(0,s.jsx)("span",{children:"Showing last 10 samples"})]}):null,(0,s.jsx)("input",{className:"bp5-input bp5-small bp5-fill",type:"search",placeholder:"Search for values",dir:"auto",onChange:e=>b(e.target.value),value:v}),y.length>0&&(0,s.jsxs)("span",{children:["Showing ",null==g?void 0:g.length," of ",r.lastSamples.length," ",'samples matching query "',y,'"']})]}),(0,s.jsx)("main",{className:"main-wrapper",children:(()=>{if(!r)return(0,s.jsx)(m.Loader,{});if(0===r.total)return(0,s.jsxs)(l.Callout,{intent:"warning",children:["No events captured for instance ",(0,s.jsx)("em",{children:o.insId})," ",o.pin?(0,s.jsxs)(d.default.Fragment,{children:["and pin ",(0,s.jsx)("em",{children:o.pin.id})]}):null,". Make sure debugger is running and your program was triggered."]});const e=null==g?void 0:g[a];return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Card,{className:"content-wrapper",children:[e?(0,s.jsxs)("div",{className:"info",children:[(0,s.jsxs)("div",{children:["Showing sample ",a," of event from"," ",(0,s.jsx)("strong",{children:(0,c.timeAgo)(e.time)})," (",new Date(e.time).toLocaleString(),")"]}),(0,s.jsxs)("div",{children:["Instance: ",(0,s.jsx)("strong",{children:e.insId}),", Pin id:"," ",(0,s.jsx)("strong",{children:e.pinId})," "]}),(0,s.jsx)("div",{children:"Value:"})]}):null,I(e)]}),(0,s.jsx)(l.Menu,{className:"samples-menu",children:g.map(((e,t)=>{const n=e.pinId,o=`${r.total-t}. from pin "${n}"`;return(0,s.jsx)(l.MenuItem,{text:o,onClick:()=>_(t)},t)}))})]}):r.lastSamples.length>0&&v.length>0?(0,s.jsxs)(l.Callout,{intent:"warning",children:['No data found for search query "',v,'"']}):(0,s.jsxs)(l.Callout,{intent:"warning",children:["No events captured for instance ",o.insId," ",o.pin?`and ${o.pin.id}`:"",". Make sure a debugger is connected and your program was triggered."]})})()})]})})})}},40471:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(29183),t)},98158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebuggerContext=t.DebuggerContextProvider=void 0;const o=n(70079),r=(0,o.createContext)({onRequestHistory:()=>Promise.reject(new Error("Not implemented"))});t.DebuggerContextProvider=r.Provider;t.useDebuggerContext=()=>(0,o.useContext)(r)},86125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDependenciesContext=t.DependenciesContextProvider=void 0;const o=n(70079),r=(0,o.createContext)({resolvedDependencies:{},onImportNode:()=>Promise.reject(new Error("Not implemented")),onRequestImportables:()=>Promise.reject(new Error("Not implemented")),libraryData:{groups:[]}});t.DependenciesContextProvider=r.Provider;t.useDependenciesContext=()=>(0,o.useContext)(r)},97106:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.FlowEditor=void 0;const s=n(35250),l=i(n(70079)),u=n(74762),d=n(63521),c=n(68120),p=n(43490),m=n(68840),f=n(78087),_=n(20079),v=n(40471),b=n(98158),g=n(86125),h=n(30653),y=n(77852);a(n(43490),t),a(n(98158),t),a(n(86125),t),m.library.add(f.fab,_.fas);const I=["select","drag-move","order-step"];t.FlowEditor=l.memo(l.forwardRef(((e,t)=>{const{state:n,onChangeEditorState:o}=e,{resolvedDependencies:r}=(0,g.useDependenciesContext)(),[i,a]=l.useState([]),[m,f]=l.useState([]),{boardData:_}=n,x=n.flow.node,[C,w]=l.useState({}),[E,j]=l.useState(new Set),{debuggerClient:T}=(0,b.useDebuggerContext)();l.useEffect((()=>{if(T)return T.onBatchedEvents((e=>{e.forEach((e=>{e.type===u.DebuggerEventType.INPUTS_STATE_CHANGE&&w((t=>({...t,[e.insId]:e.val}))),e.type===u.DebuggerEventType.ERROR&&j((t=>{const n=new Set(t);return n.add(e.insId),n}))}))}))}),[T]);const{openFile:N}=(0,p.usePorts)(),k=l.useCallback(((e,t)=>{console.info("onChangeFlow",t.type),"functional"===t.type&&(a([{flow:{...n.flow,...e}},...i.slice(0,50)]),f([])),o((t=>({...t,flow:{...t.flow,...e}})))}),[o,n.flow,i]),[S,O]=l.useState({instances:[],connections:[]}),P=l.useCallback((e=>{o((t=>({...t,boardData:{...t.boardData,...e}})))}),[o]);l.useEffect((()=>{P({selected:[],viewPort:d.defaultViewPort,from:void 0,to:void 0,lastMousePos:{x:0,y:0}})}),[x.id]),(0,c.useHotkeys)("cmd+z",(e=>{f([...m,n]);const[t,...r]=i;t&&(o((e=>({...e,...t}))),a(r)),e.preventDefault()}),{text:"Undo last change",group:"Editing"},[n,i,m]);const D=l.useCallback(((e,t)=>{I.some((e=>t.message.includes(e)))||f([]),k({node:e},t)}),[k]),M=l.useCallback((e=>{N({absPath:e.source.path})}),[N]),[V,R]=l.useState(),A=l.useCallback((()=>R(void 0)),[]),L=l.useCallback(((e,t)=>{R({insId:e,pin:t})}),[]),{isDarkMode:q}=(0,y.useDarkMode)();return(0,s.jsx)("div",{className:"flyde-flow-editor",children:(0,s.jsx)(h.DarkModeProvider,{value:null!==(z=e.darkMode)&&void 0!==z?z:q,children:(0,s.jsxs)(l.Fragment,{children:[V?(0,s.jsx)(v.DataInspectionModal,{item:V,onClose:A}):null,(0,s.jsx)(d.VisualNodeEditor,{currentInsId:u.ROOT_INS_ID,ref:t,boardData:_,onChangeBoardData:P,node:x,onGoToNodeDef:M,onChangeNode:D,resolvedDependencies:r,clipboardData:S,onCopy:O,nodeIoEditable:!x.id.startsWith("Trigger"),onInspectPin:L,onExtractInlineNode:e.onExtractInlineNode,queuedInputsData:C,initialPadding:e.initialPadding,instancesWithErrors:E,disableScrolling:e.disableScrolling},x.id)]})})});var z})))},9001:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseNodeEditor=t.renderCreateIOOption=void 0;const r=n(35250),i=o(n(70079)),a=n(74762),s=n(50382),l=o(n(53865)),u=n(70457),d=n(25779);t.renderCreateIOOption=(e,t,n)=>(0,r.jsx)(s.MenuItem,{icon:"add",text:`Create "${e}"`,active:t,onClick:n,shouldDismissPopover:!1});const c=u.MultiSelect.ofType();t.BaseNodeEditor=e=>{var n,o;const{node:u,onChange:p}=e,m=(0,a.entries)(u.inputs),f=m.filter((e=>{let[,t]=e;return"required"===t.mode})).map((e=>{let[t]=e;return t})),_=m.filter((e=>{let[,t]=e;return"optional"===t.mode})).map((e=>{let[t]=e;return t})),v=m.filter((e=>{let[,t]=e;return"required-if-connected"===t.mode})).map((e=>{let[t]=e;return t})),[b,g]=i.default.useState(!1),h=(0,a.okeys)(u.outputs),y=i.default.useCallback((e=>{p({...u,id:e})}),[u,p]),I=i.default.useCallback((e=>{let t=e?e.split(","):void 0;"[]"===e&&(t=[]),p({...u,completionOutputs:t})}),[u,p]),x=i.default.useCallback((e=>{let t=e?e.split(","):void 0;p({...u,reactiveInputs:t})}),[u,p]),C=i.default.useCallback(((e,t)=>{const n=(0,l.default)(u,(n=>{n.inputs[e]=(0,a.nodeInput)(t)}));p(n)}),[u,p]),w=i.default.useCallback((e=>{const t=(0,l.default)(u,(t=>{delete t.inputs[e]}));p(t)}),[u,p]),E=i.default.useCallback((e=>{const t=(0,l.default)(u,(t=>{t.outputs[e]=(0,a.nodeOutput)()}));p(t)}),[u,p]),j=i.default.useCallback((e=>{const t=(0,l.default)(u,(t=>{delete t.outputs[e]}));p(t)}),[u,p]);return(0,r.jsxs)("div",{className:"base-node-editor",children:[(0,r.jsx)("div",{className:"form-row",children:(0,r.jsx)(s.FormGroup,{label:"Node Name",labelFor:"text-input",labelInfo:"(required)",children:(0,r.jsx)(s.InputGroup,{id:"node-name",disabled:e.idDisabled,placeholder:"Node ID",value:u.id,onChange:e=>y(e.target.value)})})}),(0,r.jsx)(s.FormGroup,{label:"Required Inputs",children:(0,r.jsx)(c,{selectedItems:f,placeholder:"Enter input names here",items:[],tagRenderer:e=>e,onItemSelect:e=>C(e,"required"),onRemove:w,resetOnSelect:!0,itemRenderer:e=>(0,r.jsx)("span",{children:e}),createNewItemFromQuery:e=>e,createNewItemRenderer:t.renderCreateIOOption,fill:!0})}),!0!==e.hiddenOutputs?(0,r.jsx)(s.FormGroup,{label:"Outputs",children:(0,r.jsx)(c,{selectedItems:h,placeholder:"Enter output names here",items:[],tagRenderer:e=>e,onItemSelect:E,onRemove:j,resetOnSelect:!0,itemRenderer:e=>(0,r.jsx)("span",{children:e}),createNewItemFromQuery:e=>e,createNewItemRenderer:t.renderCreateIOOption,fill:!0})}):null,(0,r.jsx)(s.Checkbox,{checked:b,onChange:e=>g(e.target.checked),children:"Show advanced options"}),(0,r.jsxs)(s.Collapse,{isOpen:b,children:[(0,r.jsx)(s.FormGroup,{label:"Optional Inputs",children:(0,r.jsx)(c,{selectedItems:_,placeholder:"Enter input names here",items:[],tagRenderer:e=>e,onItemSelect:e=>C(e,"optional"),onRemove:w,resetOnSelect:!0,itemRenderer:e=>(0,r.jsx)("span",{children:e}),createNewItemFromQuery:e=>e,createNewItemRenderer:t.renderCreateIOOption,fill:!0})}),(0,r.jsx)(s.FormGroup,{label:"Required-if-connected Inputs",children:(0,r.jsx)(c,{selectedItems:v,placeholder:"Enter input names here",items:[],tagRenderer:e=>e,onItemSelect:e=>C(e,"required-if-connected"),onRemove:w,resetOnSelect:!0,itemRenderer:e=>(0,r.jsx)("span",{children:e}),createNewItemFromQuery:e=>e,createNewItemRenderer:t.renderCreateIOOption,fill:!0})}),(0,r.jsx)(s.FormGroup,{label:"Completion Outputs",children:(0,r.jsx)(s.InputGroup,{id:"completion-outputs",placeholder:"completion outputs",value:(null===(n=u.completionOutputs)||void 0===n?void 0:n.join(","))||"",onChange:e=>I(e.target.value)})}),(0,r.jsx)(s.FormGroup,{label:"Reactive Inputs",children:(0,r.jsx)(s.InputGroup,{id:"reactive-inputs",placeholder:"Reactive inputs",value:(null===(o=u.reactiveInputs)||void 0===o?void 0:o.join(","))||"",onChange:e=>x(e.target.value)})})]}),(0,r.jsx)(s.FormGroup,{label:"Preview",children:(0,r.jsx)("div",{className:"preview-wrapper",children:(0,r.jsx)(d.NodePreview,{node:u})})})]})}},82232:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metaChange=t.functionalChange=void 0;t.functionalChange=e=>({type:"functional",message:e});t.metaChange=function(e){return void 0===e&&(e="n/a"),{type:"meta",message:e}}},41032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safelyGetNodeDef=t.loadingDef=void 0;const o=n(74762);t.loadingDef={id:"Loading",displayName:"Loading definition",inputs:{},outputs:{}};t.safelyGetNodeDef=(e,n)=>{try{return(0,o.getNodeDef)(e,n)}catch(r){const n="string"==typeof e?e:e.nodeId;return{...t.loadingDef,id:n}}}},60698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},43490:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(31874),t)},31874:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.usePorts=t.useConfirm=t.usePrompt=t.PortsContext=t.defaultPorts=void 0;const i=n(70079),a=n(74762),s=n(84472);r(n(60698),t);const l=e=>async()=>{console.warn(`${e} Not implemented`),(0,s.toastMsg)("Feature not implemented in this context yet","warning")};t.defaultPorts={prompt:async e=>{let{text:t,defaultValue:n}=e;return prompt(`${t}`,n)},openFile:async e=>{},confirm:async e=>{let{text:t}=e;return confirm(t)},readFlow:l("readFlow"),setFlow:l("setFlow"),resolveDeps:l("resolveDeps"),getImportables:l("getImportables"),onExternalFlowChange:l("onExternalFlowChange"),onInstallRuntimeRequest:l("onInstallRuntimeRequest"),onRunFlow:l("onRunFlow"),onStopFlow:l("onStopFlow"),reportEvent:a.noop,generateNodeFromPrompt:l("generateNodeFromPrompt"),hasOpenAiToken:()=>Promise.resolve(!1),getLibraryData:()=>Promise.resolve({groups:[]})},t.PortsContext=(0,i.createContext)(t.defaultPorts);t.usePrompt=()=>{const e=(0,i.useContext)(t.PortsContext).prompt;return(t,n)=>e({text:t,defaultValue:n})};t.useConfirm=()=>{const e=(0,i.useContext)(t.PortsContext).confirm;return t=>e({text:t})};t.usePorts=()=>(0,i.useContext)(t.PortsContext)},65758:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.groupSelected=void 0;const r=n(74762),i=o(n(53865)),a=n(22513);t.groupSelected=async(e,t,n,o,s)=>{const{instances:l,connections:u}=t,d=l.filter((t=>e.includes(t.id))),c=u.filter((t=>{let{from:n,to:o}=t;return-1!==e.indexOf(n.insId)||-1!==e.indexOf(o.insId)}));if(!d.length)throw new Error("visual without selections");const{visualNode:p,renamedInputs:m,renamedOutputs:f}=await(0,a.createGroup)(d,c,n,s),_=d.reduce(((e,t)=>(0,r.middlePos)(t.pos,e)),l[0].pos),v="ref"===o?(0,r.nodeInstance)((0,r.createInsId)(p),p.id,{},_):(0,r.inlineNodeInstance)((0,r.createInsId)(p),p,{},_),b=l.filter((t=>-1===e.indexOf(t.id))),g=u.map((e=>{const t=`${e.from.insId}.${e.from.pinId}`,n=`${e.to.insId}.${e.to.pinId}`;return m[n]?{...e,to:{insId:v.id,pinId:m[n]}}:f[t]?{...e,from:{insId:v.id,pinId:f[t]}}:e})).filter((t=>-1===e.indexOf(t.from.insId)&&-1===e.indexOf(t.to.insId)));return{newNode:p,currentNode:(0,i.default)(t,(e=>{e.instances=[...b,v],e.connections=g}))}}},74089:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(97106),t),r(n(18420),t),r(n(90680),t),r(n(84472),t),r(n(17102),t),r(n(82232),t),r(n(25779),t),r(n(25804),t),r(n(9958),t),r(n(68120),t),r(n(94651),t),r(n(73470),t),r(n(94007),t),r(n(60190),t),r(n(9001),t),r(n(7047),t),r(n(23386),t)},31745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoTooltip=void 0;const o=n(35250),r=n(50382),i=n(50382),a=n(44470),s=n(50382);t.InfoTooltip=e=>{const{content:t}=e;return(0,o.jsx)(i.Tooltip,{content:t,placement:"top",className:"info-tooltip",children:(0,o.jsx)(r.Icon,{icon:(0,o.jsx)(a.InfoSign,{className:s.Classes.INTENT_PRIMARY}),intent:r.Intent.SUCCESS,className:"info-tooltip-icon"})})}},83938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserOnlyReactJson=void 0;const o=n(35250);t.BrowserOnlyReactJson=e=>{if("undefined"==typeof window)return null;const t=n(73541).Z;return(0,o.jsx)(t,{...e})}},94651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsValueRenderer=void 0;const o=n(35250),r=n(74762),i=n(83938);t.AnalyticsValueRenderer=e=>{let{val:t}=e;try{const e=JSON.parse(t),n="object"==typeof e?e:{value:e},a=e&&[e.type,e.key,e.props,e.ref].every(r.isDefined),s=a?{jsxValue:e}:n;return(0,o.jsx)(i.BrowserOnlyReactJson,{src:s,collapseStringsAfterLength:50,collapsed:a})}catch(n){return(0,o.jsx)(i.BrowserOnlyReactJson,{src:{value:t},collapseStringsAfterLength:50})}}},22513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGroup=void 0;const o=n(74762),r=n(74762),i=n(60190),a=n(88593);t.createGroup=async(e,t,n,s)=>{if(0===e.length)throw new Error("cannot create group without instances");const l=e.map((e=>e.id)),u=t.filter((e=>{const t=l.includes(e.from.insId),n=l.includes(e.to.insId);return!t&&n})).filter(((e,t,n)=>n.findIndex((t=>(0,r.connectionNodeEquals)(t.to,e.to)))===t)),d=t.filter((e=>{const t=l.includes(e.from.insId),n=l.includes(e.to.insId);return t&&!n})).filter(((e,t,n)=>n.findIndex((t=>(0,r.connectionNodeEquals)(t.from,e.from)))===t));let c={},p={},m={},f={};const _=[],v={};for(const o of u){const e=`${o.to.insId}.${o.to.pinId}`,t=`${o.from.insId}.${o.from.pinId}`,n=o.to.pinId;if(m[t]){_.push({from:(0,r.externalConnectionNode)(m[t]),to:(0,r.connectionNode)(o.to.insId,o.to.pinId)});continue}const a=v[n]?await s(`Name this input (${n} of ${o.to.insId}) is already taken:`)||`i${(0,i.rnd)()}`:n;c[e]=a,m[t]=a,_.push({from:(0,r.externalConnectionNode)(a),to:(0,r.connectionNode)(o.to.insId,o.to.pinId)}),v[a]=(0,r.nodeInput)()}const b={};for(const a of d){const e=`${a.to.insId}.${a.to.pinId}`,t=`${a.from.insId}.${a.from.pinId}`,n=a.from.pinId;if(f[e]){_.push({from:(0,r.connectionNode)(a.from.insId,a.from.pinId),to:(0,r.externalConnectionNode)(f[e])});continue}const l=b[n]?await s(`Name this output (${n} of ${a.from.insId} is already taken:`)||`i${(0,i.rnd)()}`:n;p[t]=l,f[e]=l,_.push({from:(0,r.connectionNode)(a.from.insId,a.from.pinId),to:(0,r.externalConnectionNode)(l)}),b[l]=(0,o.nodeOutput)()}e.reduce(((e,t)=>(0,r.middlePos)(t.pos,e)),e[0].pos);const g=t.filter((e=>l.includes(e.from.insId)&&l.includes(e.to.insId)));return{visualNode:{id:n,inputs:v,outputs:b,instances:e,defaultStyle:{size:"large",color:(0,o.pickRandom)(a.nodeStylePresetColors.map((e=>e.color)))},inputsPosition:(0,o.okeys)(v).reduce(((e,t,n)=>({...e,[t]:{x:0+100*n,y:0}})),{}),outputsPosition:(0,o.okeys)(b).reduce(((e,t,n)=>({...e,[t]:{x:0+100*n,y:400}})),{}),connections:[...g,..._],completionOutputs:(0,o.okeys)(b)},renamedInputs:c,renamedOutputs:p}}},9958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightText=void 0;const o=n(35250);function r(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}t.highlightText=(e,t)=>{let n=0;const i=t.split(/\s+/).filter((e=>e.length>0)).map(r);if(0===i.length)return[e];const a=new RegExp(i.join("|"),"gi"),s=[];for(;;){const t=a.exec(e);if(!t)break;const r=t[0].length,i=e.slice(n,a.lastIndex-r);i.length>0&&s.push(i),n=a.lastIndex,s.push((0,o.jsx)("strong",{children:t[0]},n))}const l=e.slice(n);return l.length>0&&s.push(l),s}},17102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;const o=n(35250);t.Loader=()=>(0,o.jsx)("div",{className:"loader",children:(0,o.jsx)("svg",{width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#007ec6",children:(0,o.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,o.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,o.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),(0,o.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})})},23386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;const o=n(74762);t.logger=(0,o.debugLogger)("editor")},561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preloadMonaco=void 0;const o=n(51848),r=n(23386);let i=!1;t.preloadMonaco=()=>{i||o.loader.init().then((()=>{(0,r.logger)("monaco preloaded"),i=!0}))}},68120:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHotkeys=t.currentHotkeys=void 0;const r=o(n(45240)),i=n(70079);t.currentHotkeys=new Map,t.useHotkeys=function(e,n,o,a,s){void 0===a&&(a=[]);const l=(0,i.useCallback)((function(){s&&!s.current||n(...arguments)}),[...a,n]);(0,i.useEffect)((()=>((0,r.default)(e,{},l),t.currentHotkeys.set(e,o),()=>{t.currentHotkeys.delete(e),r.default.unbind(e,l)})),[e,l,o])}},94007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeSessionStorage=t.safeLocalStorage=void 0,t.safeLocalStorage={getItem:function(){try{return localStorage.getItem(...arguments)}catch(e){return null}},setItem:function(){try{return localStorage.setItem(...arguments)}catch(e){return null}}},t.safeSessionStorage={getItem:function(){try{return sessionStorage.getItem(...arguments)}catch(e){return null}},setItem:function(){try{return sessionStorage.setItem(...arguments)}catch(e){return null}}}},90680:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalStorage=t.useResizePref=t.userPreferences=t.useUserPref=void 0;const a=i(n(70079)),s=n(18420),l=n(94007);t.useUserPref=(e,n)=>{const[o,r]=a.useState((()=>{const o=t.userPreferences.getItem(e);return(0,s.isDefined)(o)?o:n}));a.useEffect((()=>{const o=t.userPreferences.getItem(e),i=(0,s.isDefined)(o)?o:n;r(i)}),[e]);return[o,n=>{t.userPreferences.setItem(e,n),r(n)}]},t.userPreferences=(()=>{const e=e=>`up.${e}`;return{getItem:t=>{const n=l.safeLocalStorage.getItem(e(t))||"",o=l.safeSessionStorage.getItem(e(t))||"";try{return JSON.parse(o||n).value}catch(r){return}},setItem:function(t,n,o){void 0===o&&(o=!1);const r=o?sessionStorage:l.safeLocalStorage;try{const o=JSON.stringify({value:n});return r.setItem(e(t),o),!0}catch(i){return console.error("Error saving user preference",i),!1}}}})();t.useResizePref=(e,n)=>{const o=`resize.${e}`;return(0,t.useUserPref)(o,n)};const u=e=>{const t=l.safeLocalStorage.getItem(e);if(!t)return null;try{return JSON.parse(t).value}catch(n){return null}};t.useLocalStorage=(e,t)=>{const[n,o]=a.useState(u(e)||t),r=a.useCallback((t=>{l.safeLocalStorage.setItem(e,JSON.stringify({value:t})),o(t)}),[e]);return a.useEffect((()=>{u(e)||l.safeLocalStorage.setItem(e,JSON.stringify({value:t}))}),[e,t,r]),[n,r]}},60190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.totalEnergy=t.itrPhysics=t.hookes=t.coulombs=t.vToStr=t.vNorm=t.vLen=t.vSub=t.vAdd=t.vDiv=t.vMul=t.vZero=t.rnd=t.vec=t.size=void 0;t.size=(e,t)=>({width:e,height:t});t.vec=(e,t)=>({x:e,y:t});t.rnd=function(e,t){return void 0===e&&(e=100),void 0===t&&(t=0),Math.floor(Math.random()*(e-t))+t},t.vZero={x:0,y:0};t.vMul=(e,t)=>{let{x:n,y:o}=e;return{x:n*t,y:o*t}};t.vDiv=(e,n)=>{let{x:o,y:r}=e;return(0,t.vMul)({x:o,y:r},1/n)};t.vAdd=(e,t)=>({x:e.x+t.x,y:e.y+t.y});t.vSub=(e,n)=>(0,t.vAdd)(e,(0,t.vMul)(n,-1));t.vLen=e=>{let{x:t,y:n}=e;return Math.sqrt(t*t+n*n)};t.vNorm=e=>(0,t.vDiv)(e,(0,t.vLen)(e)||1);t.vToStr=e=>{let{x:t,y:n}=e;return`${t.toFixed(1)},${n.toFixed(1)}`};t.coulombs=(e,n,o)=>{const r=(0,t.vLen)((0,t.vSub)(e.p,n.p));if(0===r){const r=(0,t.vec)(2*Math.random()-1,2*Math.random()-1),i=e.m*n.m/Math.pow(10,2);return(0,t.vMul)(r,i*o)}{const i=(0,t.vNorm)((0,t.vSub)(n.p,e.p)),a=e.m*n.m/Math.pow(r+.1,2);return(0,t.vMul)(i,a*o)}};t.hookes=(e,n,o,r,i)=>{const a=(0,t.vLen)((0,t.vSub)(e.p,n.p)),s=(0,t.vNorm)((0,t.vSub)(e.p,n.p));let l=0;return a<o?l=o-a:a>r&&(l=r-a),(0,t.vMul)(s,i*l)};t.itrPhysics=(e,n)=>{const{p:o,v:r,f:i,m:a}=n,s=(0,t.vDiv)(i,a),l=e/1e3,u=(0,t.vAdd)((0,t.vMul)(s,l),r),d=(0,t.vAdd)((0,t.vMul)(u,l),o);return{...n,p:d,v:u,f:(0,t.vec)(0,0)}};t.totalEnergy=e=>e.reduce(((e,n)=>{const o=(0,t.vLen)(n.v);return e+.5*n.m*o*o}),0)},84472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateToast=t.toastMsg=t.AppToaster=void 0;const o=n(50382);t.AppToaster=(()=>{try{return o.OverlayToaster.create({className:"app-toaster",position:o.Position.BOTTOM_RIGHT})}catch(e){return{}}})();t.toastMsg=(e,n,o)=>t.AppToaster.show({message:e,intent:n,timeout:o});t.updateToast=(e,n,o)=>t.AppToaster.show({message:n,intent:o},e)},18420:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.preventDefaultAnd=t.isLocal=t.fullTime=t.timeAgoFromDt=t.timeAgo=t.toString=t.isDefined=t.set=t.createOmap=t.toOmap=t.values=t.keys=t.entries=void 0;const r=n(7047),i=o(n(73136));t.entries=e=>Object.keys(e).map((t=>[t,e[t]]));t.keys=e=>Object.keys(e);t.values=e=>Object.keys(e).map((t=>e[t]));t.toOmap=e=>Array.from(e.entries()).reduce(((e,t)=>{let[n,o]=t;return{...e,[n]:o}}),{});t.createOmap=function(e){return void 0===e&&(e=[]),e.reduce(((e,t)=>({...e,[t[0]]:t[1]})),{})};t.set=(e,t,n)=>{e[t]=n};t.isDefined=e=>void 0!==e;t.toString=e=>{const t=typeof e;if(""===e)return"(empty string)";if((0,r.isJsxValue)(e))return"JSX Value";if("object"===t)try{const t=JSON.stringify(e);return"{}"===t?"Empty object":t}catch(n){return"Object (cannot stringify)"}return`${e}`};t.timeAgo=e=>(0,i.default)(new Date(e)).fromNow();t.timeAgoFromDt=e=>(0,i.default)(Date.now()-e).fromNow();t.fullTime=e=>(0,i.default)(new Date(e)).toString();t.isLocal=()=>location.href.includes(":300");t.preventDefaultAnd=e=>t=>{t.preventDefault(),e(t)}},1237:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HelpBubble=void 0;const r=n(70079),i=n(35250),a=n(50382),s=n(99489),l=n(50382),u=o(n(70079)),d=n(68120),c=n(71644),p=n(43490),m={offset:{enabled:!0,options:{offset:[0,20]}},preventOverflow:{enabled:!0,options:{padding:10}}};const f=["Viewport Controls","Editing","Selection"];t.HelpBubble=()=>{const[e,t]=u.default.useState(!1),n=Array.from(d.currentHotkeys.entries()).map((e=>{let[t,n]=e;return{combo:(o={key:t,menuData:n}).key,label:o.menuData.text,group:o.menuData.group};var o})).reduce(((e,t)=>(e[t.group]||(e[t.group]=[]),e[t.group].push(t),e)),{}),o=Object.entries(n).sort(((e,t)=>f.indexOf(t[0])-f.indexOf(e[0]))),{reportEvent:_}=(0,p.usePorts)(),v=(0,i.jsx)(a.Dialog,{isOpen:e,onClose:()=>t(!1),children:(0,i.jsx)("div",{className:a.Classes.DIALOG_BODY,children:o.map((e=>{let[t,n]=e;return(0,i.jsxs)(u.default.Fragment,{children:[(0,i.jsx)(a.H4,{children:t}),n.map((e=>(0,r.createElement)(s.Hotkey,{...e,key:e.combo})))]},t)}))})}),b=(0,i.jsxs)(a.Menu,{children:[(0,i.jsx)(a.MenuItem,{text:"Hotkeys",onClick:()=>{t(!0),_("helpMenuItem",{item:"hotkeys"})}}),(0,i.jsx)(a.MenuItem,{text:"Documentation",onClick:()=>_("helpMenuItem",{item:"documentation"}),href:"https://www.flyde.dev/docs",target:"_blank"}),(0,i.jsx)(a.MenuDivider,{}),(0,i.jsx)(a.MenuItem,{text:"Discord",onClick:()=>_("helpMenuItem",{item:"discord"}),href:"https://discord.gg/x7t4tjZQP8",target:"_blank"})]});return(0,i.jsxs)("div",{className:"help-bubble","data-tip":"Help",children:[(0,i.jsx)(l.Popover,{content:b,modifiers:m,onOpened:()=>_("helpMenuOpen",{}),children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:c.helpIcon}})}),v]})}},71644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.helpIcon=void 0,t.helpIcon='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M11.29 15.29C11.247 15.3375 11.2069 15.3876 11.17 15.44C11.1322 15.4957 11.1019 15.5563 11.08 15.62C11.0512 15.6767 11.031 15.7374 11.02 15.8C11.0151 15.8666 11.0151 15.9334 11.02 16C11.0166 16.1312 11.044 16.2613 11.1 16.38C11.1449 16.5041 11.2166 16.6168 11.3099 16.7101C11.4032 16.8034 11.5159 16.8751 11.64 16.92C11.7597 16.9729 11.8891 17.0002 12.02 17.0002C12.1509 17.0002 12.2803 16.9729 12.4 16.92C12.5241 16.8751 12.6368 16.8034 12.7301 16.7101C12.8234 16.6168 12.8951 16.5041 12.94 16.38C12.9844 16.2584 13.0048 16.1294 13 16C13.0008 15.8684 12.9755 15.7379 12.9258 15.6161C12.876 15.4943 12.8027 15.3834 12.71 15.29C12.617 15.1963 12.5064 15.1219 12.3846 15.0711C12.2627 15.0203 12.132 14.9942 12 14.9942C11.868 14.9942 11.7373 15.0203 11.6154 15.0711C11.4936 15.1219 11.383 15.1963 11.29 15.29ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20V20ZM12 7C11.4731 6.99966 10.9553 7.13812 10.4989 7.40144C10.0425 7.66476 9.66347 8.04366 9.4 8.5C9.32765 8.61382 9.27907 8.7411 9.25718 8.87418C9.23529 9.00726 9.24055 9.14339 9.27263 9.27439C9.30472 9.40538 9.36297 9.52854 9.44389 9.63643C9.5248 9.74433 9.62671 9.83475 9.74348 9.90224C9.86024 9.96974 9.98945 10.0129 10.1233 10.0292C10.2572 10.0454 10.393 10.0345 10.5225 9.99688C10.6521 9.9593 10.7727 9.89591 10.8771 9.81052C10.9814 9.72513 11.0675 9.61951 11.13 9.5C11.2181 9.3474 11.345 9.22078 11.4978 9.13298C11.6505 9.04518 11.8238 8.9993 12 9C12.2652 9 12.5196 9.10536 12.7071 9.29289C12.8946 9.48043 13 9.73478 13 10C13 10.2652 12.8946 10.5196 12.7071 10.7071C12.5196 10.8946 12.2652 11 12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8946 11.7348 14 12 14C12.2652 14 12.5196 13.8946 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V12.82C13.6614 12.58 14.2174 12.1152 14.5708 11.5069C14.9242 10.8985 15.0525 10.1853 14.9334 9.49189C14.8143 8.79849 14.4552 8.16902 13.919 7.71352C13.3828 7.25801 12.7035 7.00546 12 7V7Z"/>\n</svg>\n'},3354:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(1237),t)},79354:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MacroInstanceEditor=void 0;const s=n(35250),l=n(50382),u=n(74762),d=a(n(26372)),c=n(14035),p=i(n(70079)),m=n(39936);t.MacroInstanceEditor=e=>{var t;const{deps:n,ins:o}=e,[r,i]=p.default.useState(o.macroData),a=(0,p.useMemo)((()=>{const e=n[o.macroId];if(!e||!(0,u.isMacroNodeDefinition)(e))throw new Error(`Macro ${o.macroId} not found `);return e}),[n,o.macroId]),f=(0,p.useMemo)((()=>{const e=n[o.macroId];if(!e||!(0,u.isMacroNodeDefinition)(e))throw new Error(`Macro ${o.macroId} not found `);return(0,m.loadMacroEditor)(e)}),[n,o]);return(0,s.jsxs)(l.Dialog,{isOpen:!0,title:`Edit ${null!==(t=a.displayName)&&void 0!==t?t:a.id} Configuration`,onClose:e.onCancel,className:"macro-instance-editor no-drag",children:[(0,s.jsx)("main",{className:(0,d.default)(l.Classes.DIALOG_BODY),tabIndex:0,children:(0,s.jsx)(c.ErrorBoundary,{fallback:(0,s.jsx)("span",{children:"bob"}),children:(0,s.jsx)(f,{value:r,onChange:i})})}),(0,s.jsx)("div",{className:l.Classes.DIALOG_FOOTER,children:(0,s.jsxs)("div",{className:l.Classes.DIALOG_FOOTER_ACTIONS,children:[(0,s.jsx)(l.Button,{onClick:e.onCancel,children:"Cancel"}),(0,s.jsx)(l.Button,{onClick:()=>e.onSubmit(r),intent:l.Intent.PRIMARY,className:"save-btn",children:"Save"})]})})]})}},25660:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(79354),t)},39936:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadMacroEditor=void 0;const jsx_runtime_1=__webpack_require__(35250),react_1=__importDefault(__webpack_require__(70079)),Blueprint=__importStar(__webpack_require__(50382)),BlueprintSelect=__importStar(__webpack_require__(70457));function loadMacroEditor(macroNode){const w=window,{id:id,editorComponentBundleContent:editorComponentBundleContent}=macroNode,exportId=`__MacroNode__${id}`;w.React=react_1.default,w.Blueprint=Blueprint,w.BlueprintSelect=BlueprintSelect;try{eval(editorComponentBundleContent);const compModule=w[exportId],comp=(null==compModule?void 0:compModule.default)||compModule;return comp?(w.Comp=comp,comp):function(){return(0,jsx_runtime_1.jsxs)("span",{children:["Failed to load macro node - please check that bundle that ",id," ","exposes an editable component to window.",exportId]})}}catch(e){return console.error(e),function(){return(0,jsx_runtime_1.jsxs)("span",{children:["Failed to load macro node - please check that bundle that ",id," exposes an editable component to window.",exportId]})}}}exports.loadMacroEditor=loadMacroEditor},7011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainInstanceEventsIndicator=void 0;const o=n(35250),r=n(30994),i=n(66189),a=n(50382);t.MainInstanceEventsIndicator=e=>{const{currentInsId:t,ancestorsInsIds:n}=e,{history:s,refreshHistory:l,resetHistory:u}=(0,i.useHistoryHelpers)(t),d=`main-indicator-${t}}`;return(0,o.jsx)("div",{className:"main-instance-events-indicator",children:(0,o.jsx)(a.Tooltip,{content:(0,i.calcHistoryContent)(s),children:(0,o.jsx)("span",{onMouseEnter:l,onMouseOut:u,id:(0,r.getMainInstanceIndicatorDomId)(t,n),className:"status-text","data-tip":"","data-html":!0,"data-for":d})})})}},22714:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7011),t)},15617:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AddNodeMenu=t.AddNodeMenuFilterTree=void 0;const s=n(35250),l=n(50382),u=n(74762),d=a(n(26372)),c=i(n(70079)),p=n(43490),m=n(31745),f=n(17102),_=n(84418),v=n(95385),b=n(44470);t.AddNodeMenuFilterTree=l.Tree.ofType();function g(e,t,n){return[...e.external.map((e=>({id:e.module,label:e.module,hasCaret:!0,nodeData:{type:"external",module:e.module},isSelected:"external"===(null==t?void 0:t.type)&&t.module===e.module,isExpanded:n.has(e.module),childNodes:e.namespaces.map((o=>({id:`${e.module}/${o}`,label:o,hasCaret:!1,isSelected:"external"===(null==t?void 0:t.type)&&t.module===e.module&&t.namespace===o,isExpanded:n.has(`${e.module}/${o}`),nodeData:{type:"external",module:e.module,namespace:o}})))}))),{id:"internal",label:"Current Project",nodeData:{type:"internal"},isExpanded:n.has("internal"),hasCaret:!0,isSelected:"internal"===t.type,childNodes:e.internal.files.map((e=>({id:e,label:e,isSelected:"internal"===t.type&&t.file===e,hasCaret:!1,isExpanded:n.has(e),nodeData:{type:"internal",file:e}})))}]}function h(e){return/\.flyde(\.[jt]s)?$/.test(e.module)}t.AddNodeMenu=e=>{const{onRequestImportables:n,onAddNode:o,onClose:r}=e,[i,a]=c.default.useState(),[y,I]=c.default.useState([]),[x,C]=c.default.useState(new Set),[w,E]=c.default.useState(""),[j,T]=c.default.useState({type:"all"}),[N,k]=c.default.useState(null),[S,O]=c.default.useState(null),[P,D]=c.default.useState(null),M=(0,c.useCallback)((e=>{x.add(e.id),C(new Set(x))}),[x]),V=(0,c.useCallback)((e=>{x.delete(e.id),C(new Set(x))}),[x]),R=(0,c.useCallback)((e=>{o(e),r()}),[o,r]),{onInstallRuntimeRequest:A,reportEvent:L}=(0,p.usePorts)();(0,c.useEffect)((()=>{L("addNodeMenuOpen",{})}),[L]),(0,c.useEffect)((()=>{O(null==i?void 0:i.flatMap((e=>{var t,n,o,r;if(j)if("external"===j.type){if((e.module!==j.module||j.namespace)&&e.node.namespace!==j.namespace)return[]}else if("internal"===j.type&&(!h(e)||j.file&&e.module!==j.file))return[];if(w){const i=`${null!==(n=null===(t=e.node.searchKeywords)||void 0===t?void 0:t.join(" "))&&void 0!==n?n:[]} ${e.node.id} ${null!==(o=e.node.displayName)&&void 0!==o?o:""} ${null!==(r=e.node.namespace)&&void 0!==r?r:""} ${e.node.description}`.toLowerCase().indexOf(w.toLowerCase());return-1===i?[]:[{importable:e,score:i}]}return[{importable:e,score:1}]})).sort(((e,t)=>e.score-t.score)).map((e=>{let{importable:t}=e;return t})))}),[i,j,w]),(0,c.useEffect)((()=>{n().then((e=>{let{importables:t,errors:n}=e;I(n);const o=t.filter((e=>!h(e))).reduce(((e,t)=>{var n,o,r;null!==(n=e[r=t.module])&&void 0!==n||(e[r]=[]);const i=null!==(o=t.node.namespace)&&void 0!==o?o:"";return e[t.module].includes(i)||e[t.module].push(i),e}),{}),r=t.filter(h).map((e=>e.module));k({external:Object.entries(o).map((e=>{let[t,n]=e;return{module:t,namespaces:n}})),internal:{files:r}}),a(t),C(new Set(["internal",...Object.keys(o)]))}))}),[n]);const q=(0,c.useCallback)((e=>{switch(e.key){case"ArrowDown":case"ArrowUp":if(e.preventDefault(),S&&!P)return void D(S["ArrowDown"===e.key?0:S.length-1]);if(S&&P){const t=S.findIndex((e=>e===P));let n="ArrowDown"===e.key?t+1:t-1;n=n<0?S.length-1:n,n=n>=S.length?0:n,D(S[n])}break;case"Enter":P&&R(P)}}),[S,P,R]),z=(0,c.useCallback)((e=>{let{nodeData:t}=e;JSON.stringify(t)===JSON.stringify(j)?"external"===t.type?t.namespace?T({type:"external",module:t.module}):T({type:"all"}):"internal"===t.type&&(t.file?T({type:"internal"}):T({type:"all"})):T(t)}),[j]),B=!i||i.some((e=>e.module.includes("@flyde/stdlib"))),G=(0,c.useCallback)((()=>{A(),r()}),[r,A]);return(0,s.jsx)(l.Dialog,{isOpen:!0,title:"Add Node Menu",onClose:e.onClose,className:"add-node-menu",isCloseButtonShown:!0,children:(0,s.jsxs)("main",{className:(0,d.default)(l.Classes.DIALOG_BODY),children:[(0,s.jsxs)("header",{children:[(0,s.jsxs)("div",{className:"bp5-input-group",children:[(0,s.jsx)(b.Search,{}),(0,s.jsx)("input",{className:"bp5-input",type:"search",placeholder:"Search input",dir:"auto",autoFocus:!0,onChange:e=>E(e.target.value),value:w,onKeyDown:q})]}),B?null:(0,s.jsxs)(l.Callout,{intent:l.Intent.NONE,style:{marginTop:10},children:["Using built-in @flyde/stdlib. It's recommended to explicitly install it instead."," ",(0,s.jsx)(l.Button,{minimal:!0,small:!0,intent:l.Intent.PRIMARY,onClick:G,children:"Click here to install it using npm/yarn"})]})]}),(0,s.jsx)("div",{className:"content-wrapper",children:i?(0,s.jsxs)(c.default.Fragment,{children:[(0,s.jsxs)("aside",{children:[(0,s.jsxs)("div",{className:"filter-header",children:["Filter by package"," ",(0,s.jsx)(l.Tooltip,{content:(0,s.jsxs)("span",{children:["Click to learn more about how packages work in Flyde"," "]}),hoverCloseDelay:1500,children:(0,s.jsx)("a",{target:"_blank",href:"https://www.flyde.dev/docs/packages",rel:"noreferrer",children:(0,s.jsx)(l.Icon,{icon:(0,s.jsx)(b.Help,{}),intent:"primary",iconSize:12})})})]}),(0,s.jsx)("div",{className:"tree-container",children:(0,s.jsx)(t.AddNodeMenuFilterTree,{contents:g(N,j,x),onNodeCollapse:V,onNodeExpand:M,onNodeClick:z,className:l.Classes.ELEVATION_0})})]}),(0,s.jsx)("main",{children:S?0===S.length?(0,s.jsxs)("div",{className:"no-results",children:[(0,s.jsx)(v.AddNodeMenuResultsSummary,{filter:j,onChangeFilter:T,query:w,onChangeQuery:E,resultsCount:S.length}),(0,s.jsxs)(l.Callout,{className:"callout",intent:"primary",children:["Can't find a suitable node? Create one yourself!"," ",(0,s.jsx)("a",{href:"https://www.flyde.dev/docs/code-nodes",target:"_blank",rel:"noreferrer",children:"Learn more"})]})]}):(0,s.jsxs)(c.default.Fragment,{children:[(0,s.jsx)(v.AddNodeMenuResultsSummary,{filter:j,onChangeFilter:T,query:w,onChangeQuery:E,resultsCount:S.length}),(0,s.jsx)("div",{className:"results",children:S.map((e=>(0,s.jsx)(_.AddNodeMenuListItem,{importableNode:e,onAdd:R,selected:(null==P?void 0:P.node)===e.node,onSelect:D,onSetFilter:T},e.node.id+e.node.namespace+e.module)))})]}):(0,s.jsx)(f.Loader,{})})]}):(0,s.jsx)(f.Loader,{})}),y.length>0?(0,s.jsxs)(l.Callout,{intent:"warning",style:{marginTop:"10px"},children:["Found ",(0,u.simplePluralize)(y.length,"corrupt flow"),(0,s.jsx)(m.InfoTooltip,{content:y.map((e=>{let{path:t,message:n}=e;return`${t}: ${n}`})).join(", ")})," "]}):null]})})}},2470:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AddNodeMenuListItem=void 0;const s=n(35250),l=n(50382),u=a(n(26372)),d=i(n(70079));t.AddNodeMenuListItem=e=>{const{importableNode:t,onSetFilter:n,onAdd:o,onSelect:r}=e,{node:i,module:a}=t,{id:c,description:p,displayName:m}=i,f=d.default.useRef(null);d.default.useEffect((()=>{e.selected&&f.current&&f.current.scrollIntoView({block:"center"})}),[e.selected]);const _=(0,d.useCallback)((()=>{o(t)}),[o,t]),v=(0,d.useCallback)((()=>{r(t)}),[r,t]);return(0,s.jsxs)("div",{className:(0,u.default)("add-node-menu-list-item",{selected:e.selected}),ref:f,onClick:v,children:[(0,s.jsxs)("div",{className:"content",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("span",{className:"name",children:null!=m?m:c}),(0,s.jsxs)(l.Tag,{interactive:!0,onClick:()=>n({type:"external",module:a,namespace:i.namespace}),className:"source",minimal:!0,children:[a,i.namespace?` / ${i.namespace}`:null]})]}),(0,s.jsx)("div",{className:"description",children:p||(0,s.jsx)("em",{children:"No description"})})]}),(0,s.jsx)("aside",{children:(0,s.jsx)(l.Button,{onClick:_,children:"Add"})})]})}},84418:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2470),t)},63582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddNodeMenuResultsSummary=void 0;const o=n(35250),r=n(50382);t.AddNodeMenuResultsSummary=e=>{const{resultsCount:t,query:n,filter:i,onChangeFilter:a,onChangeQuery:s}=e;return(0,o.jsxs)("div",{className:"add-node-menu-results-summary",children:[t?`Showing ${t} result${t>1?"s":""}`:"No results found","\xa0",n?(0,o.jsxs)(o.Fragment,{children:["matching query\xa0",(0,o.jsxs)(r.Tag,{minimal:!0,interactive:!0,onRemove:()=>s(""),children:['"',n,'"']})]}):null,"all"===i.type?null:"external"===i.type?(0,o.jsxs)(o.Fragment,{children:["from \xa0",(0,o.jsxs)(r.Tag,{minimal:!0,interactive:!0,onRemove:()=>a({type:"all"}),children:["package ",i.module,i.namespace?` / ${i.namespace}`:null]})]}):(0,o.jsxs)(o.Fragment,{children:["from \xa0",(0,o.jsxs)(r.Tag,{minimal:!0,interactive:!0,onRemove:()=>a({type:"all"}),children:["\xa0this project ",i.file?` / ${i.file}`:null]})]})]})}},95385:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(63582),t)},90542:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(15617),t)},15742:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodesLibrary=void 0;const s=n(35250),l=n(50382),u=a(n(26372)),d=i(n(70079)),c=n(86125),p=n(90542),m=n(30653),f=n(77852);t.NodesLibrary=(0,d.memo)((e=>{var t,n;const{groups:o}=e,[r,i]=d.default.useState(!1),[a,_]=d.default.useState(!1),v=(0,f.useIsFirstRender)(),[b,g]=d.default.useState(!1),{onRequestImportables:h}=(0,c.useDependenciesContext)(),y=(0,m.useDarkMode)(),[I,x]=(0,d.useState)(null!==(n=null===(t=o[0])||void 0===t?void 0:t.title)&&void 0!==n?n:"");return(0,d.useEffect)((()=>{v||_(!0)}),[r]),(0,d.useEffect)((()=>{o.length&&x(o[0].title)}),[o]),(0,s.jsxs)("div",{className:(0,u.default)("nodes-library",{closed:r,open:!r,animate:a,dark:y}),children:[(0,s.jsx)("div",{className:"header",onClick:()=>i(!r),children:(0,s.jsx)("strong",{children:"Nodes Library"})}),(0,s.jsx)("div",{className:"list",children:o.map((t=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:(0,u.default)("group-title",{open:I===t.title,selected:I===t.title}),onClick:()=>x(t.title),children:t.title}),(0,s.jsx)("div",{className:"group-items",children:t.nodes.map((t=>{var n;return(0,s.jsx)("div",{className:"group-item",onClick:()=>e.onAddNode({module:"@flyde/stdlib",node:t}),children:(0,s.jsx)(l.Tooltip,{content:t.description,portalClassName:"menu-tooltip",compact:!0,minimal:!0,children:null!==(n=t.displayName)&&void 0!==n?n:t.id})})}))})]})))}),(0,s.jsx)("div",{className:"view-all-container",children:(0,s.jsx)("div",{className:"view-all",children:(0,s.jsx)(l.Button,{minimal:!0,small:!0,onClick:()=>g(!0),intent:"primary",children:"View all"})})}),b?(0,s.jsx)(p.AddNodeMenu,{onRequestImportables:h,onAddNode:e.onAddNode,onClose:()=>g(!1)}):null]})}))},86997:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(15742),t)},90911:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RunFlowModal=void 0;const s=n(35250),l=i(n(70079)),u=a(n(51848)),d=n(50382),c=a(n(26372)),p=n(90680),m=n(31745),f=n(43490);t.RunFlowModal=l.memo((function(e){const{onClose:t,node:n}=e,{onRunFlow:o}=(0,f.usePorts)(),[r,i]=l.useState(0),[a,_]=(0,p.useLocalStorage)(`run-inputs-${n.id}`,Object.keys(n.inputs).reduce(((e,t)=>(e[t]=`Enter a value for input ${t}`,e)),{})),[v,b]=l.useState(JSON.stringify(a,null,2)),g=e=>{e&&e.updateOptions({lineNumbers:"off",minimap:{enabled:!1}})},h=l.useCallback((()=>{const e=JSON.parse(v);_(e),o(e,r),t()}),[v,_,o,r,t]),y=Object.keys(n.inputs),I=y.filter((e=>"required"!==n.inputs[e].mode)),x=l.useMemo((()=>y.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("strong",{children:"This node receives external inputs. Enter values for each input below:"}),(0,s.jsx)(u.default,{height:"80px",theme:"vs-dark",defaultLanguage:"json",value:v,onChange:e=>b(null!=e?e:""),onMount:g}),I.length>0?(0,s.jsxs)(d.Callout,{intent:d.Intent.NONE,children:["Note: input(s) ",(0,s.jsx)("code",{children:I.join(", ")})," are optional"]}):null]}):(0,s.jsx)("strong",{children:"This node does not receive any external inputs."})),[y.length,I,v]);return(0,s.jsxs)(d.Dialog,{isOpen:!0,onClose:e.onClose,className:"run-flow-modal",children:[(0,s.jsxs)("main",{className:(0,c.default)(d.Classes.DIALOG_BODY),onKeyDown:e=>{"Enter"===e.key&&e.metaKey&&h()},tabIndex:0,children:[x,(0,s.jsxs)("div",{className:"execution-delay-wrapper",children:[(0,s.jsxs)("label",{children:["Execution delay:"," ",(0,s.jsx)(m.InfoTooltip,{content:"Delay between each node execution. Useful for debugging."})]}),(0,s.jsx)(d.Slider,{value:r,onChange:i,min:0,labelStepSize:500,stepSize:100,labelRenderer:e=>`${e}ms`,max:1e3})]})]}),(0,s.jsx)("div",{className:d.Classes.DIALOG_FOOTER,children:(0,s.jsxs)("div",{className:d.Classes.DIALOG_FOOTER_ACTIONS,children:[(0,s.jsx)(d.Button,{onClick:t,children:"Close"}),(0,s.jsx)(d.Button,{onClick:h,intent:d.Intent.PRIMARY,className:"run-btn",children:"Run"})]})})]})}))},80589:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(90911),t)},38370:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionIndicator=void 0;const r=n(35250),i=n(50382),a=n(70079),s=n(30653),l=o(n(26372));t.SelectionIndicator=e=>{const{selection:t,onCenter:n,onGroup:o,onDelete:u}=e,d=(0,s.useDarkMode)(),c=(0,a.useMemo)((()=>{switch(t.type){case"input":return(0,r.jsxs)("span",{children:[(0,r.jsxs)("strong",{children:['"',t.pinId,'"']})," input selected"]});case"output":return(0,r.jsxs)("span",{children:[(0,r.jsxs)("strong",{children:['"',t.pinId,'"']})," output selected"]});case"instances":return(0,r.jsxs)("span",{children:[t.ids.length," instance",t.ids.length>1?"s":""," selected"]})}}),[t]);return(0,r.jsxs)("div",{className:(0,l.default)("selection-indicator",{dark:d}),children:[c," ",(0,r.jsx)(i.Button,{onClick:n,small:!0,minimal:!0,outlined:!0,children:"Center"}),"instances"===t.type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Button,{onClick:o,small:!0,minimal:!0,outlined:!0,children:"Group"}),(0,r.jsx)(i.Button,{onClick:()=>u(t.ids),small:!0,minimal:!0,outlined:!0,intent:"danger",children:"Delete"})]}):null]})}},8319:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(38370),t)},63521:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VisualNodeEditor=t.defaultBoardData=t.defaultViewPort=t.NODE_HEIGHT=void 0;const s=n(35250),l=i(n(70079)),u=n(74762),d=n(86553),c=n(65082),p=n(18420),m=n(26701),f=n(7047),_=n(53865),v=n(70079),b=n(68120),g=a(n(27942)),h=n(50382),y=n(66005),I=n(60190),x=n(71033),C=n(74762),w=n(99942),E=n(44338),j=n(561),T=n(84472),N=n(82232),k=n(65758),S=n(43490),O=a(n(26372)),P=n(25044),D=n(80510),M=n(2130),V=n(88593),R=n(97106),A=n(22714),L=n(3354),q=n(41032),z=n(30653),B=n(25660),G=n(8319),F=n(86997),H=n(80589),$=n(44470),U=l.memo(h.Slider),J=()=>null;t.NODE_HEIGHT=28,t.defaultViewPort={pos:{x:0,y:0},zoom:1},t.defaultBoardData={selected:[],viewPort:t.defaultViewPort,lastMousePos:{x:0,y:0}},t.VisualNodeEditor=l.memo(l.forwardRef(((e,n)=>{const{onChangeNode:o,nodeIoEditable:r,onCopy:i,onGoToNodeDef:a,onInspectPin:Z,boardData:Y,onChangeBoardData:K,currentInsId:Q,ancestorsInsIds:X,node:ee,resolvedDependencies:te,queuedInputsData:ne,initialPadding:oe,disableScrolling:re}=e,{onImportNode:ie,libraryData:ae}=(0,R.useDependenciesContext)(),se=(0,z.useDarkMode)(),{reportEvent:le}=(0,S.usePorts)(),ue=e.parentViewport||t.defaultViewPort,[de,ce]=(0,v.useState)({...te,[ee.id]:ee});(0,v.useEffect)((()=>{ce({...te,[ee.id]:ee})}),[te,ee]);const{selected:pe,from:me,to:fe}=Y,{instances:_e,connections:ve,inputsPosition:be,outputsPosition:ge,inputs:he,outputs:ye}=ee,[Ie,xe]=(0,v.useState)(),[Ce,we]=(0,v.useState)(),Ee=void 0===X,[je,Te]=(0,v.useState)(),[Ne,ke]=(0,v.useState)(!1),[Se,Oe]=(0,v.useState)(!1),[Pe,De]=(0,v.useState)(),[Me,Ve]=(0,v.useState)(),[Re,Ae]=(0,v.useState)(),Le=(0,v.useRef)();(0,m.useDidMount)((()=>{Le.current=Ke.current.querySelector(".inline-editor-portal-root")}));const qe=(0,S.useConfirm)(),ze=(0,S.usePrompt)(),Be=Y.viewPort,Ge=(0,v.useRef)(!0),[Fe,He]=(0,v.useState)(null),$e=l.useCallback((e=>{K({viewPort:e})}),[K]),Ue=l.useCallback(((e,t)=>Z(e,t)),[Z]),Je=l.useCallback(((e,t,n)=>{const r=(0,D.handleConnectionCloseEditorCommand)(ee,{from:e,to:t});o(r,(0,N.functionalChange)("close-connection")),K({from:void 0,to:void 0}),le("createConnection",{source:n})}),[o,K,ee,le]),We=l.useCallback((async()=>{const e=await ze("New visual node name?");if(!e)return;const{currentNode:t}=await(0,k.groupSelected)(Y.selected,ee,e,"inline",ze);o(t,(0,N.functionalChange)("group node")),K({selected:[]}),(0,T.toastMsg)("Node grouped"),le("groupSelected",{count:Y.selected.length})}),[ze,Y.selected,ee,o,K,le]);(0,v.useEffect)((()=>{if(je){const e=setTimeout((()=>{Te(void 0)}),350);return()=>clearTimeout(e)}}),[je]);const[Ze,Ye]=(0,v.useState)();(0,v.useEffect)((()=>{(0,j.preloadMonaco)()}),[]);const Ke=(0,v.useRef)(),Qe=(0,g.default)(Ke),Xe=l.useRef({x:400,y:400}),et=(0,m.useBoundingclientrect)(Ke)||I.vZero,tt=()=>{const e=(0,f.fitViewPortToNode)(ee,de,Qe);(0,f.animateViewPort)(Be,e,500,(e=>{$e(e)}))},nt=l.useCallback(((e,t)=>{const{to:n,from:o}=Y,r="input"===t?o:n,i="input"===t?n:o,a={pinId:e,insId:u.THIS_INS_ID},s="input"===t?{from:a}:{to:a};r&&r.pinId===e?K({from:void 0,to:void 0}):i?"input"===t&&n?Je(a,n,"nodeIoClick"):o&&Je(o,a,"nodeIoClick"):K(s)}),[Y,K,Je]),ot=l.useCallback(((e,t,n)=>{const r=(0,_.produce)(ee,(o=>{"input"===e?o.inputs[t].description=n:o.outputs[t].description=n}));o(r,(0,N.functionalChange)("Node io description"))}),[o,ee]),rt=l.useCallback(((e,t,n)=>{const{from:o,to:r}=Y;if(me&&me.insId===e.id||fe&&fe.insId===e.id)K({from:void 0,to:void 0});else if("input"===n){const n={insId:e.id,pinId:t};!r||r.pinId!==t||(0,u.isInternalConnectionNode)(r)&&r.insId!==e.id?me?Je(me,n,"pinClick"):K({to:n,selected:[]}):K({to:void 0})}else{const n={insId:e.id,pinId:t};!o||o.pinId!==t||(0,u.isInternalConnectionNode)(o)&&o.insId!==e.id?fe?Je(n,fe,"pinClick"):K({from:n,selected:[]}):K({from:void 0})}}),[Y,me,K,Je,fe]);(0,v.useEffect)((()=>{if(!Ne&&Qe.width){const t=(0,f.fitViewPortToNode)(ee,de,Qe,oe);$e(t);const n=setTimeout((()=>{const t=(0,f.fitViewPortToNode)(ee,de,Qe,oe);e.thumbnailMode||$e(t),ke(!0)}),100);return()=>clearTimeout(n)}}),[ee,oe,Qe,e.thumbnailMode,Ne,de,$e]);const it=l.useCallback((()=>{const{selected:e}=Y,t=ee.instances.filter((t=>e.includes(t.id))).map((e=>({...e,id:e.id+"-copy"}))),n=ee.connections.filter((t=>{let{from:n,to:o}=t;return e.includes(n.insId)&&e.includes(o.insId)}));i({instances:t,connections:n})}),[Y,i,ee]),at=l.useCallback((()=>{const{newNode:t,newInstances:n}=(0,P.pasteInstancesCommand)(ee,Xe.current,e.clipboardData);o(t,(0,N.functionalChange)("paste instances")),K({selected:n.map((e=>e.id))})}),[o,K,ee,e.clipboardData]),st=l.useCallback((()=>{const e=ee.id;Ze?"input"===Ze.type?Ze.ins.id===e?nt(Ze.pin,"input"):rt(Ze.ins,Ze.pin,"input"):Ze.ins.id===e?nt(Ze.pin,"output"):rt(Ze.ins,Ze.pin,"output"):console.warn("tried selecting closest with no pin nearby")}),[ee.id,Ze,nt,rt]),lt=l.useCallback(((e,t)=>{const n=Math.min(Math.max(e,.1),3),o="mouse"===t?Xe.current:{x:Be.pos.x+Qe.width/2,y:Be.pos.y+Qe.height/2},r=(0,f.centerBoardPosOnTarget)(o,Qe,n,Be);$e({...Be,zoom:n,pos:r})}),[$e,Be,Qe]);(0,b.useHotkeys)("cmd+=",(e=>{lt(Be.zoom+.1,"hotkey"),e.preventDefault()}),{text:"Zoom in board",group:"Viewport Controls"},[Be,lt],Ge),(0,b.useHotkeys)("cmd+-",(e=>{lt(Be.zoom-.1,"hotkey"),e.preventDefault()}),{text:"Zoom out board",group:"Viewport Controls"},[lt,Be.zoom],Ge),(0,b.useHotkeys)("cmd+o",(e=>{e.preventDefault(),(0,T.toastMsg)("Ordering");const t=[];(0,w.orderVisualNode)(ee,de,200,((e,n)=>{n%3==0&&t.push(e)})),(async()=>{for(;t.length;){const e=t.shift();(0,T.toastMsg)(`Step ${t.length}!`),await(0,u.delay)(200),o(e,(0,N.metaChange)("order-step")),(0,T.toastMsg)(`Step ${t.length}! done`)}})()}),{text:"Auto-layout (experimental)",group:"Misc."},[o,ee,te],Ge),(0,b.useHotkeys)("cmd+0",(e=>{lt(1),e.preventDefault()}),{text:"Reset zoom",group:"Viewport Controls"},[Be,lt],Ge);const ut=()=>{K({from:void 0,to:void 0,selected:[]})},dt=l.useCallback(((e,t)=>{xe(e.id),o({...ee},(0,N.metaChange)("drag-start"))}),[o,ee]),ct=l.useCallback(((e,t,n)=>{const{newValue:r,newSelected:i}=(0,f.handleInstanceDrag)(ee,e,n,t,pe,Ie);o(r,(0,N.metaChange)("drag-move")),i&&K({selected:i})}),[Ie,o,K,pe,ee]),pt=l.useCallback(((e,t)=>{t.preventDefault(),t.stopPropagation(),xe(void 0)}),[]),mt=l.useCallback(((e,t)=>{t.preventDefault(),t.stopPropagation(),xe(u.THIS_INS_ID)}),[]),ft=l.useCallback((async(t,n,o,r)=>{o.preventDefault(),o.stopPropagation();const{x:i,y:a}=r,s=(0,_.produce)(ee,(e=>{"input"===t?e.inputsPosition[n]={x:i,y:a}:e.outputsPosition[n]={x:i,y:a}}));e.onChangeNode(s,(0,N.metaChange)("node-io-drag-move"))}),[e,ee]),_t=l.useCallback((async(e,t,n,o)=>{n.preventDefault(),n.stopPropagation(),xe(void 0)}),[]),vt=l.useCallback(((e,t)=>{let{id:n}=e;const o=t.shiftKey?pe.filter((e=>e!==n)):[],r=t.shiftKey?[...pe,n]:[n],i=pe.includes(n)?o:r;K({selected:i,from:void 0,to:void 0})}),[K,pe]),bt=l.useCallback((()=>{const e=ee.instances.map((e=>e.id));K({selected:e,from:void 0,to:void 0})}),[K,ee.instances]),gt=l.useCallback((e=>{const t=ve.filter((t=>{let{from:n,to:o}=t;return-1===e.indexOf(n.insId)&&-1===e.indexOf(o.insId)})),n=(0,_.produce)(ee,(n=>{n.connections=t,n.instances=n.instances.filter((t=>!e.includes(t.id)))}));K({selected:[]}),o(n,(0,N.functionalChange)("delete-ins"))}),[ve,o,K,ee]),ht=l.useCallback((e=>{gt([e.id])}),[gt]),yt=l.useCallback(((e,t)=>{const n=(0,_.produce)(ee,(n=>{"input"===e?(delete n.inputs[t],n.connections=n.connections.filter((e=>!((0,u.isExternalConnectionNode)(e.from)&&e.from.pinId===t)))):(n.connections=n.connections.filter((e=>!((0,u.isExternalConnectionNode)(e.to)&&e.to.pinId===t))),n.completionOutputs=(n.completionOutputs||[]).map((e=>e.split("+").filter((e=>e!==t)).join("+"))).filter((e=>!!e)),delete n.outputs[t])}));me&&me.insId===u.THIS_INS_ID&&me.pinId===t?K({from:void 0}):fe&&fe.insId===u.THIS_INS_ID&&fe.pinId===t&&K({to:void 0}),o(n,(0,N.functionalChange)("remove io pin"))}),[ee,me,fe,o,K]),It=l.useCallback((async()=>{const{selected:e,from:t,to:n}=Y;0===e.length?t&&(0,u.isExternalConnectionNode)(t)?await qe(`Are you sure you want to remove main input ${t.pinId}?`)&&yt("input",t.pinId):n&&(0,u.isExternalConnectionNode)(n)&&await qe(`Are you sure you want to remove main output ${n.pinId}?`)&&yt("output",n.pinId):gt(e)}),[qe,Y,gt,yt]),xt=l.useCallback(((e,t,n)=>{const r=(0,f.getInstancePinConfig)(ee,e.id,t),i=(0,u.isStickyInputPinConfig)(r)?(0,C.queueInputPinConfig)():(0,u.stickyInputPinConfig)();o((0,f.changePinConfig)(ee,e.id,t,i),(0,N.functionalChange)("toggle-sticky")),le("togglePinSticky",{isSticky:(0,u.isStickyInputPinConfig)(i)})}),[o,ee,le]),Ct=l.useCallback((()=>{const{newNode:e,newInstances:t}=(0,M.handleDuplicateSelectedEditorCommand)(ee,pe);o(e,(0,N.functionalChange)("duplicated instances")),K({selected:t.map((e=>e.id))})}),[o,K,ee,pe]),wt=l.useCallback((e=>{const t=e.nativeEvent.target;if(0===e.button&&W(e.nativeEvent,ee.id)&&t&&"board-editor-inner"===t.className){const t={x:e.clientX,y:e.clientY},n=(0,I.vSub)(t,et),o=(0,f.domToViewPort)(n,Be,ue);we({from:o,to:o})}}),[ee.id,Be,et,ue]),Et=l.useCallback((e=>{if(He(null),W(e.nativeEvent,ee.id)&&Ce){if((0,f.calcSelectionBoxArea)(Ce)>50){const t=(0,f.getInstancesInRect)(Ce,de,Be,Ut.current,ee.instances,et,ue),n=e.shiftKey?[...pe,...t]:t;K({selected:n})}we(void 0)}}),[ee.id,ee.instances,Ce,de,Be,et,ue,pe,K]),jt=l.useCallback((e=>{if(!W(e.nativeEvent,ee.id))return void(Ge.current=!1);Ge.current=!0;const t={x:e.clientX,y:e.clientY},n=(0,I.vSub)(t,(0,I.vAdd)(et,I.vZero)),o=(0,f.domToViewPort)(n,Be,ue);Ce&&we({...Ce,to:o});const r=(0,f.findClosestPin)(ee,de,n,et,Q,X,Be),i=Ze;if(r){(!i||i.ins!==r.ins||i.ins===r.ins&&i.pin!==r.pin)&&Ye({ins:r.ins,type:r.type,pin:r.id})}Xe.current=o,K({lastMousePos:Xe.current})}),[ee,et,Be,ue,Ce,de,Q,X,Ze,K]),Tt=l.useCallback((e=>{var t;"bp5-menu"!==(null===(t=e.relatedTarget)||void 0===t?void 0:t.className)&&(Ye(void 0),Ge.current=!1)}),[]),Nt=l.useCallback(((e,t)=>{if(t){if((0,u.isMacroNodeInstance)(e))return void(0,T.toastMsg)("Cannot edit macro node instance");const t=(0,u.isInlineNodeInstance)(e)?e.node:(0,q.safelyGetNodeDef)(e.nodeId,de);if(!t)throw new Error("Impossible state inspecting inexisting node");if(!(0,u.isVisualNode)(t))return void(0,T.toastMsg)("Cannot inspect a non visual node","warning");Ve({insId:`${Q}.${e.id}`,node:t})}else if((0,u.isRefNodeInstance)(e)){const t=(0,q.safelyGetNodeDef)(e,de);a(t)}else{if((0,u.isInlineNodeInstance)(e)){const t=e.node;return void((0,u.isVisualNode)(t)?Ve({insId:e.id,node:t}):(0,T.toastMsg)("Editing this type of node is not supported"))}(0,u.isResolvedMacroNodeInstance)(e)?Ae({ins:e}):(0,T.toastMsg)("Editing this type of node is not supported")}}),[a,de,Q]),kt=l.useCallback((e=>{if((0,u.isInlineNodeInstance)(e)){const t=e.node;if(!(0,u.isVisualNode)(t))return void(0,T.toastMsg)("Not supported","warning");const n=(0,_.produce)(ee,(n=>{n.instances=n.instances.filter((t=>t.id!==e.id)),n.connections=n.connections.filter((t=>{let{from:n,to:o}=t;return n.insId!==e.id&&o.insId!==e.id})),n.instances.push(...t.instances),n.connections.push(...t.connections.filter((e=>(0,u.isInternalConnectionNode)(e.from)&&(0,u.isInternalConnectionNode)(e.to))))}));o(n,{type:"functional",message:"ungroup"}),K({selected:[]})}else(0,T.toastMsg)("Cannot ungroup an imported group")}),[ee,o,K]),St=l.useCallback((async e=>{}),[]),Ot=l.useCallback((async e=>{const t=await ze("New name?");if(!t)return;const n=(0,_.produce)(ee,(n=>{var o;"input"===e?(ee.inputs||(n.inputs={}),n.inputs[t]=(0,u.nodeInput)(),n.inputsPosition[t]=Xe.current):(ee.outputs||(n.outputs={}),n.outputs[t]=(0,u.nodeOutput)(),n.outputsPosition[t]=Xe.current,(null===(o=n.completionOutputs)||void 0===o?void 0:o.length)&&(0,T.toastMsg)("Note that this node has explicit completion outputs set. You may need to update them."))}));o(n,(0,N.functionalChange)("add new io pin")),le("addIoPin",{type:e})}),[ze,ee,o,le]),Pt=l.useCallback((async()=>{var e;const t=null===(e=ee.completionOutputs)||void 0===e?void 0:e.join(","),n=await ze("Edit completion outputs",t);if((0,p.isDefined)(n)&&null!==n){const e=(0,_.produce)(ee,(e=>{e.completionOutputs=""===n?void 0:n.split(",")}));o(e,(0,N.functionalChange)("change node completions")),le("editCompletionOutputs",{count:n?n.split(",").length:0})}}),[ze,o,ee,le]),Dt=l.useCallback((async()=>{var e;const t=null===(e=ee.reactiveInputs)||void 0===e?void 0:e.join(","),n=await ze("Edit reactive inputs",t);if((0,p.isDefined)(n)&&null!==n){const e=(0,_.produce)(ee,(e=>{e.reactiveInputs=""===n?void 0:n.split(",")}));o(e,(0,N.functionalChange)("change reactive inputs")),le("editReactiveInputs",{count:n?n.split(",").length:0})}}),[ze,o,ee,le]),Mt=l.useCallback((async()=>{const e=await ze("Description?",ee.description),t=(0,_.produce)(ee,(t=>{t.description=e}));o(t,(0,N.functionalChange)("Edit node description"))}),[ze,o,ee]),Vt=l.useCallback((e=>{const t=(0,_.produce)(ee,(t=>{t.defaultStyle=e}));o(t,(0,N.functionalChange)("change default style")),le("changeStyle",{isDefault:!0})}),[o,ee,le]),Rt=l.useCallback((async(e,t)=>{const n=await ze("New name?",t)||t,r=(0,f.handleIoPinRename)(ee,e,t,n);o(r,(0,N.functionalChange)("rename io pin"))}),[ee,o,ze]),At=l.useCallback(((e,t)=>{const n=(0,f.handleChangeNodeInputType)(ee,e,t);o(n,(0,N.functionalChange)("toggle io pin optional"))}),[ee,o]),Lt=l.useCallback((async e=>{const t=await ie(e),n=(0,I.vSub)(Xe.current,{x:200,y:50*Be.zoom}),r=(0,u.isMacroNodeDefinition)(e.node)?(0,f.createNewMacroNodeInstance)(e.node,0,n):(0,f.createNewNodeInstance)(e.node.id,0,n,t),i=(0,_.produce)(ee,(e=>{e.instances.push(r)})),a=(0,_.produce)(Y,(e=>{e.selected=[r.id]}));o(i,(0,N.functionalChange)("add new instance")),K(a),(0,u.isResolvedMacroNodeInstance)(r)&&setTimeout((()=>{Ae({ins:r})}),100),le("addNode",{nodeId:e.node.id,source:"actionMenu"})}),[Y,ee,o,K,ie,le,Be.zoom]),qt=()=>{const t=Y.from;return(0,p.entries)(he).map((n=>{let[o,i]=n;return(0,s.jsx)(y.NodeIoView,{currentInsId:Q,ancestorInsIds:e.ancestorsInsIds,type:"input",pos:be[o]||{x:0,y:0},id:o,onDelete:r?yt:void 0,onRename:r?Rt:void 0,onDblClick:Ft,closest:!(!Ze||"input"!==Ze.type||Ze.ins.id!==ee.id||Ze.pin!==o),connected:!1,inputMode:i.mode,onChangeInputMode:At,viewPort:Be,onDragStart:mt,onDragEnd:_t,onDragMove:ft,onSelect:nt,onSetDescription:ot,selected:(null==t?void 0:t.pinId)===o,description:i.description,onMouseUp:gn,onMouseDown:bn},o)}))},zt=()=>{const{to:t}=Y;return(0,p.entries)(ye).map((n=>{let[o,i]=n;return(0,s.jsx)(y.NodeIoView,{currentInsId:Q,ancestorInsIds:e.ancestorsInsIds,type:"output",pos:ge[o]||{x:0,y:0},id:o,onDelete:r?yt:void 0,onRename:r?Rt:void 0,closest:!(!Ze||"output"!==Ze.type||Ze.ins.id!==ee.id||Ze.pin!==o),connected:!1,viewPort:Be,onDragStart:mt,onDragEnd:_t,onDragMove:ft,onSelect:nt,onSetDescription:ot,description:i.description,selected:(null==t?void 0:t.pinId)===o,onMouseUp:gn,onMouseDown:bn},o)}))},Bt=()=>{if(Ce){const{from:e,to:t}=Ce,n=(0,f.logicalPosToRenderedPos)(e,Be),o=(0,f.logicalPosToRenderedPos)(t,Be),{x:r,y:i,w:a,h:l}=(0,f.getSelectionBoxRect)(n,o);return(0,s.jsx)("div",{className:"selection-box",style:{top:i,left:r,width:a,height:l}})}return null},Gt=l.useCallback((async(e,t,n,o)=>{if("input"===n);else{const r=(0,q.safelyGetNodeDef)(e,de);if(!(0,u.getNodeOutputs)(r)[t])throw new Error("Dbl clicked on un-existing pin");De({pos:{x:o.clientX,y:o.clientY},ins:e,targetNode:r,pinId:t,pinType:n})}}),[de]),Ft=l.useCallback((async(e,t)=>{if(!ee.inputs[e])throw new Error("Dbl clicked on un-existing pin");De({pos:{x:t.clientX,y:t.clientY},pinId:e,pinType:"input",targetNode:ee})}),[ee]),Ht=l.useCallback((e=>{if(e.metaKey||e.ctrlKey){const t=-.005*e.deltaY;lt(Be.zoom+t,"mouse"),e.preventDefault(),e.stopPropagation()}else{if(re)return;const t=e.deltaX,n=e.deltaY,o=(0,_.produce)(Be,(e=>{e.pos.x=e.pos.x+t/e.zoom,e.pos.y=e.pos.y+n/e.zoom}));$e(o),e.stopPropagation(),e.preventDefault()}}),[re,lt,$e,Be]);(0,v.useEffect)((()=>{const{current:e}=Ke;if(e)return e.addEventListener("wheel",Ht),()=>{e.removeEventListener("wheel",Ht)}}),[Ht]);const $t={backgroundPositionX:(0,f.roundNumber)(-Be.pos.x*Be.zoom),backgroundPositionY:(0,f.roundNumber)(-Be.pos.y*Be.zoom),backgroundSize:(0,f.roundNumber)(10*Be.zoom)+"px"},Ut=l.useRef(new Map);l.useEffect((()=>{const e=_e.reduce(((e,t)=>{const n=(0,q.safelyGetNodeDef)(t,de);return n&&e.set(t.id,(0,u.keys)((0,u.getNodeInputs)(n))),e}),new Map),t=_e.reduce(((e,t)=>{const n=(0,q.safelyGetNodeDef)(t,de);return n&&e.set(t.id,(0,u.keys)((0,u.getNodeOutputs)(n))),e}),new Map);e.set(u.THIS_INS_ID,(0,u.keys)(ee.outputs)),t.set(u.THIS_INS_ID,(0,u.keys)(ee.inputs));const n=ve.filter((n=>{const o=e.get(n.to.insId)&&e.get(n.to.insId).includes(n.to.pinId),r=t.get(n.from.insId)&&t.get(n.from.insId).includes(n.from.pinId);return!(o&&r)}));if(n.length>0){(0,T.toastMsg)(`${n.length} orphan connections removed`,"warning"),console.warn(`${n.length} orphan connections removed`,n);const e=(0,_.produce)(ee,(e=>{e.connections=ee.connections.filter((e=>!n.includes(e)))}));o(e,(0,N.functionalChange)("prune orphan connections"))}}),[_e,o,ve,ee,de]),l.useEffect((()=>{let e=[];const t=(0,_.produce)(ee,(t=>{t.instances=t.instances.map((t=>{const n=(0,q.safelyGetNodeDef)(t,de);if(n){const o=(0,u.getNodeInputs)(n),r=(0,u.getNodeOutputs)(n);if(t.visibleInputs){const n=t.visibleInputs.filter((e=>!o[e]));n.length>0&&(t.visibleInputs=(0,u.keys)(o),e.push(...n))}if(t.visibleOutputs){const n=t.visibleOutputs.filter((e=>!r[e]));n.length>0&&(t.visibleOutputs=(0,u.keys)(r),e.push(...n))}}return t}))}));e.length>0&&((0,T.toastMsg)(`Found ${e.length} invalid visible inputs/outputs: ${e.join(", ")}. Reset them`,"warning"),o(t,(0,N.functionalChange)("reset corrupt visible inputs/outputs")))}),[_e,o,ee,de]),(0,v.useEffect)((()=>{const e=new Map(_e.map((e=>[e.id,e])));Ut.current=ve.reduce(((t,n)=>{const o=t.get(n.to.insId)||{},r=o[n.to.pinId]||[],i={...o,[n.to.pinId]:[...r,e.get(n.from.insId)]};return t.set(n.to.insId,i),t}),new Map)}),[ve,_e]);const Jt=l.useCallback((()=>{De(void 0)}),[]),Wt=l.useCallback((async e=>{if(!Pe)throw new Error("impossible state - quick add menu invoked but not available");const{ins:t,pinId:n}=Pe;switch(e.type){case"import":case"node":{const r="import"===e.type?await ie(e.importableNode):de,i="import"===e.type?e.importableNode.node:e.node,a=(0,f.createNewNodeInstance)(i.id,100,Xe.current,r);if(a){const e=(0,_.produce)(ee,(e=>{e.instances.push(a),e.connections.push({from:{insId:t?t.id:u.THIS_INS_ID,pinId:n},to:{insId:a.id,pinId:u.TRIGGER_PIN_ID}})}));o(e,(0,N.functionalChange)("add-item-quick-menu")),Jt()}le("addNode",{nodeId:i.id,source:"quickAdd"});break}case"value":if(!t)return void(0,T.toastMsg)("Cannot add value to main input")}}),[Pe,de,le,ee,o,Jt,ie]),Zt=l.useCallback((async()=>{const e=JSON.stringify(ee);await navigator.clipboard.writeText(e),T.AppToaster.show({message:"Copied!"})}),[ee]),Yt=l.useCallback((()=>{var e,t;const n=r?"":" (cannot edit main node, only visual)";return(0,s.jsxs)(h.Menu,{children:[(0,s.jsx)(h.MenuItem,{text:`New input ${n}`,onMouseDown:e=>e.stopPropagation(),onClick:(0,p.preventDefaultAnd)((()=>Ot("input"))),disabled:!r}),(0,s.jsx)(h.MenuItem,{onMouseDown:e=>e.stopPropagation(),text:`New output ${n}`,onClick:(0,p.preventDefaultAnd)((()=>Ot("output"))),disabled:!r}),(0,s.jsx)(h.MenuItem,{onMouseDown:e=>e.stopPropagation(),text:"Copy node to clipboard",onClick:(0,p.preventDefaultAnd)(Zt)}),(0,s.jsx)(h.MenuItem,{onMouseDown:e=>e.stopPropagation(),text:`Edit Completion Outputs (${(null===(e=ee.completionOutputs)||void 0===e?void 0:e.join(","))||"n/a"})`,onClick:(0,p.preventDefaultAnd)((()=>Pt()))}),(0,s.jsx)(h.MenuItem,{onMouseDown:e=>e.stopPropagation(),text:`Edit Reactive inputs (${(null===(t=ee.reactiveInputs)||void 0===t?void 0:t.join(","))||"n/a"})`,onClick:(0,p.preventDefaultAnd)((()=>Dt()))}),(0,s.jsx)(h.MenuItem,{onMouseDown:e=>e.stopPropagation(),text:"Edit description",onClick:(0,p.preventDefaultAnd)((()=>Mt()))}),(0,s.jsx)(h.MenuDivider,{}),(0,s.jsx)(h.MenuItem,{text:"Default Style",children:(0,s.jsx)(V.NodeStyleMenu,{style:ee.defaultStyle,onChange:Vt,promptFn:ze})})]})}),[r,Zt,ee.completionOutputs,ee.reactiveInputs,ee.defaultStyle,Vt,ze,Ot,Pt,Dt,Mt]);(0,b.useHotkeys)("shift+c",tt,{text:"Center viewport",group:"Viewport Controls"},[],Ge),(0,b.useHotkeys)("cmd+c",it,{text:"Copy instances",group:"Editing"},[],Ge),(0,b.useHotkeys)("cmd+v",at,{text:"Paste instances",group:"Editing"},[],Ge),(0,b.useHotkeys)("esc",ut,{text:"Clear selections",group:"Selection"},[],Ge),(0,b.useHotkeys)("backspace",It,{text:"Delete instances",group:"Editing"},[],Ge),(0,b.useHotkeys)("shift+d",Ct,{text:"Duplicate selected instances",group:"Editing"},[],Ge),(0,b.useHotkeys)("cmd+a",bt,{text:"Select all",group:"Selection"},[],Ge),(0,b.useHotkeys)("s",st,{text:"Select pin closest to mouse",group:"Selection"},[],Ge);const Kt=l.useCallback(((e,t)=>{if(!Me)throw new Error("impossible state");const n=(0,_.produce)(ee,(t=>{const n=t.instances.find((e=>e.id===Me.insId));if(!n||!(0,u.isInlineNodeInstance)(n))throw new Error("impossible state");n.node=e}));o(n,(0,N.functionalChange)("Inner change: "+t.message)),Ve((t=>({...t,node:e})))}),[o,Me,ee]),[Qt,Xt]=(0,v.useState)({selected:[],viewPort:t.defaultViewPort,lastMousePos:{x:0,y:0}}),en=l.useCallback((e=>Xt((t=>({...t,...e})))),[]),tn=n=>Me&&Me.insId===n.id?{currentInsId:Me.insId,ancestorsInsIds:(0,u.fullInsIdPath)(Q,X),boardData:Qt,onChangeBoardData:en,resolvedDependencies:te,onCopy:i,clipboardData:e.clipboardData,onInspectPin:e.onInspectPin,onGoToNodeDef:e.onGoToNodeDef,nodeIoEditable:e.nodeIoEditable,node:Me.node,onChangeNode:Kt,parentViewport:t.defaultViewPort,parentBoardPos:et,onExtractInlineNode:e.onExtractInlineNode,queuedInputsData:e.queuedInputsData}:void 0,nn=()=>{if(me&&("input"===(null==Ze?void 0:Ze.type)&&(null==Ze?void 0:Ze.ins.id)!==ee.id||(null==Ze?void 0:Ze.ins.id)===ee.id&&"output"===(null==Ze?void 0:Ze.type))){const e=Ze.ins.id===ee.id?{pinId:Ze.pin,insId:u.THIS_INS_ID}:{insId:Ze.ins.id,pinId:Ze.pin};if(!(0,u.isInternalConnectionNode)(e)&&!(0,u.isInternalConnectionNode)(me))return;return{from:me,to:e}}if(fe&&("output"===(null==Ze?void 0:Ze.type)&&(null==Ze?void 0:Ze.ins.id)!==ee.id||(null==Ze?void 0:Ze.ins.id)===ee.id&&"input"===(null==Ze?void 0:Ze.type))){const e=Ze.ins.id===ee.id?{pinId:Ze.pin,insId:u.THIS_INS_ID}:{insId:Ze.ins.id,pinId:Ze.pin};if(!(0,u.isInternalConnectionNode)(fe)&&!(0,u.isInternalConnectionNode)(e))return;return{from:e,to:fe}}},on=()=>{const e=nn();if(e){const{from:t,to:n}=e;return{connection:{from:t,to:n},type:ve.some((t=>(0,u.connectionDataEquals)(t,e)))?"future-remove":"future-add"}}},rn=l.useCallback(((e,t)=>{const n=(0,_.produce)(ee,(n=>{n.instances=n.instances.map((n=>n.id===e.id?{...n,visibleInputs:t}:n))}));o(n,(0,N.functionalChange)("change instance visible inputs"))}),[ee,o]),an=l.useCallback(((e,t)=>{const n=(0,_.produce)(ee,(n=>{n.instances=n.instances.map((n=>n.id===e.id?{...n,style:t}:n))}));o(n,(0,N.functionalChange)("change instance style")),le("changeStyle",{isDefault:!1})}),[o,ee,le]),sn=l.useCallback(((e,t)=>{const n=(0,_.produce)(ee,(n=>{n.instances=n.instances.map((n=>n.id===e.id?{...n,visibleOutputs:t}:n))}));o(n,(0,N.functionalChange)("change instance visible outputs"))}),[ee,o]),ln=l.useCallback(((e,t)=>{const n=(0,_.produce)(ee,(n=>{n.instances=n.instances.map((n=>n.id===e.id?{...n,displayName:t}:n))}));o(n,(0,N.functionalChange)("change instance display name"))}),[ee,o]);l.useImperativeHandle(n,(()=>({centerInstance(e){const t=ee.instances.find((t=>t.id===e));if(t){const e=(0,I.vSub)(t.pos,(0,I.vec)(Qe.width/2,Qe.height/2));$e({...Be,pos:e})}},centerViewPort(){tt()},getViewPort:()=>Be,clearSelection:()=>{ut()}})));const[un,dn]=l.useState([]),cn=ve.filter((e=>{const t=nn();return!t||!(0,u.connectionDataEquals)(t,e)})),pn=l.useCallback((()=>{Ve(void 0),Xt(t.defaultBoardData)}),[]),mn=l.useCallback((e=>{const t=(0,_.produce)(ee,(t=>{const n=t.connections.find((t=>(0,u.connectionDataEquals)(t,e)));n.hidden=!n.hidden}));o(t,(0,N.functionalChange)("toggle connection hidden"))}),[o,ee]),fn=l.useCallback((e=>{const t=(0,_.produce)(ee,(t=>{t.connections=t.connections.filter((t=>!(0,u.connectionDataEquals)(t,e)))}));o(t,(0,N.functionalChange)("remove connection"))}),[o,ee]),_n=l.useCallback(((e,t,n)=>{He("input"===n?{to:(0,u.connectionNode)(e.id,t),from:void 0}:{from:(0,u.connectionNode)(e.id,t),to:void 0})}),[]),vn=l.useCallback(((e,t,n)=>{Fe&&(Fe.from&&"input"===n?Je(Fe.from,(0,u.connectionNode)(e.id,t),"pinDrag"):Fe.to&&"output"===n&&Je((0,u.connectionNode)(e.id,t),Fe.to,"pinDrag")),He(null)}),[Fe,Je]),bn=l.useCallback(((e,t)=>{}),[]),gn=l.useCallback(((e,t)=>{Fe&&(Fe.from&&"output"===t?Je(Fe.from,(0,u.externalConnectionNode)(e),"nodeIoPinDrag"):Fe.to&&"input"===t&&Je((0,u.externalConnectionNode)(e),Fe.to,"nodeIoPinDrag"))}),[Fe,Je]),hn=l.useCallback((e=>{const t=(0,_.produce)(ee,(t=>{const n=t.instances.find((e=>e.id===Re.ins.id));if(!n||!(0,u.isMacroNodeInstance)(n))throw new Error("Impossible state");n.macroData=e}));o(t,(0,N.functionalChange)("save macro instance")),Ae(void 0)}),[ee,o,Re]),yn=l.useMemo((()=>me?{type:"input",pinId:me.pinId}:fe?{type:"output",pinId:fe.pinId}:pe.length>0?{type:"instances",ids:pe}:void 0),[pe,me,fe]),In=l.useCallback((()=>{if(yn){const{type:e}=yn,t=(()=>{switch(e){case"instances":{const e=ee.instances.find((e=>pe.includes(e.id)));if(e)return e.pos;break}case"input":{const e=be[yn.pinId];if(e)return e;break}case"output":{const e=ge[yn.pinId];if(e)return e;break}}})(),n=(0,f.fitViewPortToRect)({x:t.x,y:t.y,w:1,h:1},Qe);n.zoom=Be.zoom,(0,f.animateViewPort)(Be,n,500,(e=>{$e(e)}))}}),[be,ee.instances,ge,pe,yn,$e,Be,Qe]),xn=l.useCallback((()=>{Oe(!1)}),[]),Cn=l.useCallback((()=>{Oe(!0)}),[]);try{return(0,s.jsxs)(h.ContextMenu,{className:(0,O.default)("visual-node-editor",e.className,{dark:se}),"data-id":ee.id,content:Yt(),disabled:!Ge.current,children:[(0,s.jsxs)("main",{className:"board-editor-inner",onMouseDown:wt,onMouseUp:Et,onMouseMove:jt,onMouseLeave:Tt,ref:Ke,style:$t,children:[(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(E.LayoutDebugger,{vp:Be,node:ee,extraDebug:f.emptyList,mousePos:Xe.current})}),(0,s.jsx)(c.ConnectionView,{resolvedNodes:de,currentInsId:Q,ancestorsInsIds:X,size:Qe,node:ee,boardPos:et,instances:_e,connections:cn,futureConnection:on(),onDblClick:u.noop,viewPort:Be,parentVp:ue,selectedInstances:pe,toggleHidden:mn,removeConnection:fn,lastMousePos:Xe.current,draggedSource:Fe}),qt(),_e.map((t=>{var n,o,r,i,a;return(0,s.jsx)(d.InstanceView,{onUngroup:kt,onExtractInlineNode:St,connectionsPerInput:Ut.current.get(t.id)||f.emptyObj,node:(0,q.safelyGetNodeDef)(t,de),ancestorsInsIds:(0,u.fullInsIdPath)(Q,X),onPinClick:rt,onPinDblClick:Gt,onDragStart:dt,onDragEnd:pt,resolvedDeps:de,onDragMove:ct,onDblClick:Nt,onSelect:vt,onToggleSticky:xt,selected:-1!==pe.indexOf(t.id),dragged:Ie===t.id,onInspectPin:Ue,selectedInput:fe&&(0,u.isInternalConnectionNode)(fe)&&fe.insId===t.id?fe.pinId:void 0,selectedOutput:me&&(0,u.isInternalConnectionNode)(me)&&me.insId===t.id?me.pinId:void 0,closestPin:Ze&&Ze.ins.id===t.id?Ze:void 0,queuedInputsData:null!==(n=ne[t.id])&&void 0!==n?n:f.emptyObj,instance:t,connections:ve,onTogglePinBreakpoint:u.noop,onTogglePinLog:u.noop,viewPort:Be,onChangeVisibleInputs:rn,onChangeVisibleOutputs:sn,onSetDisplayName:ln,onDeleteInstance:ht,forceShowMinimized:me||(null===(o=null==Fe?void 0:Fe.to)||void 0===o?void 0:o.insId)===t.id?"input":fe||(null===(r=null==Fe?void 0:Fe.from)||void 0===r?void 0:r.insId)===t.id?"output":void 0,isConnectedInstanceSelected:pe.some((e=>ve.some((n=>{let{from:o,to:r}=n;return o.insId===t.id&&r.insId===e||o.insId===e&&r.insId===t.id})))),inlineGroupProps:tn(t),onCloseInlineEditor:pn,inlineEditorPortalDomNode:Le.current,onChangeStyle:an,onGroupSelected:We,onPinMouseDown:_n,onPinMouseUp:vn,hadError:null!==(a=null===(i=e.instancesWithErrors)||void 0===i?void 0:i.has((0,u.fullInsIdPath)(t.id)))&&void 0!==a&&a},t.id)})),Bt(),zt(),(0,s.jsx)(A.MainInstanceEventsIndicator,{currentInsId:Q,ancestorsInsIds:X,viewPort:Be}),Pe?(0,s.jsx)(x.QuickAddMenu,{targetNode:Pe.targetNode,pinId:Pe.pinId,pinType:Pe.pinType,pos:Pe.pos,resolvedDependencies:te,node:ee,onAdd:Wt,onClose:Jt}):null,(0,s.jsxs)("div",{className:"viewport-controls-and-help",children:[(0,s.jsx)(h.Button,{small:!0,onClick:tt,minimal:!0,intent:"primary",children:"Center"}),(0,s.jsx)(U,{min:.15,max:3,stepSize:.05,labelStepSize:10,labelRenderer:J,onChange:lt,value:Be.zoom}),Ee?(0,s.jsx)(L.HelpBubble,{}):null]}),Re?(0,s.jsx)(B.MacroInstanceEditor,{onCancel:()=>Ae(void 0),onSubmit:hn,ins:Re.ins,deps:te}):null,(0,s.jsx)("div",{className:"inline-editor-portal-root"})]}),yn?(0,s.jsx)(G.SelectionIndicator,{selection:yn,onCenter:In,onGroup:We,onDelete:gt}):null,!Me&&ae.groups.length?(0,s.jsx)(F.NodesLibrary,{...ae,onAddNode:Lt}):null,(0,s.jsx)("div",{className:"run-btn-container",children:(0,s.jsx)(h.Button,{className:"run-btn",onClick:Cn,rightIcon:(0,s.jsx)($.Play,{}),small:!0,children:"Test Flow"})}),Se?(0,s.jsx)(H.RunFlowModal,{node:ee,onClose:xn}):null]})}catch(wn){return console.error(wn),(0,s.jsxs)("div",{children:["Error rendering board - ",wn.toString()]})}})));const W=(e,t)=>{const n=e.target.closest(".visual-node-editor");return n&&n.getAttribute("data-id")===t}},36369:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseNodeView=void 0;const s=n(35250),l=i(n(70079)),u=a(n(26372)),d=a(n(59349)),c=n(30653);t.BaseNodeView=function(e){const{dragged:t,viewPort:n,pos:o,onDragEnd:r,onDragMove:i,onDragStart:a,displayMode:p}=e,m=(0,c.useDarkMode)(),f=l.useCallback(((e,t)=>{a(e,t)}),[a]),_=l.useCallback(((e,t)=>{const i=o,a=(t.x-i.x)/n.zoom,s=(t.y-i.y)/n.zoom,l=i.x+a,u=i.y+s;r(e,{...t,x:l,y:u})}),[o,r,n]),v=l.useCallback(((e,t)=>{let{x:n,y:o}=t;i(e,{x:n,y:o})}),[i]),b={transform:`scale(${n.zoom})`},g=(0,u.default)("base-node-view",e.className,{dragged:t,dark:m,"display-mode":p}),h=o.x*n.zoom-n.pos.x*n.zoom,y=o.y*n.zoom-n.pos.y*n.zoom,I={transform:`translate(${h-o.x}px, ${y-o.y}px)`},x=(0,u.default)("base-node-view-vp-fixer",{"display-mode":p}),C=(0,s.jsx)("span",{className:"base-node-view-wrapper",children:(0,s.jsx)("div",{className:g,style:b,id:e.domId,children:e.children})});return(0,s.jsx)("div",{className:x,style:I,children:(0,s.jsx)(d.default,{onStop:_,onStart:f,onDrag:v,position:o,cancel:".no-drag",children:C})})}},83234:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(36369),t)},80510:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleConnectionCloseEditorCommand=void 0;const r=n(74762),i=o(n(53865));t.handleConnectionCloseEditorCommand=(e,t)=>{let{from:n,to:o}=t;return(0,i.default)(e,(e=>{const t=e.connections.find((e=>{const t=(0,r.connectionNodeEquals)(n,e.from),i=(0,r.connectionNodeEquals)(o,e.to);return t&&i}));t?e.connections=e.connections.filter((e=>e!==t)):e.connections.push({from:n,to:o})}))}},2130:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleDuplicateSelectedEditorCommand=void 0;const r=n(74762),i=o(n(53865));t.handleDuplicateSelectedEditorCommand=(e,t)=>{const n=[];return{newNode:(0,i.default)(e,(o=>{const i=o.instances;t.forEach((t=>{const o=i.find((e=>e.id===t));if(!o)throw new Error("impossible state duplicate selected no matching instance");if(o){const{pos:t}=o,a={x:t.x+20,y:t.y+20},s=(0,r.createInsId)(e),l=(0,r.isMacroNodeInstance)(o)?(0,r.macroNodeInstance)(s,o.macroId,o.macroData,void 0,t):{...o,pos:a,id:s};i.push(l),n.push(l.id)}}))})),newInstances:n}}},25044:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pasteInstancesCommand=void 0;const r=n(74762),i=o(n(53865));t.pasteInstancesCommand=(e,t,n)=>{const o=n.instances.map((n=>{const o=(0,r.createInsId)(e);return(0,r.isMacroNodeInstance)(n)?(0,r.macroNodeInstance)(o,n.macroId,n.macroData,void 0,t):{...n,pos:t,id:o}})),a=new Map(o.map(((e,t)=>[n.instances[t].id,e.id])));return{newNode:(0,i.default)(e,(e=>{e.instances.push(...o);const t=n.connections.map((e=>{let{from:t,to:n}=e;return{from:{...t,insId:a.get(t.insId)||t.insId},to:{...n,insId:a.get(n.insId)||n.insId}}}));e.connections.push(...t)})),newInstances:o}}},65082:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionView=t.SingleConnectionView=void 0;const s=n(70079),l=n(35250),u=i(n(70079)),d=a(n(26372)),c=n(74762),p=n(18243),m=n(77852),f=n(74089),_=n(60190),v=n(50382),b=n(76064),g=n(41032);t.SingleConnectionView=e=>{const{isBrowser:t}=(0,m.useSsr)(),{connection:n,node:o,resolvedNodes:r,instances:i,type:a,viewPort:s,toggleHidden:u,parentSelected:f,removeConnection:h}=e,{from:y}=n,I=(0,c.isInternalConnectionNode)(y)&&i.find((e=>e.id===y.insId));if(!I&&(0,c.isInternalConnectionNode)(y))return console.warn(`Could not find instance ${y.insId} for connection`,y),null;const x=((0,c.isInternalConnectionNode)(y)&&I?(0,g.safelyGetNodeDef)(I,r):o).outputs[y.pinId],C=x&&x.delayed,w=t?(0,p.calcStartPos)({...e,connectionNode:y}):{x:0,y:0},E=t?(0,p.calcTargetPos)({...e,connectionNode:n.to}):{x:0,y:0},{x:j,y:T}=(0,_.vDiv)(w,e.parentVp.zoom),{x:N,y:k}=(0,_.vDiv)(E,e.parentVp.zoom),S=(0,d.default)({delayed:C,hidden:n.hidden,"parent-selected":f},a),O=(0,l.jsxs)(v.Menu,{children:[(0,l.jsx)(v.MenuItem,{text:n.hidden?"Show connection":"Hide connection",onClick:()=>u(n)}),(0,l.jsx)(v.MenuItem,{text:"Remove connection",onClick:()=>h(n)})]});return(0,l.jsx)(v.ContextMenu,{content:O,children:e=>(0,l.jsx)(b.ConnectionViewPath,{className:S,from:{x:j,y:T},to:{x:N,y:k},dashed:"regular"!==a,zoom:s.zoom,onContextMenu:e.onContextMenu})})};t.ConnectionView=e=>{var n;const{viewPort:o,futureConnection:r,toggleHidden:i,selectedInstances:a,draggedSource:d}=e,[c,m]=u.useState(0),_=u.useCallback((e=>requestAnimationFrame((()=>{m((e=>(e+1)%9)),e>0&&_(e-1)}))),[]);u.useEffect((()=>{const e=_(10);return()=>{cancelAnimationFrame(e)}}),[_]),u.useEffect((()=>{const e=()=>{_(3)};return window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}),[_,c]);const v=e.connections.map((n=>{const o=a.includes(n.from.insId)||a.includes(n.to.insId);return(0,s.createElement)(t.SingleConnectionView,{...e,connection:n,type:"regular",parentSelected:o,key:n.from.insId+n.from.pinId+n.to.insId+n.to.pinId})}));if(r&&v.push((0,s.createElement)(t.SingleConnectionView,{...e,connection:r.connection,type:r.type,toggleHidden:i,parentSelected:!1,key:"future"})),d){const t=(d.from?p.calcStartPos:p.calcTargetPos)({connectionNode:null!==(n=d.from)&&void 0!==n?n:d.to,viewPort:o,boardPos:e.boardPos,ancestorsInsIds:e.ancestorsInsIds,currentInsId:e.currentInsId});v.push((0,l.jsx)(b.ConnectionViewPath,{className:"dragged",from:t,to:(0,f.logicalPosToRenderedPos)(e.lastMousePos,o),zoom:o.zoom},"dragged"))}return(0,l.jsx)("svg",{className:"connections-view",children:v})}},76064:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionViewPath=void 0;const r=n(35250),i=o(n(26372)),a=n(70079),s=n(23381);t.ConnectionViewPath=(0,a.forwardRef)(((e,t)=>{const{from:n,to:o,className:a,onContextMenu:l,zoom:u,dashed:d}=e,{x:c,y:p}=n,{x:m,y:f}=o,_=(0,s.calcBezierPath)({sourceX:c,sourceY:p,targetX:m,targetY:f,curvature:.15}),v=2.5*u,b=d?6*u:void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:_,ref:t,className:(0,i.default)("connection",a),style:{strokeWidth:v,strokeDasharray:b},onContextMenu:l}),e.label?(0,r.jsx)("text",{className:"label",x:(c+m)/2,y:(p+f)/2,fontSize:"12px"}):null,(0,r.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%"}),(0,r.jsx)("stop",{offset:"100%"})]})]})}))},23381:(e,t)=>{"use strict";var n;function o(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function r(e){let t,r,{pos:i,x1:a,y1:s,x2:l,y2:u,c:d}=e;switch(i){case n.Left:t=a-o(a-l,d),r=s;break;case n.Right:t=a+o(l-a,d),r=s;break;case n.Top:t=a,r=s-o(s-u,d);break;case n.Bottom:t=a,r=s+o(u-s,d)}return[t,r]}Object.defineProperty(t,"__esModule",{value:!0}),t.getBezierCenter=t.calcBezierPath=t.Position=void 0,function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(n=t.Position||(t.Position={}));t.calcBezierPath=e=>{let{sourceX:t,sourceY:o,sourcePosition:i=n.Bottom,targetX:a,targetY:s,targetPosition:l=n.Top,curvature:u=.25}=e;const[d,c]=r({pos:i,x1:t,y1:o,x2:a,y2:s,c:u}),[p,m]=r({pos:l,x1:a,y1:s,x2:t,y2:o,c:u});return`M${t},${o} C${d},${c} ${p},${m} ${a},${s}`},t.getBezierCenter=function(e){let{sourceX:t,sourceY:o,sourcePosition:i=n.Bottom,targetX:a,targetY:s,targetPosition:l=n.Top,curvature:u=.25}=e;const[d,c]=r({pos:i,x1:t,y1:o,x2:a,y2:s,c:u}),[p,m]=r({pos:l,x1:a,y1:s,x2:t,y2:o,c:u}),f=.125*t+.375*d+.375*p+.125*a,_=.125*o+.375*c+.375*m+.125*s;return[f,_,Math.abs(f-t),Math.abs(_-o)]}},18243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcTargetPos=t.calcStartPos=t.calcPinPosition=void 0;const o=n(74762),r=n(74089),i=n(30994);function a(e){const t=(0,i.getPinDomId)({fullInsIdPath:(0,o.fullInsIdPath)(e.insId,e.ancestorsInsIds),pinId:e.pinId,pinType:e.pinType,isMain:e.isMain}),n=document.getElementById(t);return n?((e,t)=>{const{x:n,y:o,width:r,height:i}=e.getBoundingClientRect(),a=o+i/2;return{x:n+r/2-t.x,y:a-t.y}})(n,e.boardPos):((0,r.logger)("calcPinPosition: cannot find element",{domId:t}),{x:99999,y:99999})}t.calcPinPosition=a;t.calcStartPos=e=>{const{connectionNode:t,boardPos:n,ancestorsInsIds:r,viewPort:i,currentInsId:s}=e;return(0,o.isExternalConnectionNode)(t)?a({pinId:t.pinId,insId:s,ancestorsInsIds:r,isMain:!0,pinType:"input",boardPos:n,viewPort:i}):a({pinId:t.pinId,insId:t.insId,ancestorsInsIds:(0,o.fullInsIdPath)(s,r),isMain:!1,pinType:"output",boardPos:n,viewPort:i})};t.calcTargetPos=e=>{const{connectionNode:t,boardPos:n,ancestorsInsIds:r,viewPort:i,currentInsId:s}=e;return(0,o.isExternalConnectionNode)(t)?a({pinId:t.pinId,insId:s,ancestorsInsIds:r,isMain:!0,pinType:"output",boardPos:n,viewPort:i}):a({pinId:t.pinId,insId:t.insId,ancestorsInsIds:(0,o.fullInsIdPath)(s,r),isMain:!1,pinType:"input",boardPos:n,viewPort:i})}},30994:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPinDomId=t.getMainInstanceIndicatorDomId=t.getInstanceDomId=void 0;const o=n(74762);t.getInstanceDomId=(e,t)=>`ins:${(0,o.fullInsIdPath)(e,t)}`.replace(/\s+/g,"-");t.getMainInstanceIndicatorDomId=(e,t)=>`main-ins:${(0,o.fullInsIdPath)(e,t)}`.replace(/\s+/g,"-");t.getPinDomId=e=>{let{pinType:t,fullInsIdPath:n,pinId:o,isMain:r}=e;return`${r?"main-":""}pin:${t}:${n}:${o}`.replace(/\s+/g,"-")}},86553:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceView=t.getVisibleOutputs=t.getVisibleInputs=t.INSTANCE_INFO_TOOLTIP_DELAY=t.MAX_INSTANCE_WIDTH=t.MIN_WIDTH_PER_PIN=t.PIECE_CHAR_WIDTH=t.PIECE_HORIZONTAL_PADDING=void 0;const s=n(70079),l=n(35250),u=i(n(70079)),d=n(66074),c=n(74762),p=a(n(26372)),m=n(2036),f=n(74762),_=n(74762),v=n(53159),b=n(83234),g=n(30994),h=n(63521),y=n(74089),I=n(50382),x=a(n(99581)),C=n(88593),w=n(30653);t.PIECE_HORIZONTAL_PADDING=25,t.PIECE_CHAR_WIDTH=11,t.MIN_WIDTH_PER_PIN=40,t.MAX_INSTANCE_WIDTH=400,t.INSTANCE_INFO_TOOLTIP_DELAY=400;t.getVisibleInputs=(e,t,n)=>{const{visibleInputs:o}=e;if(o)return o;const r=(0,c.keys)((0,_.getNodeInputs)(t)).filter(((o,r)=>{var i;const a=n.some((t=>t.to.insId===e.id&&t.to.pinId===o)),s=t.inputs[o]&&"optional"===(null===(i=t.inputs[o])||void 0===i?void 0:i.mode);return a||!s&&o!==f.TRIGGER_PIN_ID}));return 0===r.length?[f.TRIGGER_PIN_ID]:r};t.getVisibleOutputs=(e,t,n)=>{const{visibleOutputs:o}=e;if(o)return o;const r=Object.keys(t.outputs);return n.some((t=>t.from.insId===e.id&&t.from.pinId===f.ERROR_PIN_ID))?[...r,f.ERROR_PIN_ID]:r};t.InstanceView=function(e){const{selected:n,selectedInput:o,selectedOutput:r,closestPin:i,dragged:a,onTogglePinLog:E,onTogglePinBreakpoint:j,displayMode:T,connections:N,instance:k,viewPort:S,node:O,onPinClick:P,onPinDblClick:D,onDragStart:M,onDragEnd:V,onDragMove:R,onToggleSticky:A,onSelect:L,onDblClick:q,onChangeVisibleInputs:z,onChangeVisibleOutputs:B,inlineGroupProps:G,onUngroup:F,onExtractInlineNode:H,onGroupSelected:$,isConnectedInstanceSelected:U,inlineEditorPortalDomNode:J,onChangeStyle:W,onDeleteInstance:Z,onSetDisplayName:Y,onPinMouseUp:K,onPinMouseDown:Q}=e,X=(0,w.useDarkMode)(),{id:ee}=k,te=u.useMemo((()=>{const e=(0,c.randomInt)(6,1);return{icon:(0,c.pickRandom)([["fab","discord"],["fab","slack"],"bug","cube"]),color:e,size:(0,c.randomInt)(3,1),variation:(0,c.randomInt)(5,1)}}),[]),ne=u.useRef(),oe=u.useMemo((()=>k.style||O.defaultStyle||{}),[O,k]),re=oe.size||"regular",ie=u.useMemo((()=>new Map(N.filter((e=>{let{to:t}=e;return t.insId===ee})).map((e=>{let{to:t,hidden:n}=e;return[t.pinId,n]})))),[N,ee]),ae=u.useMemo((()=>new Map(N.filter((e=>{let{from:t}=e;return t.insId===ee})).map((e=>{let{from:t,hidden:n}=e;return[t.pinId,n]})))),[N,ee]),se=(0,y.usePrompt)(),le=u.useCallback((e=>P(k,e,"input")),[k,P]),ue=u.useCallback(((e,t)=>D(k,e,"input",t)),[k,D]),de=u.useCallback(((e,t)=>D(k,e,"output",t)),[k,D]),ce=u.useCallback((e=>P(k,e,"output")),[k,P]),pe=u.useCallback(((e,t)=>{M(k,e,t)}),[k,M]),me=u.useCallback(((e,t)=>{const n=k.pos,o=(t.x-n.x)/S.zoom,r=(t.y-n.y)/S.zoom,i=n.x+o,a=n.y+r;V(k,e,{...t,x:i,y:a})}),[k,V,S.zoom]),fe=u.useCallback(((e,t)=>{R(k,e,{x:t.x,y:t.y})}),[k,R]),_e=u.useCallback((e=>A(k,e)),[k,A]),ve=u.useCallback((e=>L(k,e)),[k,L]),be=u.useCallback((e=>q(k,e.shiftKey)),[k,q]),ge=(0,c.entries)(O.inputs),{visibleInputs:he,visibleOutputs:ye}=k;he&&ge.sort(((e,t)=>he.indexOf(e[0])-he.indexOf(t[0])));const Ie=(0,c.entries)(O.outputs);ye&&Ie.sort(((e,t)=>ye.indexOf(e[0])-ye.indexOf(t[0])));const xe=(0,t.getVisibleInputs)(k,O,N),Ce=(0,t.getVisibleOutputs)(k,O,N);ge.push([f.TRIGGER_PIN_ID,{...(0,c.nodeInput)(),description:"Use this pin to manually trigger the node. If not connected, the node will be triggered automatically when all required inputs have data."}]),Ie.push([f.ERROR_PIN_ID,{...(0,f.nodeOutput)(),description:"Use this pin to catch errors that happen inside this node. If not connected, errors will bubble up to the parent node."}]);const we=ge.filter((e=>{let[t]=e;return xe.includes(t)||(n||U)&&ie.has(t)})),Ee=Ie.filter((t=>{let[o]=t;return Ce.includes(o)||(n||U)&&ae.has(o)||o===f.ERROR_PIN_ID&&e.hadError})),je=N.some((e=>e.from.insId===ee&&e.from.pinId===f.ERROR_PIN_ID)),Te=(0,p.default)("ins-view",{"no-inputs":0===ge.length,"no-outputs":0===Ie.length,"display-mode":T,"force-minimized-input":"input"===e.forceShowMinimized||"both"===e.forceShowMinimized,"force-minimized-output":"output"===e.forceShowMinimized||"both"===e.forceShowMinimized,"inline-node-edited":!!G,"error-caught":je}),Ne=(0,p.default)({selected:n,dragged:a,closest:i&&i.ins.id===k.id},`size-${re}`),ke=new Set((0,c.entries)(O.inputs).filter((e=>{let[t,n]=e;return(0,f.isInputPinOptional)(n)})).map(c.pickFirst)),Se=(0,c.entries)(k.inputConfig).reduce(((e,t)=>{let[n,o]=t;return(0,f.isStickyInputPinConfig)(o)||o.sticky?{...e,[n]:!0}:e}),{}),Oe=(0,v.calcNodeContent)(k,O),Pe=u.useCallback((async()=>{const e=(0,c.okeys)(O.inputs),t=await se("New order?",(k.visibleInputs||e).join(","));t&&z(k,t.split(","))}),[O.inputs,se,k,z]),De=u.useCallback((async()=>{const e=(0,c.okeys)(O.outputs),t=await se("New order?",(k.visibleOutputs||e).join(","));t&&B(k,t.split(","))}),[O.outputs,se,k,B]),Me=u.useCallback((()=>{Z(k)}),[Z,k]),Ve=u.useCallback((async()=>{const e=await se("Set custom display name",k.displayName||O.id);Y(k,e)}),[se,k,Y,O.id]),Re=Object.keys((0,_.getNodeInputs)(O)),Ae=Object.keys((0,c.getNodeOutputs)(O)),Le=u.useCallback(((e,t)=>{K&&K(k,e,t)}),[k,K]),qe=u.useCallback(((e,t)=>{Q&&Q(k,e,t)}),[k,Q]),ze=()=>(0,l.jsx)("div",{className:"inputs no-drag",children:we.map((t=>{let[r,a]=t;var s;return(0,l.jsx)(m.PinView,{type:"input",currentInsId:k.id,ancestorsInsIds:e.ancestorsInsIds,id:r,optional:ke.has(r),connected:ie.has(r),isSticky:Se[r],minimized:!n&&1===we.length,onToggleSticky:_e,selected:r===o,onClick:le,onDoubleClick:ue,isClosestToMouse:!!i&&"input"===i.type&&i.pin===r,onToggleLogged:E,onToggleBreakpoint:j,onInspect:e.onInspectPin,description:a.description,queuedValues:null!==(s=e.queuedInputsData[r])&&void 0!==s?s:0,onMouseUp:Le,onMouseDown:qe},r)}))}),Be=()=>(0,l.jsx)("div",{className:"outputs no-drag",children:Ee.map((t=>{let[o,a]=t;return(0,l.jsx)(m.PinView,{currentInsId:k.id,ancestorsInsIds:e.ancestorsInsIds,connected:ae.has(o),type:"output",id:o,minimized:!n&&1===Ee.length,isClosestToMouse:!!i&&"output"===i.type&&i.pin===o,selected:o===r,onClick:ce,onDoubleClick:de,onToggleLogged:E,onToggleBreakpoint:j,onInspect:e.onInspectPin,description:a.description,onMouseUp:Le,onMouseDown:qe},o)}))}),Ge=u.useCallback((e=>{W(k,e)}),[k,W]),Fe=u.useCallback((()=>{const e=[...Re.map((e=>{const t=xe.includes(e),n=ie.has(e)&&!0!==ie.get(e),o=(0,c.getInputName)(e);return{text:t?n?`Hide input "${o}" (disconnect first)`:`Hide input "${o}"`:`Show input "${o}"`,onClick:()=>z(k,t?xe.filter((t=>t!==e)):[...xe,e]),disabled:n&&t}})),...Ae.map((e=>{const t=Ce.includes(e),n=ae.has(e),o=(0,c.getOutputName)(e);return{text:t?n?`Hide output "${o}" (disconnect first)`:`Hide output "${o}"`:`Show output "${o}"`,onClick:()=>B(k,t?Ce.filter((t=>t!==e)):[...Ce,e]),disabled:n&&t}})),...(0,c.isInlineNodeInstance)(k)&&(0,_.isVisualNode)(k.node)?[{text:"Ungroup inline node",onClick:()=>F(k)}]:[],...(0,c.isInlineNodeInstance)(k)?[{text:"Extract inline node to file",onClick:()=>H(k)}]:[],{text:"Reorder inputs",onClick:Pe},{text:"Reorder outputs",onClick:De},{text:"Set display name",onClick:Ve},{text:"Group selected instances",onClick:$},{text:"Delete instance",intent:"danger",onClick:Me}];return(0,l.jsxs)(I.Menu,{children:[(0,l.jsx)(I.MenuItem,{text:"Style",children:(0,l.jsx)(C.NodeStyleMenu,{style:oe,onChange:Ge,promptFn:se})}),e.map(((e,t)=>(0,s.createElement)(I.MenuItem,{...e,key:t})))]})}),[Re,Ae,k,Pe,De,Ve,Me,oe,Ge,se,xe,ie,z,Ce,ae,B,F,H,$]),He={"--node-color":oe.color,...oe.cssOverride||{}},$e=(0,g.getInstanceDomId)(k.id,e.ancestorsInsIds);return(0,l.jsx)("div",{className:Te,children:(0,l.jsx)(b.BaseNodeView,{pos:k.pos,viewPort:S,onDragStart:pe,onDragMove:fe,onDragEnd:me,upperRenderer:ze,bottomRenderer:Be,displayMode:T,domId:$e,children:(0,l.jsxs)(u.Fragment,{children:[ze(),G?x.default.createPortal((0,l.jsxs)("div",{className:"inline-group-editor-container no-drag",children:[(0,l.jsxs)("header",{children:[Oe," ",(0,l.jsx)("button",{onClick:e.onCloseInlineEditor,children:"close"})]}),(0,l.jsx)(h.VisualNodeEditor,{...e.inlineGroupProps,className:"no-drag",ref:ne})]}),J):(0,l.jsx)(I.ContextMenu,{className:(0,p.default)("ins-view-inner",Ne,`size-${te.size}`,{dark:X}),onClick:ve,onDoubleClick:be,content:Fe(),style:He,children:(0,l.jsx)(I.Tooltip,{content:O.description,children:(0,l.jsxs)(u.Fragment,{children:[oe.icon?(0,l.jsx)(d.FontAwesomeIcon,{icon:oe.icon}):null," ",Oe]})})}),Be()]})})})}},53568:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStyleMenu=t.nodeStylePresetColors=void 0;const a=n(35250),s=n(50382),l=i(n(70079)),u=n(84472);t.nodeStylePresetColors=[{name:"Amethyst",color:"#9b5de5"},{name:"Magenta",color:"#f15bb5"},{name:"Yellow",color:"#fee440"},{name:"Capri",color:"#00bbf9"},{name:"Sea Green",color:"#00f5d4"},{name:"Orange",color:"#ff7f00"}];const d={size:"regular"};t.NodeStyleMenu=e=>{var n;const{onChange:o,style:r}=e,i=r||d,c=e.promptFn,p=l.default.useCallback(((e,t)=>{o({...i,[e]:t})}),[i,o]),m=l.default.useCallback((async()=>{const e=await c("Icon name? (Font Awesome conventions)","rocket"),t=e.includes(",")?e.split(","):e;p("icon",t)}),[c,p]),f=(0,l.useCallback)((async()=>{const e=await c("Enter a custom style (valid JSON representing a React CSS object)",i.cssOverride?JSON.stringify(i.cssOverride):"");try{const t=JSON.parse(e);p("cssOverride",t)}catch(t){console.error(t),(0,u.toastMsg)("Invalid object","danger")}}),[c,p,i.cssOverride]);return(0,a.jsxs)(l.default.Fragment,{children:[(0,a.jsxs)(s.MenuItem,{text:"Color",children:[t.nodeStylePresetColors.map((e=>(0,a.jsx)(s.MenuItem,{text:e.name,onClick:()=>p("color",e.color)},e.name))),(0,a.jsx)(s.MenuDivider,{}),(0,a.jsx)(s.MenuItem,{text:"Remove Color",onClick:()=>p("color",void 0)})]}),(0,a.jsxs)(s.MenuItem,{text:`Size (${null!==(n=i.size)&&void 0!==n?n:"regular"})`,children:[(0,a.jsx)(s.MenuItem,{text:"Small",onClick:()=>p("size","small")}),(0,a.jsx)(s.MenuItem,{text:"Regular",onClick:()=>p("size","regular")}),(0,a.jsx)(s.MenuItem,{text:"Large",onClick:()=>p("size","large")})]}),(0,a.jsxs)(s.MenuItem,{text:"Icon",children:[(0,a.jsx)(s.MenuItem,{text:"Choose Icon",onClick:m}),(0,a.jsx)(s.MenuItem,{text:"Remove Icon",onClick:()=>p("icon",void 0)})]}),(0,a.jsx)(s.MenuItem,{text:"Custom Styling",onClick:f})]})}},88593:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(53568),t)},83651:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(86553),t)},53159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcInstancePosition=t.calcNodeWidth=t.calcNodeContent=void 0;const o=n(74762),r=n(86553),i=n(61888),a=n(30994);t.calcNodeContent=(e,t)=>{var n;return e.displayName?e.displayName:null!==(n=t.displayName)&&void 0!==n?n:t.id};t.calcNodeWidth=(e,n)=>{const a=(0,o.okeys)(n.inputs).length*r.MIN_WIDTH_PER_PIN,s=(0,t.calcNodeContent)(e,n),l=r.PIECE_CHAR_WIDTH;return(0,i.clamp)(s.length*l+2*r.PIECE_HORIZONTAL_PADDING,a,r.MAX_INSTANCE_WIDTH)};t.calcInstancePosition=(e,t,n)=>{const o=(0,a.getInstanceDomId)(e,t),r=document.getElementById(o);if(r){const{x:e,y:t,width:o,height:i}=r.getBoundingClientRect(),a=t+i/2;return{x:e+o/2-n.x,y:a-n.y}}return console.warn("Cannot find element to draw connection to",o),{x:99999,y:99999}}},17841:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDebugger=t.LayoutDebuggerItem=t.PosDebugger=void 0;const r=n(70079),i=n(35250),a=n(74762),s=o(n(70079)),l=n(7047),u=e=>{let{pos:t}=e;return(0,i.jsxs)("span",{children:[t.x.toFixed(1),", ",t.y.toFixed(1)]})};t.PosDebugger=e=>(0,i.jsx)("span",{className:"pos-debugger",children:(0,i.jsx)(u,{pos:e.pos})});t.LayoutDebuggerItem=e=>{const{pos:n,viewPort:o,size:r,color:a}=e,s=o.zoom,l=n.x*s-o.pos.x*s,u=n.y*s-o.pos.y*s,d={transform:`translate(${l-n.x}px, ${u-n.y}px)`},c={transform:`scale(${o.zoom})`},p={transform:`translate(${n.x}px, ${n.y}px)`},m={width:`${r.width}px`,height:`${r.height}px`,backgroundColor:a};return(0,i.jsx)("div",{className:"layout-debugger",style:d,children:(0,i.jsxs)("span",{className:"drag-sim",style:p,children:[(0,i.jsx)(t.PosDebugger,{pos:n}),(0,i.jsx)("div",{className:"layout-debugger-zoom-wrapper",style:c,children:(0,i.jsx)("div",{className:"layout-debugger-inner",style:m})})]})})};const d=(()=>{try{return"true"===localStorage.getItem("pos-debugger")}catch(e){return!1}})();t.LayoutDebugger=e=>{const{extraDebug:n,vp:o,node:c,mousePos:p}=e;if(!d)return null;const m=n.map(((e,n)=>(0,r.createElement)(t.LayoutDebuggerItem,{...e,key:n}))),f=[...c.instances.map((e=>e.pos)),...(0,a.values)(c.inputsPosition),...(0,a.values)(c.outputsPosition)].map((e=>(0,i.jsx)(t.LayoutDebuggerItem,{pos:e,viewPort:o,size:{width:0,height:0},color:"red"}))),_=(0,l.logicalPosToRenderedPos)(p,o),v=(0,i.jsxs)("div",{className:"viewport-data",children:[(0,i.jsxs)("div",{children:["Pos: ",(0,i.jsx)(u,{pos:o.pos})]}),(0,i.jsxs)("div",{children:["Zoom: ",o.zoom.toFixed(2)," "]}),(0,i.jsxs)("div",{children:["Mouse (logical): ",(0,i.jsx)(u,{pos:p})]}),(0,i.jsxs)("div",{children:["Rendered (rendered): ",(0,i.jsx)(u,{pos:_})]})]});return(0,i.jsxs)(s.default.Fragment,{children:[v,m,f]})}},44338:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(17841),t)},38259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateInstancesWithSingleConstPinsMap=t.getLeafInstancesOfSelection=void 0;t.getLeafInstancesOfSelection=(e,t,n)=>e.reduce(((e,o)=>[...e,...n.filter((e=>e.to.insId===o.id)).map((e=>t.find((t=>t.id===e.from.insId)))).filter((e=>!!e))]),[]).filter((t=>1===n.filter((e=>e.from.insId===t.id||e.to.insId===t.id)).length&&!e.includes(t)));t.calculateInstancesWithSingleConstPinsMap=(e,t)=>{const{connections:n}=e;return n.filter((e=>t.has(e.from.insId))).reduce(((e,n)=>{const o=t.get(n.from.insId),r=n.to.insId,i=e.get(r)||new Map;return i.set(n.to.pinId,{val:o,insId:n.from.insId}),e.set(r,i),e}),new Map)}},37488:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeIoView=void 0;const s=n(35250),l=n(70079),u=i(n(70079)),d=n(74762),c=n(83234),p=a(n(26372)),m=n(50382),f=n(43490),_=n(66189),v=n(74762),b=n(30994),g=n(30653);t.NodeIoView=u.memo((function(e){const{viewPort:t,selected:n,pos:o,type:r,id:i,onDblClick:a,onRename:h,onDelete:y,onChangeInputMode:I,inputMode:x,onSelect:C,closest:w,onSetDescription:E,description:j,onMouseUp:T,onMouseDown:N,currentInsId:k}=e,{history:S,resetHistory:O,refreshHistory:P}=(0,_.useHistoryHelpers)(k,i,r),D=(0,f.usePrompt)(),M=u.useCallback((async()=>{const e=await D("Description?",j);E(r,i,e)}),[D,j,E,r,i]),V=u.useCallback((()=>{y&&y(r,i)}),[r,i,y]),R=u.useCallback((()=>{h&&h(r,i)}),[r,i,h]),A=u.useCallback((e=>{I&&I(i,e)}),[i,I]),L=u.useCallback((()=>[{text:`Current mode - ${x}`,onClick:d.noop},{text:"Make required",onClick:()=>A("required")},{text:"Make optional",onClick:()=>A("optional")},{text:"Make required-if-connected",onClick:()=>A("required-if-connected")},{text:"Set description",onClick:M},...e.onRename?[{text:"Rename",onClick:R}]:[],...e.onDelete?[{text:"Delete",onClick:V}]:[]]),[M,x,A,V,R,e.onDelete,e.onRename]),q=u.useCallback((t=>{a&&a(e.id,t)}),[a,e.id]),z=u.useCallback((()=>{C(i,r)}),[i,r,C]),B=u.useCallback((()=>(0,s.jsx)(m.Menu,{children:L().map(((e,t)=>(0,l.createElement)(m.MenuItem,{...e,key:t})))})),[L]),G="input"===r?(0,v.getInputName)(i):(0,d.getOutputName)(i),F=u.useCallback((e=>{T(i,r,e)}),[i,T,r]),H=u.useCallback((e=>{N(i,r,e)}),[i,N,r]),$=(0,g.useDarkMode)();return(0,s.jsx)(c.BaseNodeView,{className:(0,p.default)("node-io-view",r,{dark:$}),pos:o,onDragEnd:(n,o)=>{const a=e.pos,s=(o.x-a.x)/t.zoom,l=(o.y-a.y)/t.zoom,u=a.x+s,d=a.y+l;e.onDragEnd(r,i,n,{...o,x:u,y:d})},onDragStart:(t,n)=>{e.onDragStart(i,t,n)},onDragMove:(t,n)=>{e.onDragMove(r,i,t,{x:n.x,y:n.y})},viewPort:t,children:(0,s.jsx)(u.Fragment,{children:(0,s.jsx)(m.Tooltip,{content:(()=>{const t=(0,_.calcHistoryContent)(S),n=e.description?(0,s.jsx)("em",{children:e.description}):"";return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:G})," (",r,")"," "]}),n,(0,s.jsx)("hr",{}),t]})})(),children:(0,s.jsx)(m.ContextMenu,{onMouseEnter:P,onMouseOut:O,onMouseUp:F,onMouseDown:H,"data-tip":"","data-html":!0,"data-for":i+e.currentInsId,className:(0,p.default)("node-io-view-inner",{closest:w,selected:n,dark:$}),id:(0,b.getPinDomId)({fullInsIdPath:(0,d.fullInsIdPath)(e.currentInsId,e.ancestorInsIds),pinId:i,pinType:r,isMain:!0}),onClick:z,onDoubleClick:q,content:B(),children:i})})})})}))},66005:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(37488),t)},83782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcNodeIoWidth=t.MIN_WIDTH_PER_PIN=t.PIECE_CHAR_WIDTH=t.PIECE_HORIZONTAL_PADDING=void 0,t.PIECE_HORIZONTAL_PADDING=15,t.PIECE_CHAR_WIDTH=9,t.MIN_WIDTH_PER_PIN=40;t.calcNodeIoWidth=e=>Math.max(t.MIN_WIDTH_PER_PIN,e.length*t.PIECE_CHAR_WIDTH+2*t.PIECE_HORIZONTAL_PADDING)},99942:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.orderVisualNode=t.layoutToInstances=void 0;const r=n(63521),i=n(74762),a=n(90794),s=o(n(53865)),l=n(83782),u=n(60190),d=n(53159),c=n(41032);t.layoutToInstances=(e,t)=>(0,s.default)(t,(t=>{(0,i.entries)(e.nodes).forEach((e=>{let[n,o]=e;if(n.startsWith("ins-")){const e=n.replace("ins-",""),r=t.instances.find((t=>t.id===e));r?r.pos=o.p:console.warn("WAT")}if(n.startsWith("node-input-")){const e=n.replace("node-input-","");t.inputsPosition[e]=o.p}if(n.startsWith("node-output-")){const e=n.replace("node-output-","");t.outputsPosition[e]=o.p}}))}));t.orderVisualNode=(e,n,o,s)=>{const{instances:p,connections:m}=e,f={...p.reduce(((e,t)=>{const o=(0,u.size)((0,d.calcNodeWidth)(t,(0,c.safelyGetNodeDef)(t,n)),r.NODE_HEIGHT);return{...e,[`ins-${t.id}`]:{p:t.pos,s:o}}}),{}),...(0,i.okeys)(e.inputsPosition).reduce(((t,n)=>({...t,[`node-input-${n}`]:{p:e.inputsPosition[n],s:(0,u.size)((0,l.calcNodeIoWidth)(n),r.NODE_HEIGHT)}})),{}),...(0,i.okeys)(e.outputsPosition).reduce(((t,n)=>({...t,[`node-output-${n}`]:{p:e.outputsPosition[n],s:(0,u.size)((0,l.calcNodeIoWidth)(n),r.NODE_HEIGHT)}})),{})},_=m.map((e=>[(0,i.isExternalConnectionNode)(e.from)?`node-input-${e.from.pinId}`:`ins-${e.from.insId}`,(0,i.isExternalConnectionNode)(e.to)?`node-output-${e.to.pinId}`:`ins-${e.to.insId}`])),v=(0,a.orderLayout)({nodes:f,edges:_},o,((n,o)=>{s&&s((0,t.layoutToInstances)(n,e),o)}));return(0,t.layoutToInstances)(v,e)}},90794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orderLayout=void 0;const o=n(60190),r=400,i=e=>e.reduce(((e,t)=>{const n=(0,o.vSub)(t.p,(0,o.vec)(t.s.width/2,t.s.height/2));return{...e,[t.id]:{p:n,s:t.s}}}),{});t.orderLayout=(e,t,n)=>{let{nodes:a,edges:s}=e,l=Object.entries(a).map((e=>{let[t,n]=e;return{id:t,p:(0,o.vAdd)(n.p,(0,o.vec)(n.s.width/2,n.s.height/2)),f:(0,o.vec)(0,0),v:(0,o.vec)(0,0),m:1,s:n.s}})),u=0;for(;u<t&&(u<2||(0,o.totalEnergy)(l)>.01);){let e=l;for(let t=0;t<e.length;t++)for(let n=t+1;n<e.length;n++)if(t!==n){const i=e[t],a=e[n],s=(0,o.vSub)(i.p,a.p),l=Math.abs(s.x),u=Math.abs(s.y),d=i.id.startsWith("node-input"),c=i.id.startsWith("node-output"),p=a.id.startsWith("node-input"),m=a.id.startsWith("node-output");if(l<r&&u<80){const e=1e3*(r-l);i.f=(0,o.vAdd)(i.f,(0,o.vec)(.5*e,0)),a.f=(0,o.vAdd)(a.f,(0,o.vec)(-.5*e,0))}if(u<50){const e=100*s.y;i.f=(0,o.vAdd)(i.f,(0,o.vec)(0,.5*e)),a.f=(0,o.vAdd)(a.f,(0,o.vec)(0,-.5*e))}if(d&&m){const e=(0,o.vSub)(i.p,a.p).y;if(e<-500){const t=100*(r-e);i.f=(0,o.vAdd)(i.f,(0,o.vec)(0,-.5*t)),a.f=(0,o.vAdd)(a.f,(0,o.vec)(0,.5*t))}}else if(c&&p){const e=(0,o.vSub)(i.p,a.p).y;if(e<500){const t=100*(r-e);i.f=(0,o.vAdd)(i.f,(0,o.vec)(0,-.5*t)),a.f=(0,o.vAdd)(a.f,(0,o.vec)(0,.5*t))}}const f=(0,o.vSub)(i.p,(0,o.vec)(0,i.p.y)),_=(0,o.vLen)(f),v=(0,o.vMul)((0,o.vNorm)(f),-50*_);i.f=(0,o.vAdd)(i.f,v)}s.forEach((t=>{let n=e.find((e=>e.id===t[0])),r=e.find((e=>e.id===t[1]));if(!n||!r)return void console.warn("weoops",t[0],t[1]);const i=(0,o.vec)(0,-200),a=(0,o.vSub)(n.p,r.p),s=(0,o.vSub)(i,a),l=1e3*(0,o.vLen)(s),u=(0,o.vMul)((0,o.vNorm)(s),.5*l),d=(0,o.vMul)((0,o.vNorm)(s),-.5*l);n.f=(0,o.vAdd)(n.f,u),r.f=(0,o.vAdd)(r.f,d)})),e=e.map((e=>(0,o.itrPhysics)(15,e))),e=e.map((e=>{const t=(0,o.vMul)(e.v,.5),n=(0,o.vLen)(t)>100?(0,o.vMul)((0,o.vNorm)(t),100):t;return{...e,v:n}})),l=e,n&&n({nodes:i(e),edges:s},u),u++}return{nodes:i(l),edges:s,itrs:u,timeout:u>=t,total:(0,o.totalEnergy)(l)}}},2036:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PinView=t.PIN_HEIGHT=void 0;const s=n(35250),l=i(n(70079)),u=a(n(26372)),d=n(50382),c=n(74762),p=n(30994),m=n(66189),f=n(30653);t.PIN_HEIGHT=23;t.PinView=l.memo((function(e){const{selected:t,type:n,connected:o,optional:r,currentInsId:i,isClosestToMouse:a,id:_,onMouseDown:v,onMouseUp:b}=e,{history:g,resetHistory:h,refreshHistory:y}=(0,m.useHistoryHelpers)(i,_,n),I=(0,f.useDarkMode)(),x="input"===n?(0,c.getInputName)(_):(0,c.getOutputName)(_),C=l.useCallback((e=>{0===e.button&&v(_,n,e)}),[_,n,v]),w=l.useCallback((e=>{0===e.button&&b(_,n,e)}),[_,n,b]);return(0,s.jsxs)("div",{className:(()=>{if("input"===e.type){const{isSticky:i}=e;return(0,u.default)("pin",{sticky:i,selected:t,closest:a,optional:r,connected:o,minimized:e.minimized,dark:I},n)}return(0,u.default)("pin",{selected:t,connected:o,closest:a,optional:r,minimized:e.minimized,"error-pin":_===c.ERROR_PIN_ID,dark:I},n)})(),"data-pin-id":_,children:[(0,s.jsx)(d.Tooltip,{className:"pin-info-tooltip",content:(()=>{const t=(0,m.calcHistoryContent)(g,"input"===n?e.queuedValues:void 0),o=e.description?(0,s.jsx)("em",{children:e.description}):"";return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:x})," (",n,")"," "]}),o,(0,s.jsx)("hr",{}),t]})})(),children:(0,s.jsxs)(d.ContextMenu,{onMouseEnter:y,onMouseOut:h,onMouseDown:C,onMouseUp:w,"data-tip":"","data-html":!0,"data-for":_+e.currentInsId,id:(0,p.getPinDomId)({fullInsIdPath:(0,c.fullInsIdPath)(e.currentInsId,e.ancestorsInsIds),pinId:_,pinType:n,isMain:!1}),onDoubleClick:t=>e.onDoubleClick&&e.onDoubleClick(_,t),className:(0,u.default)("pin-inner",{dark:I}),onClick:t=>{const{onShiftClick:o,onClick:r,id:i}=e;t.shiftKey&&o?o(i,t):r(i,n,t)},content:(()=>{const t=(0,s.jsx)(d.MenuItem,{onClick:()=>e.onInspect(e.currentInsId,{id:e.id,type:e.type}),text:"Inspect"});return"input"===e.type?(0,s.jsxs)(d.Menu,{children:[(0,s.jsx)(d.MenuItem,{onClick:()=>e.onToggleSticky(e.id),text:"Toggle sticky (square means sticky)"}),t]}):(0,s.jsx)(d.Menu,{children:t})})(),children:[x," ","input"===e.type&&e.isSticky?(0,s.jsx)("span",{className:"suffix",children:"s"}):null,"input"===e.type&&e.queueSize?(0,s.jsxs)("span",{className:"suffix",children:[e.queueSize," in Q"]}):null]})}),(0,s.jsx)("div",{className:"wire"})]})}))},66189:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHistoryHelpers=t.calcHistoryContent=void 0;const r=n(35250),i=n(96233),a=o(n(70079)),s=n(70079),l=n(98158);t.calcHistoryContent=(e,t)=>{if(e){const{total:n,lastSamples:o}=e,s=(0,r.jsxs)("strong",{children:["Activated ",n," times this session"]}),l=o.length>0?(0,r.jsxs)("div",{children:["Last value:"," ",(0,r.jsx)("strong",{children:(0,i.valuePreview)(o[0].val).substring(0,200)}),(0,r.jsx)("br",{}),(0,r.jsx)("em",{children:"Inspect instance for the full value"})]}):"",u=t?(0,r.jsx)(a.default.Fragment,{children:(0,r.jsxs)("div",{children:["Queued values: ",(0,r.jsx)("strong",{children:t})]})}):"";return(0,r.jsxs)(a.default.Fragment,{children:[s,l,u]})}return"Loading session data.."};t.useHistoryHelpers=(e,t,n)=>{const o=(0,s.useRef)(),{onRequestHistory:r}=(0,l.useDebuggerContext)(),[i,u]=(0,s.useState)();return{history:i,refreshHistory:(0,s.useCallback)((()=>{clearInterval(o.current),r(e,t,n).then((e=>{u(e)})),o.current=setInterval((()=>{r(e,t,n).then((e=>{u(e)}))}),500)}),[e,r,t,n]),resetHistory:a.default.useCallback((()=>{clearInterval(o.current),u(void 0)}),[])}}},89440:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickAddMenu=void 0;const a=n(35250),s=i(n(70079)),l=n(74762),u=n(50382),d=n(70457),c=n(9958),p=n(86125),m=d.Select.ofType(),f=e=>{switch(e.type){case"node":return`${e.node.id}`;case"value":return"Add inline value or function";case"import":return`Import ${e.importableNode.node.id} from ${e.importableNode.module}`}},_=(e,t)=>{let{handleClick:n,modifiers:o,query:r,index:i}=t;if(!o.matchesPredicate)return null;const l=f(e);return"value"===e.type?(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(u.MenuDivider,{}),(0,a.jsx)(u.MenuItem,{active:o.active,disabled:o.disabled,onClick:n,text:(0,c.highlightText)(l,r)},f(e))]},i):(0,a.jsx)(u.MenuItem,{active:o.active,disabled:o.disabled,onClick:n,text:(0,c.highlightText)(l,r)},f(e))},v=(e,t,n,o)=>{const r=f(t).toLocaleLowerCase(),i=e.toLowerCase();return o?r===i:r.includes(i)};t.QuickAddMenu=e=>{const{resolvedDependencies:t,targetNode:n}=e,o={left:e.pos.x,top:e.pos.y},{onRequestImportables:r}=(0,p.useDependenciesContext)(),[i,d]=s.useState();s.useEffect((()=>{r().then((e=>d(e.importables)))}),[r]);const c=(0,l.values)({...t,[n.id]:n}),f=c.map((e=>({type:"node",node:e}))),b=new Set(c.map((e=>e.id))),g=i?i.filter((e=>!b.has(e.node.id))).map((e=>({type:"import",importableNode:e}))):[],h=f.concat(g).concat({type:"value"});return(0,a.jsx)("div",{className:"quick-add-menu",style:o,children:(0,a.jsx)(m,{className:"quick-add-nodes-select",items:h,itemPredicate:v,itemRenderer:_,inputProps:{className:"quick-add-input"},noResults:(0,a.jsx)(u.MenuItem,{disabled:!0,text:"No results."}),onItemSelect:t=>e.onAdd(t),popoverProps:{isOpen:!0,onClose:()=>e.onClose()}})})}},71033:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(89440),t)},73470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRuntimePlayer=void 0;const o=n(74762),r=n(64955),i=(0,o.debugLogger)("runtime-player");t.createRuntimePlayer=()=>{let e=0,t=[];let n=!1,a=Date.now(),s=e;const l=()=>requestAnimationFrame((()=>{const u=Date.now();s=e,e+=u-a,a=u,((e,n)=>{const a=t;t=[],a.length&&i(`Playing ${a.length} events from`,e,n),a.forEach((e=>{i("Playing event",e),(0,r.playEvent)(e),e.insId===o.ROOT_INS_ID&&e.type===o.DebuggerEventType.PROCESSING_CHANGE&&!1===e.val&&(i("Main instance is done processing, clearing runtime UI",e),d())}))})(s,e),n&&l()})),u=()=>{n=!1},d=()=>{document.querySelectorAll("[data-runtime]").forEach((e=>{e.removeAttribute("data-runtime")})),document.querySelectorAll("[data-runtime-queue]").forEach((e=>{e.removeAttribute("data-runtime-queue")})),t=[]};return{stop:u,start:function(t){void 0===t&&(t=0),n=!0,e=t,a=Date.now(),l()},addEvents:e=>{t.push(...e)},destroy:()=>{u(),d()},clear:d,status:()=>({running:n,currDt:e,lastDt:s,queue:t,last:a})}}},64955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playEvent=t.cancelTimers=void 0;const o=n(74762),r=n(30994),i=1500,a=(0,o.debugLogger)("runtime-player:play-event"),s=(e,t)=>e.type===o.DebuggerEventType.INPUT_CHANGE||e.type===o.DebuggerEventType.OUTPUT_CHANGE?`${(0,o.fullInsIdPath)(e.insId,e.ancestorsInsIds)}.${e.pinId}`:(0,o.fullInsIdPath)(e.insId,e.ancestorsInsIds);t.cancelTimers=new Map;t.playEvent=e=>{switch(e.type){case o.DebuggerEventType.INPUT_CHANGE:case o.DebuggerEventType.OUTPUT_CHANGE:{const{pinId:n,insId:l,ancestorsInsIds:u}=e,d=e.type===o.DebuggerEventType.INPUT_CHANGE?"input":"output",c=[(0,r.getPinDomId)({fullInsIdPath:(0,o.fullInsIdPath)(l,u),pinId:n,pinType:d,isMain:!0})];l!==o.ROOT_INS_ID&&c.push((0,r.getPinDomId)({fullInsIdPath:(0,o.fullInsIdPath)(l,u),pinId:n,pinType:d,isMain:!1})),c.forEach(((r,u)=>{const d=s(e);clearTimeout(t.cancelTimers.get(d));const c=document.getElementById(r),p=`${l}.${n}`,m=e.type===o.DebuggerEventType.OUTPUT_CHANGE?document.querySelectorAll(`[data-from-id="${p}"]`):[];if(c){clearTimeout(t.cancelTimers.get(d)),c.removeAttribute("data-runtime"),m.forEach((e=>{e.removeAttribute("data-runtime")})),setTimeout((()=>{c.setAttribute("data-runtime","active"),m.forEach((e=>{e.setAttribute("data-runtime","active")}))}),0);const n=setTimeout((()=>{c.removeAttribute("data-runtime"),m.forEach((e=>{e.removeAttribute("data-runtime")})),t.cancelTimers.delete(d)}),i);t.cancelTimers.set(s(e),n)}else a(`No DOM element with Id [${r}] found to play event`,e)}));break}case o.DebuggerEventType.PROCESSING_CHANGE:{const{insId:n,ancestorsInsIds:l}=e,u=[(0,r.getMainInstanceIndicatorDomId)(n,l)];n!==o.ROOT_INS_ID&&u.push((0,r.getInstanceDomId)(n,l)),u.forEach(((n,o)=>{var r;const l=s(e),u=null===(r=document.getElementById(n))||void 0===r?void 0:r.parentElement;if(u)if(!0===e.val)u.setAttribute("data-runtime","processing"),clearTimeout(t.cancelTimers.get(l));else{u.removeAttribute("data-runtime"),setTimeout((()=>{"error"!==u.getAttribute("data-runtime")&&u.setAttribute("data-runtime","done")}),0);const e=setTimeout((()=>{u.removeAttribute("data-runtime"),t.cancelTimers.delete(l)}),i);t.cancelTimers.set(l,e)}else a(`No DOM element with Id [${n}] found to play event`,e)}));break}case o.DebuggerEventType.ERROR:{const{insId:n,ancestorsInsIds:l}=e,u=[(0,r.getMainInstanceIndicatorDomId)(n,l)];n!==o.ROOT_INS_ID&&u.push((0,r.getInstanceDomId)(n,l)),u.forEach(((n,o)=>{var r;const l=s(e),u=null===(r=document.getElementById(n))||void 0===r?void 0:r.parentElement;if(!u)return void a(`No DOM element with Id [${n}] found to play event`,e);clearTimeout(t.cancelTimers.get(l)),u.removeAttribute("data-runtime"),setTimeout((()=>{u.setAttribute("data-runtime","error")}));const d=setTimeout((()=>{u.removeAttribute("data-runtime"),t.cancelTimers.delete(l)}),i);t.cancelTimers.set(l,d)}));const d={...e,type:o.DebuggerEventType.OUTPUT_CHANGE,pinId:o.ERROR_PIN_ID};(0,t.playEvent)(d);break}case o.DebuggerEventType.INPUTS_STATE_CHANGE:(0,o.entries)(e.val).forEach((t=>{let[n,i]=t;const{insId:s,ancestorsInsIds:l}=e,u=(0,r.getPinDomId)({fullInsIdPath:(0,o.fullInsIdPath)(s,l),pinId:n,pinType:"input",isMain:!1}),d=document.getElementById(u);d?i>0?d.setAttribute("data-runtime-queue",`${i}`):d.removeAttribute("data-runtime-queue"):a(`No DOM element with Id [${u}] found to play event`,e)}))}}},25804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDebounce=void 0;const o=n(70079);t.useDebounce=function(e,t){const[n,r]=(0,o.useState)(e);return(0,o.useEffect)((()=>{const n=setTimeout((()=>{r(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),[n,r]}},7047:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.handleChangeNodeInputType=t.handleIoPinRename=t.handleInstanceDrag=t.getInstancesInRect=t.isJsxValue=t.getMiddleOfViewPort=t.fitViewPortToNode=t.fitViewPortToRect=t.centerBoardPosOnTarget=t.renderedPosToLogicalPos=t.logicalPosToRenderedPos=t.getEffectiveNodeDimensions=t.calcNodesPositions=t.calcSelectionBoxArea=t.animateViewPort=t.easeInOutNum=t.easeInOutPos=t.easeInOutQuad=t.center=t.distance=t.clamp=t.domToViewPort=t.roundNumber=t.createNewMacroNodeInstance=t.createNewNodeInstance=t.createNewInlineNodeInstance=t.parseInputOutputTypes=t.parsePromptValue=t.getSelectionBoxRect=t.findClosestPin=t.changePinConfig=t.getInstancePinConfig=t.emptyList=t.emptyObj=void 0;const a=i(n(53865)),s=n(30721),l=n(63521),u=n(74762),d=n(18243),c=n(74762),p=n(53159),m=n(83782),f=n(60190),_=n(38259),v=n(83651),b=n(41032);t.emptyObj={},t.emptyList=[],t.getInstancePinConfig=function(e,n,o){var r;const i=e.instances.find((e=>e.id===n));if(!i)throw new Error(`Instance ${n} not found`);return null!==(r=(i.inputConfig||t.emptyObj)[o])&&void 0!==r?r:(0,u.queueInputPinConfig)()};t.changePinConfig=(e,t,n,o)=>a.produce(e,(e=>{var r;const{instances:i}=e,a=i.find((e=>e.id===t));if(!a)throw new Error("blah");const s=null!==(r=a.inputConfig)&&void 0!==r?r:{};s[n]=o,e.instances=i.map((e=>e===a?{...a,inputConfig:s}:e))}));t.findClosestPin=(e,t,n,o,r,i,a)=>{const s=(0,u.nodeInstance)(e.id,e.id),l=(0,c.okeys)(e.inputs).map((e=>({id:e,type:"input",pos:(0,d.calcPinPosition)({insId:r,ancestorsInsIds:i,pinId:e,pinType:"input",boardPos:o,viewPort:a,isMain:!0}),ins:s}))),p=(0,c.okeys)(e.outputs).map((e=>({id:e,type:"output",pos:(0,d.calcPinPosition)({insId:r,ancestorsInsIds:i,pinId:e,pinType:"output",boardPos:o,viewPort:a,isMain:!0}),ins:s}))),m=[...l,...e.instances.reduce(((n,s)=>{const l=(0,b.safelyGetNodeDef)(s,t),c=(0,v.getVisibleInputs)(s,l,e.connections),p=(0,v.getVisibleOutputs)(s,l,e.connections);return[...n,...c.map((e=>({ins:s,type:"input",pos:(0,d.calcPinPosition)({insId:s.id,ancestorsInsIds:(0,u.fullInsIdPath)(r,i),pinId:e,pinType:"input",boardPos:o,viewPort:a,isMain:!1}),id:e}))),...p.map((e=>({ins:s,type:"output",pos:(0,d.calcPinPosition)({insId:s.id,ancestorsInsIds:(0,u.fullInsIdPath)(r,i),pinId:e,pinType:"output",boardPos:o,viewPort:a,isMain:!1}),id:e})))]}),[]),...p];let f={dis:1e5,item:m[0]};return m.forEach((e=>{const t=e.pos.x-n.x,o=e.pos.y-n.y,r=Math.sqrt(t*t+o*o);r<f.dis&&(f.dis=r,f.item=e)})),f.item};t.getSelectionBoxRect=(e,t)=>{const n=Math.min(e.x,t.x),o=Math.min(e.y,t.y);return{x:n,y:o,w:Math.max(e.x,t.x)-n,h:Math.max(e.y,t.y)-o}};t.parsePromptValue=e=>{if(null===e)return;const t=parseInt(e,10);let n=e;return t.toString()!=e||isNaN(t)||(n=t),n};t.parseInputOutputTypes=e=>{const[,t,n]=e.match(/node\((.+)\|(.+)\)/)||[],o=(0,c.entries)(JSON.parse(t)).map((e=>{let[t,n]=e;const o={type:n,optional:(0,c.isOptionalType)(t)};return[t.replace(/\?$/,""),o]})),r=(0,c.entries)(JSON.parse(n)).map((e=>{let[t,n]=e;const o={type:n,optional:(0,c.isOptionalType)(t)};return[t.replace(/\?$/,""),o]}));return{inputs:(0,c.fromEntries)(o),outputs:(0,c.fromEntries)(r)}};t.createNewInlineNodeInstance=function(e,t,n){void 0===t&&(t=-1*l.NODE_HEIGHT*1.5);const o=(0,u.inlineNodeInstance)(`${e.id}-${(0,c.randomInt)(999)}`,e,{},{x:0,y:0}),r=(0,p.calcNodeWidth)(o,e),{x:i,y:a}=n,s={x:i-r/2,y:a+t};return{...o,pos:s}};t.createNewNodeInstance=function(e,t,n,o){void 0===t&&(t=-1*l.NODE_HEIGHT*1.5);const r="string"==typeof e?(0,b.safelyGetNodeDef)(e,o):e;if(!r)throw new Error(`${e} node not found in resolvedNodes`);const i=(0,c.entries)(r.inputs).reduce(((e,t)=>{let[n,o]=t;return e}),{}),a=(0,u.isMacroNodeDefinition)(r)?(0,u.macroNodeInstance)((0,u.createInsId)(r),r.id,r.defaultData,i,{x:0,y:0}):(0,u.nodeInstance)((0,u.createInsId)(r),r.id,i,{x:0,y:0}),s=(0,p.calcNodeWidth)(a,r),{x:d,y:m}=n,f={x:d-s/2,y:m+t};return{...a,pos:f}};t.createNewMacroNodeInstance=function(e,t,n){void 0===t&&(t=-1*l.NODE_HEIGHT*1.5);const o=(0,u.macroNodeInstance)((0,s.createId)(),e.id,e.defaultData,{},{x:0,y:0}),{x:r,y:i}=n;return{...o,pos:{x:r-50,y:i+t}}};t.roundNumber=e=>Math.round(100*e)/100;t.domToViewPort=(e,n,o)=>({x:(0,t.roundNumber)(n.pos.x+e.x/n.zoom/o.zoom),y:(0,t.roundNumber)(n.pos.y+e.y/n.zoom/o.zoom)});t.clamp=(e,t,n)=>Math.max(e,Math.min(t,n));t.distance=(e,t)=>{const n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)};t.center=(e,t,n)=>{let{zoom:o}=n;const r=e.x+e.w/2,i=e.y+e.h/2,{w:a,h:s}=t;return{x:r-a/o/2,y:i-s/o/2}};t.easeInOutQuad=e=>e<.5?2*e*e:(4-2*e)*e-1;t.easeInOutPos=(e,n,o,r,i)=>{const a=(0,t.clamp)(0,1,(i-o)/r),s=(0,t.easeInOutQuad)(a),l=n.x-e.x,u=n.y-e.y;return{x:e.x+l*s,y:e.y+u*s}};t.easeInOutNum=(e,n,o,r,i)=>{const a=(0,t.clamp)(0,1,(i-o)/r);return e+(n-e)*(0,t.easeInOutQuad)(a)};t.animateViewPort=(e,n,o,r)=>{const i=(0,t.distance)(e.pos,n.pos),a=Date.now(),s=o;if(0===i)return void r(e);const l=()=>{const o=Date.now(),i=(0,t.easeInOutPos)(e.pos,n.pos,a,s,o),u=(0,t.easeInOutNum)(e.zoom,n.zoom,a,s,o);o-a<s?(r({pos:i,zoom:u}),requestAnimationFrame(l)):r({pos:i,zoom:u})};requestAnimationFrame(l)};t.calcSelectionBoxArea=e=>{const n=(0,t.getSelectionBoxRect)(e.from,e.to);return n.h*n.w};const g=(e,t,n,o)=>({left:n.x,right:n.x+e,top:n.y,bottom:n.y+t,tag:o,center:(0,u.calcCenter)({w:e,h:t,...n})});t.calcNodesPositions=(e,t)=>[...e.instances.map((e=>{const n=(0,p.calcNodeWidth)(e,(0,b.safelyGetNodeDef)(e,t)),o=l.NODE_HEIGHT;return g(n,o,e.pos,e.id)})),...(0,c.okeys)(e.inputs).map((t=>{const n=(0,m.calcNodeIoWidth)(t),o=l.NODE_HEIGHT,r=e.inputsPosition[t]||{x:0,y:0};return g(n,o,r,"input_"+t)})),...(0,c.okeys)(e.outputs).map((t=>{const n=(0,m.calcNodeIoWidth)(t),o=l.NODE_HEIGHT,r=e.outputsPosition[t]||{x:0,y:0};return g(n,o,r,"output"+t)}))];t.getEffectiveNodeDimensions=(e,n)=>{const o=(0,t.calcNodesPositions)(e,n),r=o[0]||{left:0,right:0,top:0,bottom:0},i=o.reduce(((e,t)=>t.left<e?t.left:e),r.left),a=o.reduce(((e,t)=>t.right>e?t.right:e),r.right),s=o.reduce(((e,t)=>t.top<e?t.top:e),r.top),l=a-i,d=o.reduce(((e,t)=>t.bottom>e?t.bottom:e),r.bottom)-s,c={x:i,y:s};return{size:{width:l,height:d},pos:c,center:(0,u.calcCenter)({w:l,h:d,...c})}};t.logicalPosToRenderedPos=(e,t)=>{const n=(0,f.vSub)(e,t.pos);return(0,f.vMul)(n,t.zoom)};t.renderedPosToLogicalPos=(e,t)=>{const n=(0,f.vDiv)(e,t.zoom);return(0,f.vAdd)(t.pos,n)};t.centerBoardPosOnTarget=(e,n,o,r)=>{const i=(0,t.logicalPosToRenderedPos)(e,r),a=(0,t.renderedPosToLogicalPos)(i,{...r,zoom:o}),s=Math.max(e.x,a.x)-Math.min(e.x,a.x),l=Math.max(e.y,a.y)-Math.min(e.y,a.y);return{x:o>r.zoom?r.pos.x+s:r.pos.x-s,y:o>r.zoom?r.pos.y+l:r.pos.y-l}};t.fitViewPortToRect=function(e,n,o){void 0===o&&(o=[20,150]);const r=o[0],i=o[1],a=e.w+r,s=e.h+i,l=n.width/a,u=n.height/s,d=Math.min(l,u)/1.15,c=(0,t.clamp)(.3,1.2,d);return{zoom:c,pos:{x:e.x-n.width/2/c,y:e.y-n.height/2/c+20}}};t.fitViewPortToNode=function(e,n,o,r){void 0===r&&(r=[20,150]);const{size:i,center:a}=(0,t.getEffectiveNodeDimensions)(e,n);return(0,t.fitViewPortToRect)({x:a.x,y:a.y,w:i.width,h:i.height},o,r)};t.getMiddleOfViewPort=(e,n)=>{const o={x:n.width/2,y:n.height/2};return(0,t.renderedPosToLogicalPos)(o,e)};t.isJsxValue=e=>{const t=e=>(0,c.isDefined)(e.ref)&&(0,c.isDefined)(e.type)&&(0,c.isDefined)(e.props);try{const n=JSON.parse(e);return t(n)||Array.isArray(n)&&t(n[0])}catch(n){return!1}};t.getInstancesInRect=(e,n,o,r,i,a,s)=>{const{from:d,to:c}=e,m=(0,t.getSelectionBoxRect)(d,c);return i.filter((e=>{const{pos:t}=e,r={...t,w:(0,p.calcNodeWidth)(e,(0,b.safelyGetNodeDef)(e,n))*o.zoom*s.zoom,h:l.NODE_HEIGHT*o.zoom*s.zoom};return(0,u.intersectRect)(m,r)||(0,u.intersectRect)(r,m)})).map((e=>e.id))};t.handleInstanceDrag=(e,t,n,o,r,i)=>{o.preventDefault(),o.stopPropagation();const s=(0,f.vSub)(n,t.pos);let l;const u=a.produce(e,(e=>{const a=e.instances.find((e=>e.id===t.id));if(!a)throw new Error("impossible state dragging instance that does not exist");!o.shiftKey&&i&&(l=[i]);const u=e.instances.filter((e=>r.includes(e.id)&&e!==a)),d=[a,...u],c=(0,_.getLeafInstancesOfSelection)(d,e.instances,e.connections);[...u,...c].forEach((e=>{e.pos=(0,f.vAdd)(e.pos,s)})),a.pos=n,!o.shiftKey&&i&&(l=[i])}));return{newValue:u,newSelected:l}};t.handleIoPinRename=(e,t,n,o)=>a.produce(e,(e=>{"input"===t?(e.inputs[o]=e.inputs[n],e.inputsPosition[o]=e.inputsPosition[n],delete e.inputs[n],e.connections=e.connections.map((e=>(0,u.isExternalConnectionNode)(e.from)&&e.from.pinId===n?{...e,from:{...e.from,pinId:o}}:e))):(e.outputs[o]=e.outputs[n],e.outputsPosition[o]=e.outputsPosition[n],e.connections=e.connections.map((e=>(0,u.isExternalConnectionNode)(e.to)&&e.to.pinId===n?{...e,to:{...e.to,pinId:o}}:e)),e.completionOutputs=(e.completionOutputs||[]).map((e=>e.split("+").map((e=>e===n?o:n)).join("+"))),delete e.outputs[n])}));t.handleChangeNodeInputType=(e,t,n)=>a.produce(e,(e=>{const o=e.inputs[t];if(!o)throw new Error("Wat");o.mode=n}))},42403:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createEditorClient=void 0;const r=n(74762),i=o(n(18706)),a=n(32048),s=n(31758),l=(0,r.debugLogger)("remote-debugger:editor-client");t.createEditorClient=(e,t)=>{const n=new URL(e),o=(0,a.io)(n.origin,{path:`${"/"===n.pathname?"":n.pathname}/socket.io/editor`,timeout:3e4});return o.emit("join-room-editor",t),{emitChange:e=>{o.emit(s.DebuggerServerEventType.CHANGE_EVENT_NAME,e)},emitBreakpointsChange:e=>{o.emit(s.DebuggerServerEventType.UPDATE_BREAKPOINTS,e)},interceptInput:e=>{o.emit(s.DebuggerServerEventType.INPUT_VALUE_OVERRIDE,e)},interceptOutput:e=>{o.emit(s.DebuggerServerEventType.OUTPUT_VALUE_OVERRIDE,e)},onRuntimeReady:e=>(o.on(s.DebuggerServerEventType.RUNTIME_READY,e),()=>o.off(s.DebuggerServerEventType.RUNTIME_READY,e)),onChangeAwk:e=>(o.on(s.DebuggerServerEventType.CHANGE_AWK,e),()=>o.off(s.DebuggerServerEventType.CHANGE_AWK,e)),onChangeError:e=>(o.on(s.DebuggerServerEventType.CHANGE_ERROR,e),()=>o.off(s.DebuggerServerEventType.CHANGE_ERROR,e)),onIsAlive:e=>(o.on(s.DebuggerServerEventType.IS_ALIVE,e),()=>o.off(s.DebuggerServerEventType.IS_ALIVE,e)),emitInputValue:(e,t)=>{l(`Emitting push input value to ${e} %o`,t),o.emit(s.DebuggerServerEventType.PUSH_INPUT_VALUE,{pinId:e,value:t})},destroy:()=>{o.disconnect(),(0,s.enumToArray)(s.DebuggerServerEventType).forEach((e=>o.off(e)))},onDisconnect:e=>(o.on("disconnect",e),()=>o.off("disconnect",e)),debugInfo:()=>`Remote debugger for ${e}`,onBatchedEvents:e=>(o.on(s.DebuggerServerEventType.EVENTS_BATCH,e),()=>o.off(s.DebuggerServerEventType.EVENTS_BATCH,e)),requestState:()=>i.default.get(`${e}/state`).then((e=>e.data.state)),getHistory:n=>i.default.get(`${e}/history`,{params:{insId:n.insId,pinId:n.pinId,limit:n.limit,executionId:t}}).then((e=>e.data)),clearHistory:()=>i.default.delete(`${e}/history`).then((()=>{})),triggerNode:(t,n)=>i.default.post(`${e}/trigger`,{nodeId:t,inputs:n}).then((e=>e.data))}}},58066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeData=void 0;const o=n(74762),r=n(36783),i=(0,o.debugLogger)("remote-debugger:normalize-data");t.normalizeData=e=>{if(e instanceof Error)return(0,r.serializeError)(e);if("object"==typeof e&&null!==e){e={...e};const t=new WeakSet,n=e=>{if("bigint"==typeof e)return e.toString();if("object"!=typeof e||Array.isArray(e))return e;if(null===e)return e;if(t.has(e))return"[Circular]";try{t.add(e)}catch(o){i("Error adding to WeakSet","data:",e,"type:",typeof e,"error:",o)}if(Array.isArray(e))return e.map(n);if("object"==typeof e){const t={};for(const o in e)t[o]=n(e[o]);return t}return e};return n(e)}return e}},39641:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRuntimeClient=t.DEFAULT_DT_SCALE=void 0;const o=n(74762),r=n(32048),i=n(31758),a=n(58066),s=(0,o.debugLogger)("remote-debugger:runtime-client");t.DEFAULT_DT_SCALE=1;t.createRuntimeClient=(e,t)=>{const n=new URL(e),l=(0,r.io)(n.origin,{path:`${"/"===n.pathname?"":n.pathname}/socket.io/runtime`,timeout:1e3,reconnectionAttempts:3});l.emit("join-room-runtime",t),l.on("connection",(e=>{e.join(t)}));let u=new Set;l.on(i.DebuggerServerEventType.UPDATE_BREAKPOINTS,(e=>{u=new Set(e)}));const d=(0,o.cappedArrayDebounce)((e=>{s(`Emitting debounced batched events - ${e.length}`),l.emit(i.DebuggerServerEventType.EVENTS_BATCH,e)}),100,200);return{onChange:e=>(l.on(i.DebuggerServerEventType.CHANGE_EVENT_NAME,e),()=>l.off(i.DebuggerServerEventType.CHANGE_EVENT_NAME,e)),onInput:e=>(l.on(i.DebuggerServerEventType.PUSH_INPUT_VALUE,e),()=>l.off(i.DebuggerServerEventType.PUSH_INPUT_VALUE,e)),emitEvent:e=>{s(`Emitting event ${e.type} change event of ${e.insId}`),e.val=(0,a.normalizeData)(e.val),d.addItem({...e,time:Date.now()})},emitRuntimeReady:()=>{l.emit(i.DebuggerServerEventType.RUNTIME_READY,{})},emitChangeAwk:()=>{l.emit(i.DebuggerServerEventType.CHANGE_AWK,{})},emitChangeError:e=>{l.emit(i.DebuggerServerEventType.CHANGE_ERROR,{error:e})},emitIsAlive:e=>{l.emit(i.DebuggerServerEventType.IS_ALIVE,{time:e})},destroy:async()=>{d.pendingItems()&&(d.flush(),await(0,o.delay)(100)),(0,i.enumToArray)(i.DebuggerServerEventType).forEach((e=>l.off(e))),l.disconnect()},onDisconnect:e=>(l.on("disconnect",e),()=>l.off("disconnect",e)),waitForConnection:()=>new Promise(((e,t)=>{l.connected?e():(l.on("connect_error",(e=>{t(`Socket connect error: ${e}`)})),l.on("connect",(()=>{e()})))}))}}},31758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerServerEventType=t.enumToArray=t.isNumber=t.isSimpleType=t.valuePreview=t.toString=void 0;const o=n(36783);t.toString=e=>{if("object"===typeof e){if(e instanceof Error)return JSON.stringify((0,o.serializeError)(e));try{return JSON.stringify(e).substr(0,250)}catch(t){return"Object (cannot stringify)"}}return`${e}`.substr(0,250)};t.valuePreview=e=>(0,t.toString)(e).substr(0,100);t.isSimpleType=e=>["number","string","boolean"].includes(typeof e);t.isNumber=e=>!1===isNaN(Number(e)),t.enumToArray=function(e){return Object.keys(e).filter(t.isNumber).map((t=>e[t]))},function(e){e.RUNTIME_READY="runtime-ready",e.CHANGE_EVENT_NAME="change",e.PUSH_INPUT_VALUE="push-input-value",e.CHANGE_AWK="live-change-awk",e.CHANGE_ERROR="live-change-error",e.IS_ALIVE="is-alive",e.UPDATE_BREAKPOINTS="update-breakpoints",e.INPUT_VALUE_OVERRIDE="input-value-override",e.OUTPUT_VALUE_OVERRIDE="output-value-override",e.INPUT_VALUE_CHANGE="input-value-changed",e.OUTPUT_VALUE_CHANGE="output-value-changed",e.PROCESSING_CHANGE="processing-changed",e.INPUTS_STATE_CHANGE="inputs-state-changed",e.NODE_ERROR="node-error",e.EVENTS_BATCH="events-batch"}(t.DebuggerServerEventType||(t.DebuggerServerEventType={}))},96233:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(31758),t),r(n(42403),t),r(n(39641),t)},11607:(e,t)=>{"use strict";t.Z=void 0,t.Z=function(e,t,n){var o;const r=t.definitionBuilder(n.macroData),i=t.runFnBuilder(n.macroData),a=`${e}${t.id}__${n.id}`;return{...r,displayName:null!==(o=r.displayName)&&void 0!==o?o:t.id,namespace:t.namespace,id:a,run:i}}},20740:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;t.Log={id:"Log",defaultStyle:{icon:"fa-terminal"},namespace:"Console",description:"Logs a value to the console",inputs:{value:{description:"Value to log"}},outputs:{},run:e=>{let{value:t}=e;return console.log(t)}}},50461:(__unused_webpack_module,exports)=>{"use strict";var ConditionType;function calculateCondition(val1,val2,condition){switch(condition.type){case ConditionType.Equal:return val1===val2;case ConditionType.NotEqual:return val1!==val2;case ConditionType.GreaterThan:return val1>val2;case ConditionType.GreaterThanOrEqual:return val1>=val2;case ConditionType.LessThan:return val1<val2;case ConditionType.LessThanOrEqual:return val1<=val2;case ConditionType.Contains:return val1.includes(val2);case ConditionType.NotContains:return!val1.includes(val2);case ConditionType.IsEmpty:return""===val1;case ConditionType.IsNotEmpty:return""!==val1;case ConditionType.IsNull:return null===val1;case ConditionType.IsNotNull:return null!==val1;case ConditionType.IsUndefined:return void 0===val1;case ConditionType.IsNotUndefined:return void 0!==val1;case ConditionType.HasProperty:return val1.hasOwnProperty(val2);case ConditionType.LengthEqual:return val1.length===val2;case ConditionType.LengthNotEqual:return val1.length!==val2;case ConditionType.LengthGreaterThan:return val1.length>val2;case ConditionType.LengthLessThan:return val1.length<val2;case ConditionType.TypeEquals:return typeof val1===val2;case ConditionType.RegexMatches:return new RegExp(val1).test(val2);case ConditionType.Expression:try{const fnStr=`(value, compareTo) => ${condition.data}`,fn=eval(fnStr);return fn(val1,val2)}catch(e){return console.error(e),!1}}}function getProperty(e,t){const n=t.split(".").filter((e=>""!==e));let o=e;for(const r of n)o=o[r];return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Conditional=exports.ConditionType=void 0,function(e){e.Equal="EQUAL",e.NotEqual="NOT_EQUAL",e.GreaterThan="GREATER_THAN",e.GreaterThanOrEqual="GREATER_THAN_OR_EQUAL",e.LessThan="LESS_THAN",e.LessThanOrEqual="LESS_THAN_OR_EQUAL",e.Contains="CONTAINS",e.NotContains="NOT_CONTAINS",e.RegexMatches="REGEX_MATCHES",e.IsEmpty="IS_EMPTY",e.IsNotEmpty="IS_NOT_EMPTY",e.IsNull="IS_NULL",e.IsNotNull="IS_NOT_NULL",e.IsUndefined="IS_UNDEFINED",e.IsNotUndefined="IS_NOT_UNDEFINED",e.HasProperty="HAS_PROPERTY",e.LengthEqual="LENGTH_EQUAL",e.LengthNotEqual="LENGTH_NOT_EQUAL",e.LengthGreaterThan="LENGTH_GREATER_THAN",e.LengthLessThan="LENGTH_LESS_THAN",e.TypeEquals="TYPE_EQUALS",e.Expression="EXPRESSION"}(ConditionType=exports.ConditionType||(exports.ConditionType={})),exports.Conditional={id:"Conditional",namespace:"Control Flow",description:"Evaluates a condition and emits the value of the matching case",runFnBuilder:config=>(inputs,outputs,adv)=>{const{compareTo:argType,propertyPath:propertyPath,condition:condition,trueValue:trueValue,falseValue:falseValue}=config,{true:trueOutput,false:falseOutput}=outputs,comparedValue="static"===argType.mode?argType.value:inputs.compareTo,leftSide=propertyPath?getProperty(inputs.value,propertyPath):inputs.value,rightSide="dynamic"===config.compareTo.mode&&config.compareTo.propertyPath?getProperty(comparedValue,config.compareTo.propertyPath):comparedValue,result=calculateCondition(leftSide,rightSide,condition),outputToUse=result?trueOutput:falseOutput,configToUse=result?trueValue:falseValue;if("value"===configToUse.type)outputToUse.next(inputs.value);else if("compareTo"===configToUse.type)outputToUse.next(comparedValue);else{if("expression"!==configToUse.type)throw new Error(`Unknown type ${configToUse.type}`);{const expression=configToUse.data;try{const fnStr=`(value, compareTo) => ${expression}`,fn=eval(fnStr);outputToUse.next(fn(inputs.value,comparedValue))}catch(e){adv.onError(e)}}}},definitionBuilder:e=>{const t=["value"];"dynamic"===e.compareTo.mode&&t.push("compareTo");return{displayName:"Conditional",description:"Evaluates a condition and emits the value of the matching case",inputs:Object.fromEntries(t.map((e=>[e,{}]))),outputs:{true:{description:"Emits the value if the condition is true"},false:{description:"Emits the value if the condition is false"}}}},defaultData:{compareTo:{mode:"dynamic",propertyPath:""},propertyPath:"",condition:{type:ConditionType.Equal},trueValue:{type:"value"},falseValue:{type:"value"}},editorComponentBundlePath:"../../../dist/ui/Conditional.js"}},66257:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.EmitOnTrigger=t.BooleanSplit=t.Subscribe=t.Publish=t.RoundRobin=t.LimitTimes=void 0,r(n(50461),t);const i=n(11253),a="Control Flow";t.LimitTimes={id:"Limit Times",namespace:a,description:"Item will be emitted until the limit is reached",inputs:{item:{mode:"required",description:"The item to emit"},times:{mode:"required",description:"The number of times to emit the item"},reset:{mode:"optional",description:"Reset the counter"}},outputs:{ok:{}},reactiveInputs:["item","reset"],completionOutputs:[],run:function(e,t,n){const{state:o}=n,{item:r,times:i,reset:a}=e,{ok:s}=t;if(void 0!==a)return void o.set("val",0);let l=o.get("val")||0;l++,o.set("val",l),l>=i?n.onError(new Error(`Limit of ${i} reached`)):s.next(r)}},t.RoundRobin={id:"RoundRobin",displayName:"Round Robin",namespace:a,defaultData:3,definitionBuilder:e=>({displayName:`Round Robin ${e}`,description:`Item will be emitted to one of the ${e} outputs in a round robin fashion`,inputs:{value:{mode:"required",description:"The value to emit"}},completionOutputs:[],reactiveInputs:["value"],outputs:Array.from({length:e}).reduce(((t,n,o)=>({...t,[`r${o+1}`]:{description:`The ${o+1} output in order to emit the value received. After emitting a value, it moves to "r${(o+2)%e}"'s turn.`}})),{})}),runFnBuilder:e=>(t,n,o)=>{const{state:r}=o,i=Array.from({length:e}).map(((e,t)=>n[`r${t+1}`])),a=r.get("curr")||0,s=i[a],l=(a+1)%e;r.set("curr",l),s.next(t.item)},editorComponentBundlePath:"../../../dist/ui/RoundRobin.js"},t.Publish={id:"Publish",namespace:a,description:"Publishes a value by a key to all listeners in the current flow. Use 'Subscribe' to listen to events.",inputs:{key:{mode:"required",description:"A key to use to subscribe to values"},value:{mode:"required"}},outputs:{},run:function(e,t,n){const o=`${n.ancestorsInsIds}__${e.key}`;i.publish(o,e.value)}},t.Subscribe={id:"Subscribe",namespace:a,description:"Subscribes to a value published by a key. Use 'Publish' to publish values.",inputs:{key:{mode:"required",description:"A key to use to subscribe to values"},initial:{mode:"required-if-connected",description:"If passed will be published has the first value"}},completionOutputs:[],outputs:{value:{description:"The value published by the key"}},run:function(e,t,n){const{value:o}=t,r=`${n.ancestorsInsIds}__${e.key}`,a=i.subscribe(r,((e,t)=>{o.next(t)}));void 0!==e.initial&&o.next(e.initial),n.onCleanup((()=>{i.unsubscribe(a)}))}},t.BooleanSplit={namespace:a,id:"Boolean Split",description:"Splits a boolean value into two outputs",inputs:{value:{mode:"required",description:"Boolean value"},trueValue:{mode:"required-if-connected",description:"Value to emit if the input is true. Defaults to true"},falseValue:{mode:"required-if-connected",description:"Value to emit if the input is false. Defaults to false"}},outputs:{true:{description:"The value is true"},false:{description:"The value is false"}},run:function(e,t){const{true:n,false:o}=t,{value:r,trueValue:i,falseValue:a}=e;r?n.next(null==i||i):o.next(null!=a&&a)}},t.EmitOnTrigger={namespace:a,id:"Emit on Trigger",description:"Emits the value when the trigger input receives any value",inputs:{value:{mode:"required",description:"The value to emit"},trigger:{mode:"required",description:"The trigger to emit the value"}},outputs:{result:{description:"The value emitted"}},run:function(e,t){const{result:n}=t,{value:o,trigger:r}=e;void 0!==r&&n.next(o)}}},35948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateToTimezoneOffset=t.DateToDayOfWeek=t.DateToMilliseconds=t.DateToSeconds=t.DateToMinutes=t.DateToHours=t.DateToDay=t.MonthToDate=t.DateToYear=t.DateToUnixTime=t.DateToISOString=t.DateToString=t.DateFromISOString=t.DateFromString=t.DateFromUnixTime=t.NowUnixTime=t.NowISOString=t.NowString=t.Now=void 0;const n="Dates";t.Now={id:"Now",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Returns the current date and time",inputs:{},outputs:{now:{description:"Current date and time"}},run:(e,t)=>{let{now:n}=t;return n.next(new Date)}},t.NowString={id:"Now String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Returns the current date and time as a string",inputs:{},outputs:{now:{description:"Current date and time"}},run:(e,t)=>{let{now:n}=t;return n.next((new Date).toString())}},t.NowISOString={id:"Now ISO String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Returns the current date and time as a string in ISO format",inputs:{},outputs:{now:{description:"Current date and time"}},run:(e,t)=>{let{now:n}=t;return n.next((new Date).toISOString())}},t.NowUnixTime={id:"Now Unix Time",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Returns the current date and time as a Unix time",inputs:{},outputs:{now:{description:"Current date and time"}},run:(e,t)=>{let{now:n}=t;return n.next((new Date).getTime())}},t.DateFromUnixTime={id:"Date From Unix Time",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Creates a date from a Unix time",inputs:{time:{description:"Unix time"}},outputs:{date:{description:"Date"}},run:(e,t)=>{let{time:n}=e,{date:o}=t;return o.next(new Date(n))}},t.DateFromString={id:"Date From String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Creates a date from a string",inputs:{string:{description:"String"}},outputs:{date:{description:"Date"}},run:(e,t)=>{let{string:n}=e,{date:o}=t;return o.next(new Date(n))}},t.DateFromISOString={id:"Date From ISO String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Creates a date from an ISO string",inputs:{string:{description:"String"}},outputs:{date:{description:"Date"}},run:async(e,t,n)=>{let{string:o}=e,{date:r}=t,{onError:i}=n;try{r.next(new Date(o))}catch(a){console.error("Error in node",a),i(a)}}},t.DateToString={id:"Date To String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a string",inputs:{date:{description:"Date"}},outputs:{string:{description:"String"}},run:(e,t)=>{let{date:n}=e,{string:o}=t;return o.next(n.toString())}},t.DateToISOString={id:"Date To ISO String",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to an ISO string",inputs:{date:{description:"Date"}},outputs:{string:{description:"String"}},run:(e,t)=>{let{date:n}=e,{string:o}=t;return o.next(n.toISOString())}},t.DateToUnixTime={id:"Date To Unix Time",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a Unix time",inputs:{date:{description:"Date"}},outputs:{time:{description:"Unix time"}},run:(e,t)=>{let{date:n}=e,{time:o}=t;return o.next(n.getTime())}},t.DateToYear={id:"Date To Year",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a year",inputs:{date:{description:"Date"}},outputs:{year:{description:"Year"}},run:(e,t)=>{let{date:n}=e,{year:o}=t;return o.next(n.getFullYear())}},t.MonthToDate={id:"Month To Date",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a month",inputs:{date:{description:"Date"}},outputs:{month:{description:"Month"}},run:(e,t)=>{let{date:n}=e,{month:o}=t;return o.next(n.getMonth())}},t.DateToDay={id:"Date To Day",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a day",inputs:{date:{description:"Date"}},outputs:{day:{description:"Day"}},run:(e,t)=>{let{date:n}=e,{day:o}=t;return o.next(n.getDate())}},t.DateToHours={id:"Date To Hours",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to hours",inputs:{date:{description:"Date"}},outputs:{hours:{description:"Hours"}},run:(e,t)=>{let{date:n}=e,{hours:o}=t;return o.next(n.getHours())}},t.DateToMinutes={id:"Date To Minutes",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to minutes",inputs:{date:{description:"Date"}},outputs:{minutes:{description:"Minutes"}},run:(e,t)=>{let{date:n}=e,{minutes:o}=t;return o.next(n.getMinutes())}},t.DateToSeconds={id:"Date To Seconds",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to seconds",inputs:{date:{description:"Date"}},outputs:{seconds:{description:"Seconds"}},run:(e,t)=>{let{date:n}=e,{seconds:o}=t;return o.next(n.getSeconds())}},t.DateToMilliseconds={id:"Date To Milliseconds",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to milliseconds",inputs:{date:{description:"Date"}},outputs:{milliseconds:{description:"Milliseconds"}},run:(e,t)=>{let{date:n}=e,{milliseconds:o}=t;return o.next(n.getMilliseconds())}},t.DateToDayOfWeek={id:"Date To Day Of Week",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a day of the week",inputs:{date:{description:"Date"}},outputs:{day:{description:"Day"}},run:(e,t)=>{let{date:n}=e,{day:o}=t;return o.next(n.getDay())}},t.DateToTimezoneOffset={id:"Date To Timezone Offset",defaultStyle:{icon:"fa-calendar"},namespace:n,description:"Converts a date to a timezone offset",inputs:{date:{description:"Date"}},outputs:{offset:{description:"Offset"}},run:(e,t)=>{let{date:n}=e,{offset:o}=t;return o.next(n.getTimezoneOffset())}}},50544:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Http=void 0;const r=o(n(18706));t.Http={id:"Http",namespace:"HTTP",displayName:"HTTP Request",description:"Performs a HTTP request to a URL and emits the response data",runFnBuilder:e=>(t,n,o)=>{const{method:i,url:a,headers:s,params:l,data:u}=e,d="dynamic"===i.mode?t.method:i.value,c="dynamic"===a.mode?t.url:a.value,p="dynamic"===(null==s?void 0:s.mode)?t.headers:null==s?void 0:s.value,m="dynamic"===(null==l?void 0:l.mode)?t.params:null==l?void 0:l.value,f="dynamic"===(null==u?void 0:u.mode)?t.data:null==u?void 0:u.value,_={method:d,headers:p,params:m};return r.default.request({url:c,data:f,..._}).then((e=>n.data.next(e.data))).catch((e=>o.onError(e)))},definitionBuilder:e=>{const t=Object.entries(e).filter((e=>{let[t,n]=e;return"dynamic"===n.mode})).map((e=>{let[t]=e;return t})),n="static"===e.method.mode?e.method.value:void 0,o=n?` ${n}`:"";return{displayName:`HTTP${o} Request`,description:`Performs a ${o} HTTP request to a URL and emits the response data`,inputs:Object.fromEntries(t.map((e=>[e,{}]))),outputs:{data:{displayName:"Data",description:"Emits the response data"}}}},defaultData:{method:{mode:"static",value:"GET"},url:{mode:"static",value:"https://www.example.com"},headers:{mode:"static",value:{}},params:{mode:"static",value:{}},data:{mode:"static",value:{}}},editorComponentBundlePath:"../../../dist/ui/Http.js"}},62737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collect=void 0;const o=n(74762),r=n(29967);t.Collect={id:"Collect",displayName:"Collect",description:"Collects values into a list. Over time, count, or trigger.",namespace:"Lists",defaultData:{strategy:"count",count:{mode:"static",count:3}},definitionBuilder:e=>{const t={value:{description:"Value to collect"}};"time"===e.strategy&&"dynamic"===e.time.mode?t.time={description:"Time in milliseconds"}:"count"===e.strategy&&"dynamic"===e.count.mode?t.count={description:"Number of values to collect"}:"trigger"===e.strategy&&(t.trigger={mode:"optional",description:"Emit a value here to output a list out of collected values"});return{displayName:"time"===e.strategy?"static"===e.time.mode?`Collect over ${(0,r.timeToString)(e.time.timeMs)}`:"Collect over time":"count"===e.strategy?"static"===e.count.mode?`Collect ${e.count.count} values`:"Collect values":"Collect on trigger",description:"time"===e.strategy?"static"===e.time.mode?`Emits a list of all values received, from the first value and until ${(0,r.timeToString)(e.time.timeMs)} pass.`:"Emits a list of all values received, from the first value and until the specified amount of time passes.":"count"===e.strategy?"static"===e.count.mode?`Collect ${e.count.count} values and emit a list of them.`:"Collect a specified amount of values and emit a list of them.":"Emits a list of all values received up until any value is received to the 'trigger' input.",inputs:t,reactiveInputs:["value",..."trigger"===e.strategy?["trigger"]:[]],outputs:{list:{description:"Collected values"}},completionOutputs:["list"]}},runFnBuilder:e=>async(t,n,r)=>{let{value:i,time:a,count:s,trigger:l}=t;const u=r.state.get("list")||[];if((0,o.isDefined)(i)&&(u.push(i),r.state.set("list",u)),"time"===e.strategy){const t="dynamic"===e.time.mode?a:e.time.timeMs;if(!r.state.get("timer")){const e=setTimeout((()=>{n.list.next(u),r.state.set("list",[])}),t);r.state.set("timer",e)}}else if("count"===e.strategy){const t="dynamic"===e.count.mode?s:e.count.count;u.length>=t&&(n.list.next(u),r.state.set("list",[]))}else"trigger"===e.strategy&&(0,o.isDefined)(l)&&(n.list.next(u),r.state.set("list",[]))},editorComponentBundlePath:"../../../../dist/ui/Collect.js"}},91294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flatten=t.Slice=t.RemoveAt=t.Remove=t.Prepend=t.Append=t.AccumulateSomeValuesByCount=t.SpreadList=t.HeadAndRest=t.LoopList=t.Reverse=t.ConcatLists=t.ListFrom=t.Repeat=t.GetListElement=t.ListIsEmpty=t.ListLength=t.Collect=void 0;var o=n(62737);Object.defineProperty(t,"Collect",{enumerable:!0,get:function(){return o.Collect}});const r="Lists";t.ListLength={id:"List Length",defaultStyle:{icon:"fa-list"},namespace:r,description:"Returns the length of a list",inputs:{list:{description:"List"}},outputs:{length:{description:"Length"}},run:(e,t)=>{let{list:n}=e,{length:o}=t;return o.next(n.length)}},t.ListIsEmpty={id:"List Is Empty",defaultStyle:{icon:"fa-list"},namespace:r,description:"Returns true if the list is empty",inputs:{list:{description:"List"}},outputs:{isEmpty:{description:"Is empty"}},run:(e,t)=>{let{list:n}=e,{isEmpty:o}=t;return o.next(0===n.length)}},t.GetListElement={id:"Get List Element",defaultStyle:{icon:"fa-list"},namespace:r,description:"Returns the element at the specified index",inputs:{list:{description:"List"},index:{description:"Index"}},outputs:{element:{description:"Element"}},run:(e,t)=>{let{list:n,index:o}=e,{element:r}=t;return r.next(n[o])}},t.Repeat={id:"Repeat",defaultStyle:{icon:"fa-list"},namespace:r,description:"Repeats a value a number of times",inputs:{value:{description:"Value to repeat"},times:{description:"How many times will the value be repeated"}},outputs:{list:{description:"List"}},run:(e,t)=>{let{value:n,times:o}=e,{list:r}=t;const i=[];for(let a=0;a<o;a++)i.push(n);return r.next(i)}},t.ListFrom={id:"ListFrom",namespace:r,runFnBuilder:e=>(t,n)=>{let{list:o}=n;const r=[];for(let i=0;i<e;i++)r.push(t[`item${i+1}`]);return o.next(r)},definitionBuilder:e=>({description:`Creates a list from ${e} values`,displayName:`List from ${e}`,inputs:Object.fromEntries(Array.from({length:e},((e,t)=>[`item${t+1}`,{}]))),outputs:{list:{description:"List containing all values"}}}),defaultData:3,editorComponentBundlePath:"../../../dist/ui/ListFrom.js"},t.ConcatLists={id:"Concat Lists",defaultStyle:{icon:"fa-list"},namespace:r,description:"Concatenates two lists",inputs:{list1:{description:"First list"},list2:{description:"Second list"}},outputs:{list:{description:"Concatenated list"}},run:(e,t)=>{let{list1:n,list2:o}=e,{list:r}=t;return r.next([...n,...o])}},t.Reverse={id:"Reverse",defaultStyle:{icon:"fa-list"},namespace:r,description:"Reverses a list",inputs:{list:{description:"List"}},outputs:{reversed:{description:"Reversed list"}},run:(e,t)=>{let{list:n}=e,{reversed:o}=t;return o.next(n.reverse())}},t.LoopList={id:"Loop List",defaultStyle:{icon:"fa-list"},namespace:r,searchKeywords:["each","spread"],description:"Emits all values in a list",inputs:{list:{description:"The list to loop"}},outputs:{item:{description:"Will emit a value for each item in the list"},index:{description:"Will emit the index of the item"},length:{description:"Will emit the length of the list"}},run:(e,t)=>{const{list:n}=e,{item:o,index:r}=t;for(const i of n)o.next(i),r.next(n.indexOf(i));t.length.next(n.length)}},t.HeadAndRest={id:"Head and rest",defaultStyle:{icon:"fa-list"},namespace:r,description:"Receives a list and emits two outputs: the first item and the rest of the list",inputs:{list:{description:"The list"}},outputs:{head:{description:"The first item in the list"},rest:{description:"The rest of the list"}},run:(e,t)=>{const{list:n}=e,{head:o,rest:r}=t;o.next(n[0]),r.next(n.slice(1))}},t.SpreadList={id:"SpreadList",namespace:r,displayName:"Spread List",description:"Spreads a list into multiple outputs",runFnBuilder:e=>(t,n)=>{const{list:o}=t;for(let r=0;r<e;r++)n[`item${r+1}`].next(o[r])},definitionBuilder:e=>({description:`Receives a list with ${e} items and emits ${e} outputs: the first item, the second item, and so on`,displayName:`Spreads List of ${e}`,inputs:{list:{description:"The list"}},outputs:Object.fromEntries(Array.from({length:e},((e,t)=>[`item${t+1}`,{}])))}),defaultData:3,editorComponentBundlePath:"../../../dist/ui/SpreadList.js"},t.AccumulateSomeValuesByCount={id:"Accumulate Some Values by Count",defaultStyle:{icon:"fa-basket-shopping"},namespace:r,description:'Accumulates values sent to the "accept" input. Emits the list after the total items passed to both "accept" and "ignore" inputs reach the specified count.',inputs:{accept:{description:"Values to accumulate"},ignore:{description:"Values to ignore"},count:{description:"Number of values to accumulate before emitting them"}},reactiveInputs:["accept","ignore"],outputs:{accumulated:{description:"The accumulated accepted values"},ignored:{description:"The accumulated ignored values"}},run:(e,t,n)=>{const{accept:o,ignore:r,count:i}=e,{accumulated:a,ignored:s}=t,{state:l}=n;let u=l.get("list")||[],d=l.get("ignored")||[];void 0!==o&&(u.push(o),l.set("list",u)),void 0!==r&&(d.push(r),l.set("ignored",s)),u.length+d.length>=i&&(a.next(u),s.next(s))}},t.Append={id:"Append",namespace:r,description:"Appends an item to a list",inputs:{list:{description:"The list"},item:{description:"The item to append"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n,item:o}=e,{list:r}=t;r.next([...n,o])},defaultStyle:{icon:"fa-plus"}},t.Prepend={id:"Prepend",namespace:r,description:"Prepends an item to a list",inputs:{list:{description:"The list"},item:{description:"The item to prepend"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n,item:o}=e,{list:r}=t;r.next([o,...n])},defaultStyle:{icon:"fa-arrow-up"}},t.Remove={id:"Remove Item",namespace:r,description:"Removes an item from a list",inputs:{list:{description:"The list"},item:{description:"The item to remove"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n,item:o}=e,{list:r}=t;r.next(n.filter((e=>e!==o)))},defaultStyle:{icon:"fa-minus"}},t.RemoveAt={id:"Remove Item At",namespace:r,description:"Removes an item from a list at the specified index",inputs:{list:{description:"The list"},index:{description:"The index of the item to remove"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n,index:o}=e,{list:r}=t;r.next(n.filter(((e,t)=>t!==o)))},defaultStyle:{icon:"fa-times"}},t.Slice={id:"Slice",namespace:r,description:"Returns a slice of a list from the specified start index to the specified end index",inputs:{list:{description:"The list"},start:{description:"The index to start slicing from"},end:{description:"The index to end slicing at"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n,start:o,end:r}=e,{list:i}=t;i.next(n.slice(o,r))},defaultStyle:{icon:"fa-cut"}},t.Flatten={id:"Flatten",namespace:r,description:"Flattens a list of lists into a single list",inputs:{list:{description:"The list of lists"}},outputs:{list:{description:"The resulting list"}},run:(e,t)=>{let{list:n}=e,{list:o}=t;o.next(n.reduce(((e,t)=>[...e,...t]),[]))},defaultStyle:{icon:"fa-compress"}}},45888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SumList=t.LessThanOrEqual=t.LessThan=t.GreaterThanOrEqual=t.GreaterThan=t.ToFixed=t.ParseFloat=t.ParseInt=t.Max=t.Min=t.Cos=t.Sin=t.Truncate=t.Round=t.Ceiling=t.Floor=t.AbsoluteValue=t.SquareRoot=t.Power=t.Modulo=t.Divide=t.Multiply=t.Subtract=t.Add=void 0;const n="Numbers";t.Add={id:"Add",defaultStyle:{icon:"fa-plus"},namespace:n,description:"Emits the sum of two numbers",inputs:{n1:{description:"First number to add"},n2:{description:"Second number to add"}},outputs:{sum:{description:"The sum of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{sum:r}=t;return r.next(n+o)}},t.Subtract={id:"Subtract",defaultStyle:{icon:"fa-minus"},namespace:n,description:"Emits the difference of two numbers",inputs:{n1:{description:"First number to subtract"},n2:{description:"Second number to subtract"}},outputs:{difference:{description:"The difference of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{difference:r}=t;return r.next(n-o)}},t.Multiply={id:"Multiply",defaultStyle:{icon:"fa-times"},namespace:n,description:"Emits the product of two numbers",inputs:{n1:{description:"First number to multiply"},n2:{description:"Second number to multiply"}},outputs:{product:{description:"The product of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{product:r}=t;return r.next(n*o)}},t.Divide={id:"Divide",defaultStyle:{icon:"fa-divide"},namespace:n,description:"Emits the quotient of two numbers",inputs:{n1:{description:"First number to divide"},n2:{description:"Second number to divide"}},outputs:{quotient:{description:"The quotient of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{quotient:r}=t;return r.next(n/o)}},t.Modulo={id:"Modulo",defaultStyle:{icon:"fa-percentage"},namespace:n,description:"Emits the remainder of two numbers",inputs:{n1:{description:"First number to divide"},n2:{description:"Second number to divide"}},outputs:{remainder:{description:"The remainder of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{remainder:r}=t;return r.next(n%o)}},t.Power={id:"Power",defaultStyle:{icon:"fa-superscript"},namespace:n,description:"Emits the power of two numbers",inputs:{n1:{description:"Base number"},n2:{description:"Exponent"}},outputs:{power:{description:"The power of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{power:r}=t;return r.next(Math.pow(n,o))}},t.SquareRoot={id:"Square Root",defaultStyle:{icon:"fa-square-root-alt"},namespace:n,description:"Emits the square root of a number",inputs:{n:{description:"Number to take the square root of"}},outputs:{root:{description:"The square root of n"}},run:(e,t)=>{let{n:n}=e,{root:o}=t;return o.next(Math.sqrt(n))}},t.AbsoluteValue={id:"Absolute Value",defaultStyle:{icon:"fa-abs"},namespace:n,description:"Emits the absolute value of a number",inputs:{n:{description:"Number to take the absolute value of"}},outputs:{absolute:{description:"The absolute value of n"}},run:(e,t)=>{let{n:n}=e,{absolute:o}=t;return o.next(Math.abs(n))}},t.Floor={id:"Floor",defaultStyle:{icon:"fa-floor"},namespace:n,description:"Emits the floor of a number",inputs:{n:{description:"Number to take the floor of"}},outputs:{floor:{description:"The floor of n"}},run:(e,t)=>{let{n:n}=e,{floor:o}=t;return o.next(Math.floor(n))}},t.Ceiling={id:"Ceiling",defaultStyle:{icon:"fa-ceiling"},namespace:n,description:"Emits the ceiling of a number",inputs:{n:{description:"Number to take the ceiling of"}},outputs:{ceiling:{description:"The ceiling of n"}},run:(e,t)=>{let{n:n}=e,{ceiling:o}=t;return o.next(Math.ceil(n))}},t.Round={id:"Round",defaultStyle:{icon:"fa-round"},namespace:n,description:"Emits the rounded value of a number",inputs:{n:{description:"Number to round"}},outputs:{rounded:{description:"The rounded value of n"}},run:(e,t)=>{let{n:n}=e,{rounded:o}=t;return o.next(Math.round(n))}},t.Truncate={id:"Truncate",defaultStyle:{icon:"fa-truncate"},namespace:n,description:"Emits the truncated value of a number",inputs:{n:{description:"Number to truncate"}},outputs:{truncated:{description:"The truncated value of n"}},run:(e,t)=>{let{n:n}=e,{truncated:o}=t;return o.next(Math.trunc(n))}},t.Sin={id:"Sin",defaultStyle:{icon:"fa-sin"},namespace:n,description:"Emits the sine of an angle",inputs:{angle:{description:"Angle in radians"}},outputs:{sine:{description:"The sine of angle"}},run:(e,t)=>{let{angle:n}=e,{sine:o}=t;return o.next(Math.sin(n))}},t.Cos={id:"Cos",defaultStyle:{icon:"fa-cos"},namespace:n,description:"Emits the cosine of an angle",inputs:{angle:{description:"Angle in radians"}},outputs:{cosine:{description:"The cosine of angle"}},run:(e,t)=>{let{angle:n}=e,{cosine:o}=t;return o.next(Math.cos(n))}},t.Min={id:"Min",namespace:n,description:"Emits the minimum of two numbers",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{min:{description:"The minimum of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{min:r}=t;return r.next(Math.min(n,o))}},t.Max={id:"Max",namespace:n,description:"Emits the maximum of two numbers",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{max:{description:"The maximum of n1 and n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{max:r}=t;return r.next(Math.max(n,o))}},t.ParseInt={id:"Parse Int",namespace:n,description:"Emits the integer value of a string",inputs:{str:{description:"String to parse"}},outputs:{int:{description:"The integer value of str"}},run:(e,t)=>{let{str:n}=e,{int:o}=t;return o.next(parseInt(n))}},t.ParseFloat={id:"Parse Float",namespace:n,description:"Emits the float value of a string",inputs:{str:{description:"String to parse"}},outputs:{float:{description:"The float value of str"}},run:(e,t)=>{let{str:n}=e,{float:o}=t;return o.next(parseFloat(n))}},t.ToFixed={id:"To Fixed",namespace:n,description:"Emits the specified number of decimal places of a number",inputs:{number:{description:"Number to format"},places:{description:"Number of decimal places to format to"}},outputs:{fixed:{description:"The number with the specified number of decimal places"}},run:(e,t)=>{let{number:n,places:o}=e,{fixed:r}=t;return r.next(n.toFixed(o))}},t.GreaterThan={id:"Greater Than",namespace:n,description:"Emits true if the first number is greater than the second",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{result:{description:"true if n1 is greater than n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{result:r}=t;return r.next(n>o)}},t.GreaterThanOrEqual={id:"Greater Than Or Equal",namespace:n,description:"Emits true if the first number is greater than or equal to the second",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{result:{description:"true if n1 is greater than or equal to n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{result:r}=t;return r.next(n>=o)}},t.LessThan={id:"Less Than",namespace:n,description:"Emits true if the first number is less than the second",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{result:{description:"true if n1 is less than n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{result:r}=t;return r.next(n<o)}},t.LessThanOrEqual={id:"Less Than Or Equal",namespace:n,description:"Emits true if the first number is less than or equal to the second",inputs:{n1:{description:"First number"},n2:{description:"Second number"}},outputs:{result:{description:"true if n1 is less than or equal to n2"}},run:(e,t)=>{let{n1:n,n2:o}=e,{result:r}=t;return r.next(n<=o)}},t.SumList={id:"Sum List",defaultStyle:{icon:"fa-plus"},namespace:n,description:"Emits the sum of a list of numbers",inputs:{list:{description:"List of numbers"}},outputs:{sum:{description:"The sum of the numbers in list"}},run:(e,t)=>{let{list:n}=e,{sum:o}=t;return o.next(n.reduce(((e,t)=>e+t),0))}}},21518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteAttribute=t.SetAttribute=t.GetAttribute=t.ObjectEntries=t.ObjectValues=t.ObjectKeys=t.JSONStringify=t.JSONParse=void 0;const n="Objects";t.JSONParse={id:"JSON Parse",defaultStyle:{icon:"fa-glasses"},namespace:n,description:"Parses a JSON string into an object",inputs:{json:{description:"JSON string to parse"}},outputs:{object:{description:"The parsed object"}},run:(e,t)=>{let{json:n}=e,{object:o}=t;return o.next(JSON.parse(n))}},t.JSONStringify={id:"JSON Stringify",defaultStyle:{icon:"fa-pen-fancy"},namespace:n,description:"Stringifies an object into a JSON string",inputs:{object:{description:"Object to stringify"}},outputs:{json:{description:"The stringified JSON"}},run:(e,t)=>{let{object:n}=e,{json:o}=t;return o.next(JSON.stringify(n))}},t.ObjectKeys={id:"Keys",defaultStyle:{icon:"fa-key"},namespace:n,description:"Emits the keys of an object",inputs:{object:{description:"Object to get keys of"}},outputs:{keys:{description:"The keys of object"}},run:(e,t)=>{let{object:n}=e,{keys:o}=t;return o.next(Object.keys(n))}},t.ObjectValues={id:"Values",namespace:n,description:"Emits the values of an object",inputs:{object:{description:"Object to get values of"}},outputs:{values:{description:"The values of object"}},run:(e,t)=>{let{object:n}=e,{values:o}=t;return o.next(Object.values(n))}},t.ObjectEntries={id:"Entries",defaultStyle:{icon:"fa-box"},namespace:n,description:"Emits the entries of an object",inputs:{object:{description:"Object to get entries of"}},outputs:{entries:{description:"The entries of object"}},run:(e,t)=>{let{object:n}=e,{entries:o}=t;return o.next(Object.entries(n))}},t.GetAttribute={id:"Get Attribute",searchKeywords:["pick","dot"],namespace:n,defaultStyle:{icon:"fa-magnifying-glass"},description:"Gets an attribute from an object",inputs:{object:{description:"Object to get attribute from"},attribute:{description:"Attribute to get"}},outputs:{value:{description:"The value of the attribute"}},run:(e,t)=>{let{object:n,attribute:o}=e,{value:r}=t;return r.next(o.split(".").reduce(((e,t)=>e[t]),n))}},t.SetAttribute={id:"Set Attribute",searchKeywords:["dot"],namespace:n,defaultStyle:{icon:"fa-box"},description:"Sets an attribute on an object",inputs:{object:{description:"Object to set attribute on"},attribute:{description:"Attribute to set"},value:{description:"Value to set attribute to"}},outputs:{object:{description:"The object with the attribute set"}},run:(e,t)=>{let{object:n,attribute:o,value:r}=e,{object:i}=t;const a=o.split("."),s=a.pop();return a.reduce(((e,t)=>e[t]),n)[s]=r,i.next(n)}},t.DeleteAttribute={id:"Delete Attribute",defaultStyle:{icon:"fa-box"},namespace:n,description:"Deletes an attribute from an object",inputs:{object:{description:"Object to delete attribute from"},attribute:{description:"Attribute to delete"}},outputs:{object:{description:"The object with the attribute deleted"}},run:(e,t)=>{let{object:n,attribute:o}=e,{object:r}=t;const i=o.value.split("."),a=i.pop();delete i.reduce(((e,t)=>e[t]),n.value)[a],r.next(n.value)}}},90717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetGlobalState=t.SetGlobalState=void 0;const n="State";t.SetGlobalState={id:"Set Global State",namespace:n,description:"Sets a value in the global state",inputs:{key:{description:"Key to set"},value:{description:"Value to set"}},outputs:{setValue:{description:"Value that was set"}},run:(e,t,n)=>{let{key:o,value:r}=e,{setValue:i}=t,{globalState:a}=n;a.set(o,r),i.next(r)}},t.GetGlobalState={id:"Get Global State",namespace:n,description:"Gets a value from the global state",inputs:{key:{description:"Key to get"},defaultValue:{description:"Default value if key is not set",mode:"required-if-connected"}},outputs:{value:{description:"Value of the key"}},run:(e,t,n)=>{let{key:o,defaultValue:r}=e,{value:i}=t,{globalState:a,onError:s}=n;var l;void 0===a.get(o)&&void 0===r?s(new Error(`Key ${o} is not set`)):i.next(null!==(l=a.get(o))&&void 0!==l?l:r)}}},40863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyString=t.MatchRegex=t.IsEmpty=t.EndsWith=t.StartsWith=t.Includes=t.ToTitleCase=t.ToSnakeCase=t.ToPascalCase=t.ToCamelCase=t.ToKebabCase=t.CharAt=t.LastIndexOf=t.IndexOf=t.Length=t.Substring=t.ToUpperCase=t.ToLowerCase=t.Trim=t.Replace=t.Join=t.Split=t.Concat=void 0;const n="Strings";t.Concat={id:"Concat",defaultStyle:{icon:"fa-font"},namespace:n,description:"Concatenates two strings",inputs:{a:{description:"String a"},b:{description:"String b"}},outputs:{value:{description:"Concatenated value"}},run:(e,t)=>{let{a:n,b:o}=e,{value:r}=t;return r.next(n+o)}},t.Split={id:"Split",defaultStyle:{icon:"fa-font"},namespace:n,description:"Splits a string",inputs:{string:{description:"String to split"},separator:{description:"Separator"}},outputs:{value:{description:"Splitted value"}},run:(e,t)=>{let{string:n,separator:o}=e,{value:r}=t;return r.next(n.split(o))}},t.Join={id:"Join",defaultStyle:{icon:"fa-font"},namespace:n,description:"Joins an array of strings",inputs:{array:{description:"Array to join"},separator:{description:"Separator"}},outputs:{value:{description:"Joined value"}},run:(e,t)=>{let{array:n,separator:o}=e,{value:r}=t;return r.next(n.join(o))}},t.Replace={id:"Replace",defaultStyle:{icon:"fa-font"},namespace:n,description:"Replaces a string",inputs:{string:{description:"String to replace"},searchValue:{description:"Value to search for"},replaceValue:{description:"Value to replace with"}},outputs:{value:{description:"Replaced value"}},run:(e,t)=>{let{string:n,searchValue:o,replaceValue:r}=e,{value:i}=t;return i.next(n.replace(o,r))}},t.Trim={id:"Trim",defaultStyle:{icon:"fa-font"},namespace:n,description:"Trims a string",inputs:{string:{description:"String to trim"}},outputs:{value:{description:"Trimmed value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.trim())}},t.ToLowerCase={id:"To Lower Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to lower case",inputs:{string:{description:"String to convert to lower case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.toLowerCase())}},t.ToUpperCase={id:"To Upper Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to upper case",inputs:{string:{description:"String to convert to upper case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.toUpperCase())}},t.Substring={id:"Substring",defaultStyle:{icon:"fa-font"},namespace:n,description:"Returns the node of the string between the start and end indexes",inputs:{string:{description:"String to get substring from"},start:{description:"Start index"},end:{description:"End index"}},outputs:{value:{description:"Substring"}},run:(e,t)=>{let{string:n,start:o,end:r}=e,{value:i}=t;return i.next(n.substring(o,r))}},t.Length={id:"Length",defaultStyle:{icon:"fa-font"},namespace:n,description:"Returns the length of a string",inputs:{string:{description:"String to get length from"}},outputs:{value:{description:"Length"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.length)}},t.IndexOf={id:"Index Of",defaultStyle:{icon:"fa-font"},namespace:n,description:"Returns the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex",inputs:{string:{description:"String to search in"},searchValue:{description:"Value to search for"},fromIndex:{description:"Index to start searching from"}},outputs:{value:{description:"Index"}},run:(e,t)=>{let{string:n,searchValue:o,fromIndex:r}=e,{value:i}=t;return i.next(n.indexOf(o,r))}},t.LastIndexOf={id:"Last Index Of",defaultStyle:{icon:"fa-font"},namespace:n,description:"Returns the index within the calling String object of the last occurrence of the specified value, or -1 if not found. The calling string is searched backward, starting at fromIndex",inputs:{string:{description:"String to search in"},searchValue:{description:"Value to search for"},fromIndex:{description:"Index to start searching from"}},outputs:{value:{description:"Index"}},run:(e,t)=>{let{string:n,searchValue:o,fromIndex:r}=e,{value:i}=t;return i.next(n.lastIndexOf(o,r))}},t.CharAt={id:"Char At",defaultStyle:{icon:"fa-font"},namespace:n,description:"Returns the character at the specified index",inputs:{string:{description:"String to get character from"},index:{description:"Index to get character from"}},outputs:{value:{description:"Character"}},run:(e,t)=>{let{string:n,index:o}=e,{value:r}=t;return r.next(n.charAt(o))}},t.ToKebabCase={id:"To Kebab Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to kebab case",inputs:{string:{description:"String to convert to kebab case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase())}},t.ToCamelCase={id:"To Camel Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to camel case",inputs:{string:{description:"String to convert to camel case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())))}},t.ToPascalCase={id:"To Pascal Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to pascal case",inputs:{string:{description:"String to convert to pascal case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toUpperCase():e.toLowerCase())).replace(/\s+/g,""))}},t.ToSnakeCase={id:"To Snake Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to snake case",inputs:{string:{description:"String to convert to snake case"}},outputs:{value:{description:"Converted value"}},run:e=>e.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/\s+/g,"_").toLowerCase()},t.ToTitleCase={id:"To Title Case",defaultStyle:{icon:"fa-font"},namespace:n,description:"Converts a string to title case",inputs:{string:{description:"String to convert to title case"}},outputs:{value:{description:"Converted value"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(n.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())))}},t.Includes={id:"Includes",namespace:n,defaultStyle:{icon:"fa-font"},description:"Determines whether one string may be found within another string, returning true or false as appropriate",inputs:{string:{description:"String to search in"},searchValue:{description:"Value to search for"},fromIndex:{description:"Index to start searching from"}},outputs:{value:{description:"Result"}},run:(e,t)=>{let{string:n,searchValue:o,fromIndex:r}=e,{value:i}=t;return i.next(n.includes(o,r))}},t.StartsWith={id:"Starts With",namespace:n,defaultStyle:{icon:"fa-font"},description:"Determines whether a string begins with the characters of another string, returning true or false as appropriate",inputs:{string:{description:"String to search in"},searchValue:{description:"Value to search for"},fromIndex:{description:"Index to start searching from"}},outputs:{value:{description:"Result"}},run:(e,t)=>{let{string:n,searchValue:o,fromIndex:r}=e,{value:i}=t;return i.next(n.startsWith(o,r))}},t.EndsWith={id:"Ends With",namespace:n,defaultStyle:{icon:"fa-font"},description:"Determines whether a string ends with the characters of another string, returning true or false as appropriate",inputs:{string:{description:"String to search in"},searchValue:{description:"Value to search for"},fromIndex:{description:"Index to start searching from"}},outputs:{value:{description:"Result"}},run:(e,t,n)=>e.endsWith(t,n)},t.IsEmpty={id:"Is Empty",namespace:n,defaultStyle:{icon:"fa-font"},description:"Determines whether a string is empty",inputs:{string:{description:"String to check"}},outputs:{value:{description:"Result"}},run:(e,t)=>{let{string:n}=e,{value:o}=t;return o.next(0===n.length)}},t.MatchRegex={id:"Match Regex",namespace:n,defaultStyle:{icon:"fa-font"},description:"Determines whether a string matches a regular expression",inputs:{string:{description:"String to check"},regex:{description:"Regular expression to match"}},outputs:{value:{description:"Result"}},run:(e,t)=>{let{string:n,regex:o}=e,{value:r}=t;return r.next(n.match(o))}},t.EmptyString={id:"Empty String",namespace:n,defaultStyle:{icon:"fa-font",size:"small"},description:"Creates an empty string",inputs:{},outputs:{string:{description:"The empty string"}},run:(e,t)=>{let{}=e,{string:n}=t;return n.next("")}}},86079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delay=void 0;const o=n(29967);t.Delay={id:"Delay",displayName:"Delay",namespace:"Timing",defaultData:{mode:"static",timeMs:420},description:"Delays a value by a given amount of time. Supports both static and dynamic delays.",definitionBuilder:e=>{const t={value:{description:"Value to delay"}};"dynamic"===e.mode&&(t.delay={description:"Delay in milliseconds"});return{inputs:t,displayName:"dynamic"===e.mode?"Delay":`Delay ${(0,o.timeToString)(e.timeMs)}`,description:`Delays a value by ${"static"===e.mode?(0,o.timeToString)(e.timeMs):"a dynamic amount of time"}.`,outputs:{delayedValue:{description:"Delayed value"}},completionOutputs:["delayedValue"]}},runFnBuilder:e=>async(t,n)=>{let{value:o,delay:r}=t;const i="dynamic"===e.mode?r:e.timeMs;await new Promise((e=>setTimeout(e,i))),n.delayedValue.next(o)},editorComponentBundlePath:"../../../../dist/ui/Delay.js"}},98691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Interval=void 0;const o=n(29967);t.Interval={id:"Interval",displayName:"Interval",namespace:o.TIMING_NAMESPACE,defaultData:{time:{mode:"static",timeMs:1e3},value:{mode:"static",jsonValue:""}},description:"Emits a value every interval. Supports both static and dynamic intervals.",definitionBuilder:e=>{const t={};"dynamic"===e.value.mode&&(t.value={description:"Value to emit"}),"dynamic"===e.time.mode&&(t.interval={description:"Interval in milliseconds"});return{inputs:t,displayName:(()=>{const t="dynamic"===e.value.mode?"a value":JSON.stringify(e.value.jsonValue);return"static"===e.time.mode?`Emit ${t} each ${(0,o.timeToString)(e.time.timeMs)}`:"Interval"})(),outputs:{value:{description:"Emitted value"}},reactiveInputs:"dynamic"===e.time.mode?["value","interval"]:["value"],completionOutputs:[],description:"Emits a value every interval."}},runFnBuilder:e=>(t,n,o)=>{let{value:r,interval:i}=t;const a="dynamic"===e.time.mode?i:e.time.timeMs,s="dynamic"===e.value.mode?r:e.value.jsonValue,l=o.state.get("timer");l&&clearInterval(l);const u=setInterval((()=>{n.value.next(s)}),a);o.state.set("timer",u),o.onCleanup((()=>{clearInterval(u)}))},editorComponentBundlePath:"../../../../dist/ui/Interval.js"}},40232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Throttle=t.ThrottleError=t.Debounce=t.Interval=t.Delay=void 0;const o=n(29967);var r=n(86079);Object.defineProperty(t,"Delay",{enumerable:!0,get:function(){return r.Delay}});var i=n(98691);Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return i.Interval}});const a=o.TIMING_NAMESPACE;t.Debounce={id:"Debounce",displayName:"Debounce",namespace:a,defaultData:{mode:"static",timeMs:420},description:"Emits the last value received after being idle for a given amount of milliseconds. Supports both static and dynamic delays.",definitionBuilder:e=>{const t={value:{description:"Value to debounce"}};"dynamic"===e.mode&&(t.delay={description:"Delay in milliseconds"});return{inputs:t,displayName:"dynamic"===e.mode?"Debounce":`Debounce ${(0,o.timeToString)(e.timeMs)}`,outputs:{debouncedValue:{description:"Debounced value"}},reactiveInputs:["value"],completionOutputs:["debouncedValue"]}},runFnBuilder:e=>(t,n,o)=>{let{value:r,delay:i}=t;const{debouncedValue:a}=n,s=o.state.get("timer");s&&clearTimeout(s);const l=setTimeout((()=>{a.next(r)}),"dynamic"===e.mode?i:e.timeMs);o.state.set("timer",l),o.onCleanup((()=>{clearTimeout(s)}))},editorComponentBundlePath:"../../../dist/ui/Debounce.js"};class s extends Error{constructor(e){super("Throttle: Value dropped"),this.value=e}}t.ThrottleError=s,t.Throttle={id:"Throttle",displayName:"Throttle",namespace:a,defaultData:{mode:"static",timeMs:420},description:"Limits the number of times a value is emitted to once per time configured. Supports both static and dynamic intervals.",definitionBuilder:e=>{const t={value:{description:"Value to throttle"}};"dynamic"===e.mode&&(t.limitTime={description:"Interval in milliseconds"});return{inputs:t,displayName:"dynamic"===e.mode?"Throttle":`Throttle ${(0,o.timeToString)(e.timeMs)}`,outputs:{unthrottledValue:{description:"Unthrottled value"}},reactiveInputs:["value"]}},runFnBuilder:e=>async(t,n,o)=>{const r="dynamic"===e.mode?t.limitTime:e.timeMs;if(o.state.get("promise"))o.onError(new s(t.value));else{n.unthrottledValue.next(t.value);const e=new Promise((e=>{setTimeout((()=>{e()}),r)}));o.state.set("promise",e),await e,o.state.set("promise",void 0)}},editorComponentBundlePath:"../../../dist/ui/Throttle.js"}},29967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeToString=t.TIMING_NAMESPACE=void 0,t.TIMING_NAMESPACE="Timing",t.timeToString=function(e){return e<1e3?`${e}ms`:e/1e3+"s"}},29755:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CodeExpression=void 0;const getInlineVariables_1=__webpack_require__(20528);exports.CodeExpression={id:"CodeExpression",displayName:"Code Expression",description:"A static value or JS expression",runFnBuilder:config=>(inputs,outputs,adv)=>{try{const resFn=eval(`(inputs, adv) => (${config.value})`);outputs.value.next(resFn(inputs,adv))}catch(e){adv.onError(e)}},definitionBuilder:e=>{var t;const n=(0,getInlineVariables_1.getVariables)(e.value);return{defaultStyle:{size:"small",icon:"code"},displayName:e.label||void 0,description:`Evaluates the expression \`${e.value}\``,inputs:Object.fromEntries(null!==(t=n.map((e=>[e,{}])))&&void 0!==t?t:[]),outputs:{value:{displayName:"Value",description:"The result of the expression evaluation"}}}},defaultData:{value:"inputs.a + inputs.b",label:'"inputs.a + inputs.b"'},editorComponentBundlePath:"../../../dist/ui/CodeExpression.js"}},17737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValue=void 0,t.InlineValue={id:"InlineValue",displayName:"Inline Value",description:"A static value or JS expression",runFnBuilder:e=>(t,n)=>{n.value.next(e.value)},definitionBuilder:e=>({defaultStyle:{size:"small",icon:"pen"},displayName:e.label||void 0,description:`Emits the value \`${JSON.stringify(e.value)}\``,inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}}}),defaultData:{type:"string",value:"Hello",label:'"Hello"'},editorComponentBundlePath:"../../../dist/ui/InlineValue.js"}},20528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVariables=void 0;t.getVariables=e=>(e.match(/inputs\.([a-zA-Z]\w*)/g)||[]).map((e=>e.replace(/inputs\./,"")))},86619:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(17737),t),r(n(29755),t)},81381:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(50544),t),r(n(21518),t),r(n(45888),t),r(n(40863),t),r(n(66257),t),r(n(91294),t),r(n(20740),t),r(n(35948),t),r(n(90717),t),r(n(40232),t),r(n(86619),t)},32863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var o=n(70079),r=n(31918),i=n(65092);const a={"flyde-flow-editor":"flyde-flow-editor_AAD4",_hj_feedback_container:"_hj_feedback_container_Af03"};var s=n(19841),l=n(61888),u=n.n(l),d=n(81381),c=n.n(d),p=n(74089),m=n(74762);const f=200;var _=n(10831),v=n(61997),b=n(77852),g=n(11607);function h(e){return e.instances.flatMap((e=>(0,m.isMacroNodeInstance)(e)?e.macroData:(0,m.isInlineNodeInstance)(e)&&(0,m.isVisualNode)(e.node)?h(e.node):[]))}function y(e,t){const n={};const o=function e(o){const r=o.instances.map((o=>{if((0,m.isMacroNodeInstance)(o)){const e=Object.values(t).find((e=>(0,m.isMacroNode)(e)&&e.id===o.macroId));if(!e)throw new Error(`Could not find macro node ${o.macroId} in embedded stdlib`);const r=(0,g.Z)("",e,o);return n[r.id]={...r,source:{path:""}},{...o,nodeId:r.id}}return(0,m.isInlineNodeInstance)(o)&&(0,m.isVisualNode)(o.node)?{...o,node:e(o.node)}:o}));return{...o,instances:r}}(e);return{newNode:o,newDeps:n}}var I=n(63521);async function x(){return{importables:Object.values(c()).filter(m.isBaseNode).map((e=>({node:{...e,source:{path:"n/a",export:"n/a"}},module:"@flyde/stdlib"}))),errors:[]}}const C=[0,20],w=(()=>{const e=new Map,t=new Map;return{requestHistory:async(n,o,r)=>{const i="input"===r?m.DebuggerEventType.INPUT_CHANGE:m.DebuggerEventType.OUTPUT_CHANGE;if(o){const t=`${n}.${o}.${i}`,r=e.get(t)||{total:0,lastSamples:[]},a=r.lastSamples.slice(0,f);return{...r,lastSamples:a}}{const e=t.get(n)||{total:0,lastSamples:[]},o=e.lastSamples.slice(0,f);return{...e,lastSamples:o}}},addEvents:n=>{n.forEach((n=>{if(n.type===m.DebuggerEventType.ERROR){const e=n;e.type=m.DebuggerEventType.OUTPUT_CHANGE,e.pinId=m.ERROR_PIN_ID}if(n.type===m.DebuggerEventType.INPUT_CHANGE||n.type===m.DebuggerEventType.OUTPUT_CHANGE){const{insId:o,type:r,pinId:i}=n;{const t=`${o}.${i}.${r}`,a=e.get(t)||{total:0,lastSamples:[]};a.lastSamples.unshift(n),a.lastSamples.length>f&&a.lastSamples.splice(f,a.lastSamples.length-f),a.total++,e.set(t,a)}{const r=t.get(o)||{total:0,lastSamples:[]};r.lastSamples.unshift(n),r.lastSamples.length>f&&r.lastSamples.splice(f,r.lastSamples.length-f),r.total++,e.set(o,r)}}}))},clear:()=>{e.clear(),t.clear()}}})(),E=(0,p.createRuntimePlayer)(),j=(0,o.forwardRef)((function(e,t){const{flowProps:r,onCompleted:i}=e,{initialFlow:a}=r,s=(0,b.useDarkMode)(),[l,c]=(0,o.useState)(e.flowProps.dependencies),[f,g]=(0,o.useState)({flow:a,boardData:I.defaultBoardData}),[j,T]=(0,o.useState)(),N=(0,o.useRef)((()=>{})),k=(0,o.useCallback)((async(e,t)=>{const{newDeps:o,newState:r}=await async function(e,t,o,r){const{node:i}=e,a=Object.values(await Promise.resolve().then(n.t.bind(n,81381,23))).find((e=>(0,m.isBaseNode)(e)&&e.id===i.id)),s={...r,[a.id]:{...a,source:{path:"@flyde/stdlib/dist/all-browser",export:a.id}}};let l;const u=(0,_.ZP)(o.flow,(n=>{if(t){const o=(0,p.vAdd)({x:0,y:0},t.pos);if(l=(0,p.createNewNodeInstance)(e.node,0,o,s),n.node.instances.push(l),t.connectTo){const{insId:e,outputId:o}=t.connectTo;n.node.connections.push({from:{insId:e,pinId:o},to:{insId:l.id,pinId:m.TRIGGER_PIN_ID}})}}}));return{newState:(0,_.ZP)(o,(e=>{e.flow=u,t?.selectAfterAdding&&l&&(e.boardData.selected=[l?.id])})),newDeps:s}}(e,t,f,l);return c(o),g(r),(0,p.toastMsg)(`Node ${e.node.id} successfully imported from ${e.module}`),l}),[f,l]),S=(0,o.useMemo)((()=>({resolvedDependencies:l,onImportNode:k,onRequestImportables:x,libraryData:{groups:[]}})),[l]),O=(0,o.useMemo)((()=>({debuggerClient:j,onRequestHistory:function(){return w.requestHistory(...arguments)}})),[j,w]),P=o.useRef(h(f.flow.node));(0,o.useEffect)((()=>{const e=h(f.flow.node);if(!u().isEqual(e,P.current)){P.current=e;const{newDeps:t,newNode:n}=y(f.flow.node,d),o=(0,_.ZP)(f,(e=>{e.flow.node=n}));g(o),c((e=>({...e,...t,main:f.flow.node})))}}),[f.flow.node]);const D=(0,o.useCallback)(((t,n)=>{const o=((e,t)=>{const n=new Set;return{onEvent:o=>{const r={...o,time:Date.now(),executionId:"n/a"};console.info("Got debugger event",o),t.addEvents([r]),e.addEvents([r]),n.forEach((e=>e([r])))},onBatchedEvents:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}}})(E,w);E.start(),T(o);const r=(0,m.keys)(t.outputs)[0],a=(0,m.dynamicOutput)(),s=a.subscribe((t=>{e.onLog(t)}));let l=null;const u=(0,m.execute)({node:t,inputs:{},outputs:{[r]:a},resolvedDeps:{...n,[t.id]:t},_debugger:o,onBubbleError:e=>{console.error(e)},onCompleted:()=>{s.unsubscribe(),i(),l=setTimeout((()=>{g((e=>({...e})))}),3e3)}});N.current=()=>{u(),s.unsubscribe(),E.clear(),w.clear(),o.destroy(),clearTimeout(l)}}),[]);return(0,o.useImperativeHandle)(t,(()=>({runFlow:()=>{N.current(),D(f.flow.node,l)}})),[f,l]),o.createElement(v.Z,null,(()=>o.createElement(p.DependenciesContextProvider,{value:S},o.createElement(p.DebuggerContextProvider,{value:O},o.createElement(p.FlowEditor,{state:f,onChangeEditorState:g,initialPadding:C,onExtractInlineNode:m.noop,disableScrolling:!0,darkMode:s.isDarkMode})))))}));var T=n(28648);const N=T.BV,k="Example.flyde",S=`import {loadFlow} from '@flyde/runtime';\n\nconst executeFlow = loadFlow('${k}');\nconst {result} = executeFlow();\nconst {output} = await result;\nconsole.log(\`Output: \${output}\`);`,O=(0,o.forwardRef)((function(e,t){let{example:n}=e;const r=n,[i,a]=o.useState([]),[l,u]=o.useState("Example.flyde"),c=(0,o.useMemo)((()=>{const{newDeps:e,newNode:t}=y(r.flow.flow.node,d);return{initialFlow:{...r.flow.flow,node:t},dependencies:{...r.flow.dependencies,...e}}}),[r]),f=o.useRef(null),_=o.useCallback((e=>{a((t=>[...t,`[${(new Date).toLocaleTimeString()}] Output: ${e}`])),f.current&&(f.current.scrollTop=f.current.scrollHeight)}),[a]);return o.createElement("div",{className:"hero-example"},o.createElement("div",{className:"hero-example__tabs"},o.createElement("div",{onClick:()=>u(k),className:(0,s.default)("file-tag",l===k&&"selected")},k),o.createElement("div",{className:(0,s.default)("file-tag","index.ts"===l&&"selected"),onClick:()=>u("index.ts")},"index.ts")),l===k?o.createElement("div",{className:"flow-wrapper"},o.createElement("div",{className:"loader-wrapper"},o.createElement(p.Loader,null)),o.createElement(j,{ref:t,flowProps:c,onLog:_,onCompleted:m.noop})):null,"index.ts"===l?o.createElement("div",{className:"code-wrapper"},o.createElement(T.dn,{className:"code-example",showLineNumbers:!1,text:S,language:"typescript",theme:N,codeBlock:!0,width:"100%"})):null,o.createElement("div",{className:"terminal-wrapper"},o.createElement("div",{className:"file-tag"},"Terminal"),o.createElement("div",{className:"terminal-emulator",ref:f},i.length?i.map(((e,t)=>o.createElement("div",{key:t},e))):o.createElement("em",null,"Values sent to `output` will appear here once received."))))}));var P=n(49794);function D(){return o.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{d:"M21.9937 9.23411C21.9305 9.05119 21.8157 8.89053 21.663 8.77161C21.5104 8.65268 21.3265 8.5806 21.1337 8.56411L15.4437 7.73411L12.8937 2.56411C12.8118 2.39504 12.6839 2.25245 12.5248 2.15268C12.3656 2.05291 12.1815 2 11.9937 2C11.8058 2 11.6218 2.05291 11.4626 2.15268C11.3034 2.25245 11.1756 2.39504 11.0937 2.56411L8.54363 7.72411L2.85363 8.56411C2.66855 8.59041 2.49455 8.66807 2.35138 8.78826C2.2082 8.90846 2.10159 9.06638 2.04363 9.24411C1.99057 9.41778 1.98581 9.60265 2.02986 9.77875C2.0739 9.95495 2.16509 10.1159 2.29363 10.2442L6.42363 14.2442L5.42363 19.9241C5.38325 20.1125 5.39818 20.3086 5.46661 20.4887C5.53504 20.6688 5.65406 20.8254 5.80936 20.9395C5.96465 21.0535 6.1496 21.1203 6.34196 21.1318C6.53431 21.1433 6.72589 21.0989 6.89363 21.0041L11.9937 18.3341L17.0937 21.0041C17.234 21.0832 17.3925 21.1246 17.5537 21.1241C17.7655 21.1248 17.9721 21.0583 18.1437 20.9341C18.2988 20.8229 18.4189 20.6697 18.4898 20.4925C18.5607 20.3153 18.5794 20.1215 18.5437 19.9341L17.5437 14.2542L21.6737 10.2542C21.8181 10.1318 21.9248 9.97105 21.9814 9.79045C22.0381 9.60995 22.0423 9.41698 21.9937 9.23411ZM15.8437 13.2341C15.7279 13.3465 15.6411 13.4853 15.5906 13.6385C15.5401 13.7918 15.5274 13.955 15.5537 14.1142L16.2737 18.3141L12.5137 16.3142C12.3675 16.2419 12.2067 16.2042 12.0437 16.2042C11.8806 16.2042 11.7198 16.2419 11.5737 16.3142L7.81363 18.3141L8.53363 14.1142C8.55987 13.955 8.54719 13.7918 8.4967 13.6385C8.4462 13.4853 8.35937 13.3465 8.24363 13.2341L5.24363 10.2341L9.45363 9.62415C9.61563 9.60155 9.76963 9.53965 9.90213 9.44376C10.0347 9.34787 10.1416 9.22094 10.2137 9.07411L11.9937 5.26411L13.8737 9.08411C13.9457 9.23094 14.0527 9.35787 14.1852 9.45376C14.3177 9.54965 14.4717 9.61155 14.6337 9.63415L18.8437 10.2442L15.8437 13.2341Z",fill:"currentColor"}))}const M=[{preview:"Visual Editor",title:"Reason About Programs in New Ways",image:n(61744).Z,imageCaption:"Visualize data flow and view data passing through nodes",description:o.createElement(o.Fragment,null,o.createElement("p",null,"Unlock new ways to think about, and debug your programs. Have an always-correct diagram of your program."),o.createElement("p",null,"Flyde\u2019s flow-based, visual approach makes asynchronous and concurrent tasks simpler and intuitive.")),id:"visual-editor"},{preview:"Open Source",title:"Open Source and Transparent",description:o.createElement(o.Fragment,null,o.createElement("p",null,"In Flyde, nothing is hidden. From node implementation, to runtime code. Easily access the code behind each node in Flyde\u2019s standard library."),o.createElement("p",null,"Everything needed to run Flyde flows is"," ",o.createElement("strong",null,"open-source and MIT licensed."))),image:n(43033).Z,imageCaption:"Double click on nodes to jump to their implementation",id:"open-source"},{preview:"Seamless Integration",title:"Integrates With Existing Workflows. Doesn\u2019t Replace them.",description:o.createElement(o.Fragment,null,o.createElement("p",null,"Create Flyde flows right from your IDE. Wrap existing TypeScript code in a Flyde node and use it in your flows. Run flows from existing TypeScript code, from arbitrary CLI scripts, to HTTP request handlers, and even front-end code."),o.createElement("p",null,"Flows can be ",o.createElement("strong",null,"version-controlled"),", and be part"," ",o.createElement("strong",null,"CI/CD")," pipelines, just like regular text-based code.")),image:n(39415).Z,imageCaption:"Flyde flows and TypeScript code live side by side",id:"git-friendly"},{preview:"Flexible & Powerful",title:"Flexible and Powerful",description:o.createElement(o.Fragment,null,o.createElement("p",null,"Built on a functional-reactive foundation, Flyde enables more than simple input/output flows. It supports everything you'd expect from a textual-based language; recursions, loops and conditionals.")),image:n(42016).Z,imageCaption:"Fibonacci sequence in Flyde - a recursive flow example",id:"flexible-powerful"}],V={dependencies:{Delay:{id:"Delay",displayName:"Delay",namespace:"Timing",defaultData:{mode:"static",timeMs:420},description:"Delays a value by a given amount of time. Supports both static and dynamic delays.",editorComponentBundlePath:"../../../../dist/ui/Delay.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Timing/Delay/Delay.tsx":\n/*!************************************!*\\\n  !*** ./src/Timing/Delay/Delay.tsx ***!\n  \\************************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\neval("\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst TimedNodeEditor_1 = __webpack_require__(/*! ../TimedNodeEditor */ \\"./src/Timing/TimedNodeEditor.tsx\\");\\nconst DelayEditor = TimedNodeEditor_1.TimedNodeEditor;\\nexports[\\"default\\"] = DelayEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Delay/./src/Timing/Delay/Delay.tsx?");\n\n/***/ }),\n\n/***/ "./src/Timing/TimedNodeEditor.tsx":\n/*!****************************************!*\\\n  !*** ./src/Timing/TimedNodeEditor.tsx ***!\n  \\****************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.TimedNodeEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst TimedNodeEditor = function TimedNodeEditor(props) {\\n    const { value, onChange } = props;\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Time mode:\\", inline: true, helperText: \\"If dynamic mode is chosen, a new input pin will be exposed for the time value.\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.mode, onChange: (e) => onChange({\\n                    ...value,\\n                    mode: e.target.value,\\n                }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(core_1.FormGroup, { label: \\"Time (in milliseconds):\\", inline: true },\\n            react_1.default.createElement(core_1.NumericInput, { value: value.timeMs, onValueChange: (e) => onChange({ ...value, timeMs: e }) }))) : null));\\n};\\nexports.TimedNodeEditor = TimedNodeEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Delay/./src/Timing/TimedNodeEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can\'t be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Timing/Delay/Delay.tsx");\n/******/ \twindow.__MacroNode__Delay = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Delay/Delay.flyde.js",export:"Delay"}},Delay__hvnxp46iusf1g91k6dua576w:{inputs:{value:{description:"Value to delay"}},displayName:"Delay 4.2s",description:"Delays a value by 4.2s.",outputs:{delayedValue:{description:"Delayed value"}},completionOutputs:["delayedValue"],namespace:"Timing",id:"Delay__hvnxp46iusf1g91k6dua576w",run:n(86079).Delay.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Delay/Delay.flyde.js",export:"Delay"}},InlineValue:{id:"InlineValue",displayName:"Inline Value",description:"A static value or JS expression",defaultData:{type:"string",value:"Hello",label:'"Hello"'},editorComponentBundlePath:"../../../dist/ui/InlineValue.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Values/InlineValue.tsx":\n/*!************************************!*\\\n  !*** ./src/Values/InlineValue.tsx ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst types = [\\n    \\"string\\",\\n    \\"number\\",\\n    \\"json\\",\\n    \\"boolean\\",\\n];\\nconst defaultValuePerType = {\\n    string: (currValue) => `${currValue}`,\\n    number: (currValue) => isNaN(Number(currValue)) ? 0 : Number(currValue),\\n    json: (currValue) => JSON.stringify(currValue),\\n    boolean: (currValue) => !!currValue,\\n    expression: (currValue) => currValue,\\n};\\nconst labelMaxLength = 20;\\nfunction valToLabel(val) {\\n    try {\\n        const label = JSON.stringify(val);\\n        if (label.length > labelMaxLength) {\\n            return `${label.slice(0, labelMaxLength)}...`;\\n        }\\n        return label;\\n    }\\n    catch (e) {\\n        return `Value`;\\n    }\\n}\\nconst InlineValueEditor = function InlineValueEditor(props) {\\n    const { value, onChange } = props;\\n    const changeType = (0, react_1.useCallback)((type) => {\\n        const newValue = defaultValuePerType[type](value.value);\\n        onChange({\\n            value: newValue,\\n            type,\\n            label: valToLabel(value.value) === value.label\\n                ? valToLabel(newValue)\\n                : value.label,\\n        });\\n    }, [value, onChange]);\\n    const changeValue = (0, react_1.useCallback)((_val) => {\\n        const newLabel = valToLabel(_val);\\n        const oldLabel = valToLabel(value.value);\\n        const wasUsingDefaultLabel = value.label === oldLabel || !value.label;\\n        const labelToUse = wasUsingDefaultLabel ? newLabel : value.label;\\n        onChange({ ...value, value: _val, label: labelToUse });\\n    }, [value, onChange]);\\n    const editorPanel = (0, react_1.useMemo)(() => {\\n        switch (value.type) {\\n            case \\"string\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"number\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.NumericInput, { value: value.value, onValueChange: (e) => changeValue(e) })));\\n            case \\"json\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.TextArea, { value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"boolean\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.HTMLSelect, { value: value.value, onChange: (e) => changeValue(e.target.value === \\"true\\") },\\n                        react_1.default.createElement(\\"option\\", { value: \\"true\\" }, \\"true\\"),\\n                        react_1.default.createElement(\\"option\\", { value: \\"false\\" }, \\"false\\"))));\\n        }\\n    }, [value, changeValue]);\\n    return (react_1.default.createElement(\\"div\\", null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Value type:\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.type, onChange: (e) => changeType(e.target.value) }, types.map((type) => (react_1.default.createElement(\\"option\\", { key: type, value: type }, type))))),\\n        editorPanel,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Label:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.label, onChange: (e) => onChange({ ...value, label: e.target.value }) }))));\\n};\\nexports[\\"default\\"] = InlineValueEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__InlineValue/./src/Values/InlineValue.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Values/InlineValue.tsx");\n/******/ \twindow.__MacroNode__InlineValue = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},InlineValue__qi81a3d3zqj4reik3qaogcx9:{defaultStyle:{size:"small",icon:"pen"},displayName:'"Hello, "',description:'Emits the value `"Hello, "`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__qi81a3d3zqj4reik3qaogcx9",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},"InlineValue__ApisCombination-o5049mg":{defaultStyle:{size:"small",icon:"pen"},displayName:'"World!"',description:'Emits the value `"World!"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__ApisCombination-o5049mg",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},Concat:{id:"Concat",defaultStyle:{icon:"fa-font"},namespace:"Strings",description:"Concatenates two strings",inputs:{a:{description:"String a"},b:{description:"String b"}},outputs:{value:{description:"Concatenated value"}},run:n(40863).Concat.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Strings.flyde.js",export:"Concat"}}},flow:{imports:{"@flyde/stdlib":["Delay","InlineValue","Concat"]},node:{instances:[{pos:{x:-767.3728061742281,y:-235.39913479443982},id:"hvnxp46iusf1g91k6dua576w",inputConfig:{},nodeId:"Delay__hvnxp46iusf1g91k6dua576w",macroId:"Delay",macroData:{timeMs:4200,mode:"static"},style:{size:"small",icon:"fa-clock",color:"#00bbf9"}},{pos:{x:-932.9179490061604,y:-377.8384234600417},id:"qi81a3d3zqj4reik3qaogcx9",inputConfig:{},nodeId:"InlineValue__qi81a3d3zqj4reik3qaogcx9",macroId:"InlineValue",macroData:{type:"string",value:"Hello, ",label:'"Hello, "'},style:{size:"regular",icon:"pen"}},{pos:{x:-774.713994140625,y:-323.10492919921876},id:"ApisCombination-o5049mg",inputConfig:{},nodeId:"InlineValue__ApisCombination-o5049mg",macroId:"InlineValue",macroData:{type:"string",value:"World!",label:'"World!"'},style:{size:"regular",icon:"pen"}},{pos:{x:-801.4964892578125,y:-145.65748583692886},id:"Concat-7y049by",inputConfig:{},nodeId:"Concat",style:{size:"small",icon:"fa-font"}}],connections:[{from:{insId:"ApisCombination-o5049mg",pinId:"value"},to:{insId:"hvnxp46iusf1g91k6dua576w",pinId:"value"}},{from:{insId:"hvnxp46iusf1g91k6dua576w",pinId:"delayedValue"},to:{insId:"Concat-7y049by",pinId:"b"}},{from:{insId:"qi81a3d3zqj4reik3qaogcx9",pinId:"value"},to:{insId:"Concat-7y049by",pinId:"a"}},{from:{insId:"Concat-7y049by",pinId:"value"},to:{insId:"__this",pinId:"output"}}],id:"HelloWorld",inputs:{},outputs:{output:{type:"any",optional:!1,delayed:!1}},inputsPosition:{city:{x:-187.27285824815934,y:-14.13215209416181},Bob:{x:-464.39225613814307,y:-267.86263932413937}},outputsPosition:{json:{x:-441.98276309426666,y:480.38719404276554},na:{x:-441.98276309426666,y:480.38719404276554},result:{x:-499.82438378976735,y:706.7650396699393},output:{x:-786.8222824042145,y:-47.993242521151444},response:{x:-506.3386688159596,y:488.67302443385125},"Bob 42":{x:-736.217912287027,y:209.40813992513762}},completionOutputs:["output"]}}},R={dependencies:{Throttle:{id:"Throttle",displayName:"Throttle",namespace:"Timing",defaultData:{mode:"static",timeMs:420},description:"Limits the number of times a value is emitted to once per time configured. Supports both static and dynamic intervals.",editorComponentBundlePath:"../../../dist/ui/Throttle.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Timing/Throttle.tsx":\n/*!*********************************!*\\\n  !*** ./src/Timing/Throttle.tsx ***!\n  \\*********************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\neval("\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst TimedNodeEditor_1 = __webpack_require__(/*! ./TimedNodeEditor */ \\"./src/Timing/TimedNodeEditor.tsx\\");\\nconst ThrottleEditor = TimedNodeEditor_1.TimedNodeEditor;\\nexports[\\"default\\"] = ThrottleEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Throttle/./src/Timing/Throttle.tsx?");\n\n/***/ }),\n\n/***/ "./src/Timing/TimedNodeEditor.tsx":\n/*!****************************************!*\\\n  !*** ./src/Timing/TimedNodeEditor.tsx ***!\n  \\****************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.TimedNodeEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst TimedNodeEditor = function TimedNodeEditor(props) {\\n    const { value, onChange } = props;\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Time mode:\\", inline: true, helperText: \\"If dynamic mode is chosen, a new input pin will be exposed for the time value.\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.mode, onChange: (e) => onChange({\\n                    ...value,\\n                    mode: e.target.value,\\n                }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(core_1.FormGroup, { label: \\"Time (in milliseconds):\\", inline: true },\\n            react_1.default.createElement(core_1.NumericInput, { value: value.timeMs, onValueChange: (e) => onChange({ ...value, timeMs: e }) }))) : null));\\n};\\nexports.TimedNodeEditor = TimedNodeEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Throttle/./src/Timing/TimedNodeEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can\'t be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Timing/Throttle.tsx");\n/******/ \twindow.__MacroNode__Throttle = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Timing.flyde.js",export:"Throttle"}},Throttle__wj31gd73i5l111q999pv4kor:{inputs:{value:{description:"Value to throttle"}},displayName:"Throttle 8s",outputs:{unthrottledValue:{description:"Unthrottled value"}},reactiveInputs:["value"],namespace:"Timing",id:"Throttle__wj31gd73i5l111q999pv4kor",run:n(40232).Throttle.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Timing.flyde.js",export:"Throttle"}},Debounce:{id:"Debounce",displayName:"Debounce",namespace:"Timing",defaultData:{mode:"static",timeMs:420},description:"Emits the last value received after being idle for a given amount of milliseconds. Supports both static and dynamic delays.",editorComponentBundlePath:"../../../dist/ui/Debounce.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Timing/Debounce.tsx":\n/*!*********************************!*\\\n  !*** ./src/Timing/Debounce.tsx ***!\n  \\*********************************/\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\neval("\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst TimedNodeEditor_1 = __webpack_require__(/*! ./TimedNodeEditor */ \\"./src/Timing/TimedNodeEditor.tsx\\");\\nconst DebounceEditor = TimedNodeEditor_1.TimedNodeEditor;\\nexports[\\"default\\"] = DebounceEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Debounce/./src/Timing/Debounce.tsx?");\n\n/***/ }),\n\n/***/ "./src/Timing/TimedNodeEditor.tsx":\n/*!****************************************!*\\\n  !*** ./src/Timing/TimedNodeEditor.tsx ***!\n  \\****************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.TimedNodeEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst TimedNodeEditor = function TimedNodeEditor(props) {\\n    const { value, onChange } = props;\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Time mode:\\", inline: true, helperText: \\"If dynamic mode is chosen, a new input pin will be exposed for the time value.\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.mode, onChange: (e) => onChange({\\n                    ...value,\\n                    mode: e.target.value,\\n                }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(core_1.FormGroup, { label: \\"Time (in milliseconds):\\", inline: true },\\n            react_1.default.createElement(core_1.NumericInput, { value: value.timeMs, onValueChange: (e) => onChange({ ...value, timeMs: e }) }))) : null));\\n};\\nexports.TimedNodeEditor = TimedNodeEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Debounce/./src/Timing/TimedNodeEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can\'t be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Timing/Debounce.tsx");\n/******/ \twindow.__MacroNode__Debounce = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Timing.flyde.js",export:"Debounce"}},Debounce__eaa2b80mmdusjvxi3fve0du1:{inputs:{value:{description:"Value to debounce"}},displayName:"Debounce 4s",outputs:{debouncedValue:{description:"Debounced value"}},reactiveInputs:["value"],completionOutputs:["debouncedValue"],namespace:"Timing",id:"Debounce__eaa2b80mmdusjvxi3fve0du1",run:n(40232).Debounce.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Timing.flyde.js",export:"Debounce"}},InlineValue:{id:"InlineValue",displayName:"Inline Value",description:"A static value or JS expression",defaultData:{type:"string",value:"Hello",label:'"Hello"'},editorComponentBundlePath:"../../../dist/ui/InlineValue.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Values/InlineValue.tsx":\n/*!************************************!*\\\n  !*** ./src/Values/InlineValue.tsx ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst types = [\\n    \\"string\\",\\n    \\"number\\",\\n    \\"json\\",\\n    \\"boolean\\",\\n];\\nconst defaultValuePerType = {\\n    string: (currValue) => `${currValue}`,\\n    number: (currValue) => isNaN(Number(currValue)) ? 0 : Number(currValue),\\n    json: (currValue) => JSON.stringify(currValue),\\n    boolean: (currValue) => !!currValue,\\n    expression: (currValue) => currValue,\\n};\\nconst labelMaxLength = 20;\\nfunction valToLabel(val) {\\n    try {\\n        const label = JSON.stringify(val);\\n        if (label.length > labelMaxLength) {\\n            return `${label.slice(0, labelMaxLength)}...`;\\n        }\\n        return label;\\n    }\\n    catch (e) {\\n        return `Value`;\\n    }\\n}\\nconst InlineValueEditor = function InlineValueEditor(props) {\\n    const { value, onChange } = props;\\n    const changeType = (0, react_1.useCallback)((type) => {\\n        const newValue = defaultValuePerType[type](value.value);\\n        onChange({\\n            value: newValue,\\n            type,\\n            label: valToLabel(value.value) === value.label\\n                ? valToLabel(newValue)\\n                : value.label,\\n        });\\n    }, [value, onChange]);\\n    const changeValue = (0, react_1.useCallback)((_val) => {\\n        const newLabel = valToLabel(_val);\\n        const oldLabel = valToLabel(value.value);\\n        const wasUsingDefaultLabel = value.label === oldLabel || !value.label;\\n        const labelToUse = wasUsingDefaultLabel ? newLabel : value.label;\\n        onChange({ ...value, value: _val, label: labelToUse });\\n    }, [value, onChange]);\\n    const editorPanel = (0, react_1.useMemo)(() => {\\n        switch (value.type) {\\n            case \\"string\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"number\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.NumericInput, { value: value.value, onValueChange: (e) => changeValue(e) })));\\n            case \\"json\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.TextArea, { value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"boolean\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.HTMLSelect, { value: value.value, onChange: (e) => changeValue(e.target.value === \\"true\\") },\\n                        react_1.default.createElement(\\"option\\", { value: \\"true\\" }, \\"true\\"),\\n                        react_1.default.createElement(\\"option\\", { value: \\"false\\" }, \\"false\\"))));\\n        }\\n    }, [value, changeValue]);\\n    return (react_1.default.createElement(\\"div\\", null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Value type:\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.type, onChange: (e) => changeType(e.target.value) }, types.map((type) => (react_1.default.createElement(\\"option\\", { key: type, value: type }, type))))),\\n        editorPanel,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Label:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.label, onChange: (e) => onChange({ ...value, label: e.target.value }) }))));\\n};\\nexports[\\"default\\"] = InlineValueEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__InlineValue/./src/Values/InlineValue.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Values/InlineValue.tsx");\n/******/ \twindow.__MacroNode__InlineValue = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},InlineValue__scs3pycv9lz28ykunbkqn9to:{defaultStyle:{size:"small",icon:"pen"},displayName:'"\u274c"',description:'Emits the value `"\u274c"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__scs3pycv9lz28ykunbkqn9to",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},"InlineValue__ApisCombination-3k049q4":{defaultStyle:{size:"small",icon:"pen"},displayName:'"\ud83d\udd50"',description:'Emits the value `"\ud83d\udd50"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__ApisCombination-3k049q4",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},Interval:{id:"Interval",displayName:"Interval",namespace:"Timing",defaultData:{time:{mode:"static",timeMs:1e3},value:{mode:"static",jsonValue:""}},description:"Emits a value every interval. Supports both static and dynamic intervals.",editorComponentBundlePath:"../../../../dist/ui/Interval.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Timing/Interval/Interval.tsx":\n/*!******************************************!*\\\n  !*** ./src/Timing/Interval/Interval.tsx ***!\n  \\******************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor_1 = __webpack_require__(/*! ../../lib/ConfigurableInputEditor */ \\"./src/lib/ConfigurableInputEditor.tsx\\");\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst SimpleJsonEditor_1 = __webpack_require__(/*! ../../lib/SimpleJsonEditor */ \\"./src/lib/SimpleJsonEditor.tsx\\");\\nconst IntervalEditor = function IntervalEditor({ value, onChange }) {\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.time, onChange: (time) => onChange({ ...value, time }), valueRenderer: (rendererProps) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time (in milliseconds):\\", inline: true },\\n                react_1.default.createElement(core_1.NumericInput, { value: rendererProps.value.timeMs, onValueChange: (number) => rendererProps.onChange({ timeMs: number }) }))), modeLabel: \\"Interval mode:\\", defaultStaticValue: { timeMs: 2000 } }),\\n        react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.value, onChange: (_value) => onChange({ ...value, value: _value }), valueRenderer: (rendererProps) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\", inline: true },\\n                react_1.default.createElement(SimpleJsonEditor_1.SimpleJsonEditor, { value: rendererProps.value.jsonValue, onChange: (jsonValue) => rendererProps.onChange({ jsonValue }), label: \\"\\" }))), modeLabel: \\"Value mode:\\", defaultStaticValue: { jsonValue: \\"\\" } })));\\n};\\nexports[\\"default\\"] = IntervalEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/Timing/Interval/Interval.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/ConfigurableInputEditor.tsx":\n/*!*********************************************!*\\\n  !*** ./src/lib/ConfigurableInputEditor.tsx ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.createConfigurableInputEditor = exports.ConfigurableInputEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor = ({ value, onChange, valueRenderer: ValueRenderer, defaultStaticValue, modeLabel, }) => {\\n    const handleModeChange = (e) => {\\n        onChange({\\n            mode: e.currentTarget.value,\\n            ...(e.currentTarget.value === \\"static\\" ? defaultStaticValue : {}),\\n        });\\n    };\\n    const handleValueChange = (value) => {\\n        onChange({\\n            ...value,\\n            mode: \\"static\\",\\n        });\\n    };\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: modeLabel, onChange: handleModeChange, selectedValue: value.mode, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Static\\", value: \\"static\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"dynamic\\" })),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(ValueRenderer, { value: value, onChange: handleValueChange })) : null));\\n};\\nexports.ConfigurableInputEditor = ConfigurableInputEditor;\\nconst createConfigurableInputEditor = (valueRenderer) => {\\n    return (props) => (react_1.default.createElement(exports.ConfigurableInputEditor, { ...props, valueRenderer: valueRenderer }));\\n};\\nexports.createConfigurableInputEditor = createConfigurableInputEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/lib/ConfigurableInputEditor.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/SimpleJsonEditor.tsx":\n/*!**************************************!*\\\n  !*** ./src/lib/SimpleJsonEditor.tsx ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.SimpleJsonEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nfunction SimpleJsonEditor(props) {\\n    const [tempDataValue, setTempDataValue] = react_1.default.useState(JSON.stringify(props.value, null, 2));\\n    const [dataParseError, setDataParseError] = react_1.default.useState();\\n    const onValueChange = (0, react_1.useCallback)((e) => {\\n        setTempDataValue(e.target.value);\\n        try {\\n            const data = JSON.parse(e.target.value);\\n            setDataParseError(undefined);\\n            props.onChange(data);\\n        }\\n        catch (e) {\\n            setDataParseError(e.message);\\n        }\\n    }, [props]);\\n    return (react_1.default.createElement(core_1.FormGroup, { label: props.label, intent: dataParseError ? \\"danger\\" : undefined, helperText: dataParseError },\\n        react_1.default.createElement(core_1.TextArea, { value: tempDataValue, fill: true, onChange: onValueChange })));\\n}\\nexports.SimpleJsonEditor = SimpleJsonEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/lib/SimpleJsonEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Timing/Interval/Interval.tsx");\n/******/ \twindow.__MacroNode__Interval = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Interval/Interval.flyde.js",export:"Interval"}},Interval__ygnqzwi1stiki29lavj6wu2w:{inputs:{},displayName:'Emit "\u2b50\ufe0f" each 6s',outputs:{value:{description:"Emitted value"}},reactiveInputs:["value"],completionOutputs:[],description:"Emits a value every interval.",namespace:"Timing",id:"Interval__ygnqzwi1stiki29lavj6wu2w",run:n(98691).Interval.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Interval/Interval.flyde.js",export:"Interval"}},Collect:{id:"Collect",displayName:"Collect",description:"Collects values into a list. Over time, count, or trigger.",namespace:"Lists",defaultData:{strategy:"count",count:{mode:"static",count:3}},editorComponentBundlePath:"../../../../dist/ui/Collect.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Lists/Collect/Collect.tsx":\n/*!***************************************!*\\\n  !*** ./src/Lists/Collect/Collect.tsx ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor_1 = __webpack_require__(/*! ../../lib/ConfigurableInputEditor */ \\"./src/lib/ConfigurableInputEditor.tsx\\");\\nconst defaultValuePerStrategy = {\\n    count: {\\n        strategy: \\"count\\",\\n        count: { mode: \\"static\\", count: 2 },\\n    },\\n    time: {\\n        strategy: \\"time\\",\\n        time: { mode: \\"static\\", timeMs: 2000 },\\n    },\\n    trigger: {\\n        strategy: \\"trigger\\",\\n    },\\n};\\nconst CollectEditor = function CollectEditor({ value, onChange, }) {\\n    const handleStrategyChange = react_1.default.useCallback((e) => {\\n        const strategy = e.currentTarget.value;\\n        const defaultValue = defaultValuePerStrategy[strategy];\\n        onChange(defaultValue);\\n    }, [onChange, value]);\\n    const innerEditor = react_1.default.useMemo(() => {\\n        switch (value.strategy) {\\n            case \\"count\\":\\n                return (react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.count, onChange: (count) => onChange({ ...value, count }), valueRenderer: (props) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time:\\", inline: true },\\n                        react_1.default.createElement(core_1.NumericInput, { value: props.value.count, onValueChange: (e) => onChange({\\n                                ...value,\\n                                count: { mode: \\"static\\", count: e },\\n                            }) }))), modeLabel: \\"Count mode:\\", defaultStaticValue: { count: 2 } }));\\n            case \\"time\\":\\n                return (react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.time, onChange: (time) => onChange({ ...value, time }), valueRenderer: (props) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time:\\", inline: true },\\n                        react_1.default.createElement(core_1.NumericInput, { value: props.value.timeMs, onValueChange: (e) => onChange({\\n                                ...value,\\n                                time: { mode: \\"static\\", timeMs: e },\\n                            }) }))), modeLabel: \\"Time mode:\\", defaultStaticValue: { timeMs: 2000 } }));\\n        }\\n    }, [value, onChange]);\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: \\"Collection strategy:\\", onChange: handleStrategyChange, selectedValue: value.strategy, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Count\\", value: \\"count\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Time\\", value: \\"time\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"trigger\\" })),\\n        innerEditor));\\n};\\nexports[\\"default\\"] = CollectEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Collect/./src/Lists/Collect/Collect.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/ConfigurableInputEditor.tsx":\n/*!*********************************************!*\\\n  !*** ./src/lib/ConfigurableInputEditor.tsx ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.createConfigurableInputEditor = exports.ConfigurableInputEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor = ({ value, onChange, valueRenderer: ValueRenderer, defaultStaticValue, modeLabel, }) => {\\n    const handleModeChange = (e) => {\\n        onChange({\\n            mode: e.currentTarget.value,\\n            ...(e.currentTarget.value === \\"static\\" ? defaultStaticValue : {}),\\n        });\\n    };\\n    const handleValueChange = (value) => {\\n        onChange({\\n            ...value,\\n            mode: \\"static\\",\\n        });\\n    };\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: modeLabel, onChange: handleModeChange, selectedValue: value.mode, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Static\\", value: \\"static\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"dynamic\\" })),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(ValueRenderer, { value: value, onChange: handleValueChange })) : null));\\n};\\nexports.ConfigurableInputEditor = ConfigurableInputEditor;\\nconst createConfigurableInputEditor = (valueRenderer) => {\\n    return (props) => (react_1.default.createElement(exports.ConfigurableInputEditor, { ...props, valueRenderer: valueRenderer }));\\n};\\nexports.createConfigurableInputEditor = createConfigurableInputEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Collect/./src/lib/ConfigurableInputEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Lists/Collect/Collect.tsx");\n/******/ \twindow.__MacroNode__Collect = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Lists/Collect/Collect.flyde.js",export:"Collect"}},Collect__lfrwwz35676vn1hb9ykzpewd:{displayName:"Collect 3 values",description:"Collect 3 values and emit a list of them.",inputs:{value:{description:"Value to collect"}},reactiveInputs:["value"],outputs:{list:{description:"Collected values"}},completionOutputs:["list"],namespace:"Lists",id:"Collect__lfrwwz35676vn1hb9ykzpewd",run:n(62737).Collect.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Lists/Collect/Collect.flyde.js",export:"Collect"}},"InlineValue__DebounceThrottle-xy049dv":{defaultStyle:{size:"small",icon:"pen"},displayName:'"\u2705"',description:'Emits the value `"\u2705"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__DebounceThrottle-xy049dv",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}}},flow:{imports:{"@flyde/stdlib":["Throttle","Debounce","InlineValue","Interval","Collect"]},node:{instances:[{pos:{x:-849.9802075195312,y:-293.42520723759816},id:"wj31gd73i5l111q999pv4kor",inputConfig:{},visibleOutputs:["unthrottledValue","__error"],nodeId:"Throttle__wj31gd73i5l111q999pv4kor",macroId:"Throttle",macroData:{type:"static",timeMs:8e3,mode:"static"}},{pos:{x:-1038.8195629882812,y:-292.4507504504888},id:"eaa2b80mmdusjvxi3fve0du1",inputConfig:{},nodeId:"Debounce__eaa2b80mmdusjvxi3fve0du1",macroId:"Debounce",macroData:{mode:"static",timeMs:4e3,type:"static"}},{pos:{x:-776.2780029296875,y:-173.65079674768984},id:"scs3pycv9lz28ykunbkqn9to",inputConfig:{},nodeId:"InlineValue__scs3pycv9lz28ykunbkqn9to",macroId:"InlineValue",macroData:{type:"string",value:"\u274c",label:'"\u274c"'}},{pos:{x:-1028.1461474609375,y:-173.36171508789062},id:"ApisCombination-3k049q4",inputConfig:{},nodeId:"InlineValue__ApisCombination-3k049q4",macroId:"InlineValue",macroData:{type:"string",value:"\ud83d\udd50",label:'"\ud83d\udd50"'}},{pos:{x:-965.5435205078124,y:-376.7129255999589},id:"ygnqzwi1stiki29lavj6wu2w",inputConfig:{},nodeId:"Interval__ygnqzwi1stiki29lavj6wu2w",macroId:"Interval",macroData:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{time:{mode:"static",timeMs:1e3},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:39,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:39,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:30,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:300,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3e3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3001,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3002,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3001,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3e3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3e4,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:3e3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:5,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:50,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:500,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:5e3,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:6,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:60,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:600,mode:"static"},value:{time:{mode:"static",timeMs:1e3},value:"beep",mode:"static"},timeMs:6e3,mode:"static"},value:{jsonValue:"\u2b50\ufe0f",mode:"static"}}},{pos:{x:-928.755859375,y:-90.7339411755601},id:"lfrwwz35676vn1hb9ykzpewd",inputConfig:{},nodeId:"Collect__lfrwwz35676vn1hb9ykzpewd",macroId:"Collect",macroData:{strategy:"count",count:{mode:"static",count:3}},style:{size:"small"}},{pos:{x:-894.184619140625,y:-174.2404573922211},id:"DebounceThrottle-xy049dv",inputConfig:{},nodeId:"InlineValue__DebounceThrottle-xy049dv",macroId:"InlineValue",macroData:{type:"string",value:"\u2705",label:'"\u2705"'}}],connections:[{from:{insId:"wj31gd73i5l111q999pv4kor",pinId:"__error"},to:{insId:"scs3pycv9lz28ykunbkqn9to",pinId:"__trigger"}},{from:{insId:"eaa2b80mmdusjvxi3fve0du1",pinId:"debouncedValue"},to:{insId:"ApisCombination-3k049q4",pinId:"__trigger"}},{from:{insId:"ygnqzwi1stiki29lavj6wu2w",pinId:"value"},to:{insId:"eaa2b80mmdusjvxi3fve0du1",pinId:"value"}},{from:{insId:"ygnqzwi1stiki29lavj6wu2w",pinId:"value"},to:{insId:"wj31gd73i5l111q999pv4kor",pinId:"value"}},{from:{insId:"ApisCombination-3k049q4",pinId:"value"},to:{insId:"lfrwwz35676vn1hb9ykzpewd",pinId:"value"}},{from:{insId:"scs3pycv9lz28ykunbkqn9to",pinId:"value"},to:{insId:"lfrwwz35676vn1hb9ykzpewd",pinId:"value"}},{from:{insId:"lfrwwz35676vn1hb9ykzpewd",pinId:"list"},to:{insId:"__this",pinId:"output"}},{from:{insId:"wj31gd73i5l111q999pv4kor",pinId:"unthrottledValue"},to:{insId:"DebounceThrottle-xy049dv",pinId:"__trigger"}},{from:{insId:"DebounceThrottle-xy049dv",pinId:"value"},to:{insId:"lfrwwz35676vn1hb9ykzpewd",pinId:"value"}}],id:"DebounceThrottle",inputs:{},outputs:{output:{type:"any",optional:!1,delayed:!1}},inputsPosition:{city:{x:-187.27285824815934,y:-14.13215209416181},Bob:{x:-464.39225613814307,y:-267.86263932413937}},outputsPosition:{json:{x:-441.98276309426666,y:480.38719404276554},na:{x:-441.98276309426666,y:480.38719404276554},result:{x:-499.82438378976735,y:706.7650396699393},output:{x:-892.9243331854645,y:9.226056795254806},response:{x:-506.3386688159596,y:488.67302443385125},"Bob 42":{x:-736.217912287027,y:209.40813992513762}},completionOutputs:["output"]}}},A={dependencies:{Http:{id:"Http",namespace:"HTTP",displayName:"HTTP Request",description:"Performs a HTTP request to a URL and emits the response data",defaultData:{method:{mode:"static",value:"GET"},url:{mode:"static",value:"https://www.example.com"},headers:{mode:"static",value:{}},params:{mode:"static",value:{}},data:{mode:"static",value:{}}},editorComponentBundlePath:"../../../dist/ui/Http.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Http/HttpConfigEditor.tsx":\n/*!***************************************!*\\\n  !*** ./src/Http/HttpConfigEditor.tsx ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst SimpleJsonEditor_1 = __webpack_require__(/*! ../lib/SimpleJsonEditor */ \\"./src/lib/SimpleJsonEditor.tsx\\");\\nconst HttpConfigEditor = function HttpConfigEditor(props) {\\n    const { value, onChange } = props;\\n    (0, react_1.useEffect)(() => {\\n        if (value.method.mode === \\"static\\" && value.method.value === \\"GET\\") {\\n            onChange({ ...value, data: { mode: \\"static\\", value: {} } });\\n        }\\n    }, [value.method]);\\n    const maybeDataEditor = (0, react_1.useMemo)(() => {\\n        var _a;\\n        if (value.method.mode === \\"static\\" && value.method.value === \\"GET\\") {\\n            return null;\\n        }\\n        return (react_1.default.createElement(react_1.default.Fragment, null,\\n            react_1.default.createElement(core_1.FormGroup, { label: \\"Data Mode:\\", inline: true },\\n                react_1.default.createElement(core_1.HTMLSelect, { value: value.data.mode, onChange: (e) => onChange({\\n                        ...value,\\n                        data: {\\n                            mode: e.target.value,\\n                            value: e.target.value === \\"static\\" ? {} : undefined,\\n                        },\\n                    }) },\\n                    react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                    react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n            ((_a = value.data) === null || _a === void 0 ? void 0 : _a.mode) === \\"static\\" && (react_1.default.createElement(SimpleJsonEditor_1.SimpleJsonEditor, { label: \\"Data:\\", value: value.data.value, onChange: (data) => onChange({ ...value, data: { mode: \\"static\\", value: data } }) })),\\n            react_1.default.createElement(core_1.Divider, null)));\\n    }, [value, onChange]);\\n    const headersEditor = (0, react_1.useMemo)(() => {\\n        var _a;\\n        return (react_1.default.createElement(react_1.default.Fragment, null,\\n            react_1.default.createElement(core_1.FormGroup, { label: \\"Headers Mode:\\", inline: true },\\n                react_1.default.createElement(core_1.HTMLSelect, { value: value.headers.mode, onChange: (e) => onChange({\\n                        ...value,\\n                        headers: {\\n                            mode: e.target.value,\\n                            value: e.target.value === \\"static\\" ? {} : undefined,\\n                        },\\n                    }) },\\n                    react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                    react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n            value.headers.mode === \\"static\\" && (react_1.default.createElement(SimpleJsonEditor_1.SimpleJsonEditor, { label: \\"Headers:\\", value: (_a = value.headers) === null || _a === void 0 ? void 0 : _a.value, onChange: (data) => onChange({ ...value, headers: { mode: \\"static\\", value: data } }) })),\\n            react_1.default.createElement(core_1.Divider, null)));\\n    }, [value, onChange]);\\n    const paramsEditor = (0, react_1.useMemo)(() => {\\n        return (react_1.default.createElement(react_1.default.Fragment, null,\\n            react_1.default.createElement(core_1.FormGroup, { label: \\"Query params mode:\\", inline: true },\\n                react_1.default.createElement(core_1.HTMLSelect, { value: value.params.mode, onChange: (e) => onChange({\\n                        ...value,\\n                        params: {\\n                            mode: e.target.value,\\n                            value: e.target.value === \\"static\\" ? {} : undefined,\\n                        },\\n                    }) },\\n                    react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                    react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n            value.params.mode === \\"static\\" && (react_1.default.createElement(SimpleJsonEditor_1.SimpleJsonEditor, { label: \\"Params:\\", value: value.params.value, onChange: (data) => onChange({ ...value, params: { mode: \\"static\\", value: data } }) })),\\n            react_1.default.createElement(core_1.Divider, null)));\\n    }, [value, onChange]);\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"URL Mode:\\", inline: true },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.url.mode, onChange: (e) => onChange({ ...value, url: { mode: e.target.value } }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n        value.url.mode === \\"static\\" && (react_1.default.createElement(core_1.FormGroup, { label: \\"URL:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { value: value.url.value, fill: true, onChange: (e) => onChange({\\n                    ...value,\\n                    url: { mode: \\"static\\", value: e.target.value },\\n                }) }))),\\n        react_1.default.createElement(core_1.Divider, null),\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Method Mode:\\", inline: true },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.method.mode, onChange: (e) => onChange({\\n                    ...value,\\n                    method: {\\n                        mode: e.target.value,\\n                        value: e.target.value === \\"static\\" ? \\"GET\\" : undefined,\\n                    },\\n                }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"static\\" }, \\"Static\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"dynamic\\" }, \\"Dynamic (via input)\\"))),\\n        value.method.mode === \\"static\\" && (react_1.default.createElement(core_1.FormGroup, { label: \\"Method:\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.method.value, onChange: (e) => onChange({\\n                    ...value,\\n                    method: { mode: \\"static\\", value: e.target.value },\\n                }) },\\n                react_1.default.createElement(\\"option\\", { value: \\"GET\\" }, \\"GET\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"POST\\" }, \\"POST\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"PUT\\" }, \\"PUT\\"),\\n                react_1.default.createElement(\\"option\\", { value: \\"DELETE\\" }, \\"DELETE\\")))),\\n        react_1.default.createElement(core_1.Divider, null),\\n        maybeDataEditor,\\n        headersEditor,\\n        paramsEditor));\\n};\\nexports[\\"default\\"] = HttpConfigEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Http/./src/Http/HttpConfigEditor.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/SimpleJsonEditor.tsx":\n/*!**************************************!*\\\n  !*** ./src/lib/SimpleJsonEditor.tsx ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.SimpleJsonEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nfunction SimpleJsonEditor(props) {\\n    const [tempDataValue, setTempDataValue] = react_1.default.useState(JSON.stringify(props.value, null, 2));\\n    const [dataParseError, setDataParseError] = react_1.default.useState();\\n    const onValueChange = (0, react_1.useCallback)((e) => {\\n        setTempDataValue(e.target.value);\\n        try {\\n            const data = JSON.parse(e.target.value);\\n            setDataParseError(undefined);\\n            props.onChange(data);\\n        }\\n        catch (e) {\\n            setDataParseError(e.message);\\n        }\\n    }, [props]);\\n    return (react_1.default.createElement(core_1.FormGroup, { label: props.label, intent: dataParseError ? \\"danger\\" : undefined, helperText: dataParseError },\\n        react_1.default.createElement(core_1.TextArea, { value: tempDataValue, fill: true, onChange: onValueChange })));\\n}\\nexports.SimpleJsonEditor = SimpleJsonEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Http/./src/lib/SimpleJsonEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Http/HttpConfigEditor.tsx");\n/******/ \twindow.__MacroNode__Http = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Http/Http.flyde.js",export:"Http"}},"Http__GET Request-907":{displayName:"HTTP GET Request",description:"Performs a  GET HTTP request to a URL and emits the response data",inputs:{},outputs:{data:{displayName:"Data",description:"Emits the response data"}},namespace:"HTTP",id:"Http__GET Request-907",run:n(50544).Http.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Http/Http.flyde.js",export:"Http"}},"Http__POST Request-624":{displayName:"HTTP POST Request",description:"Performs a  POST HTTP request to a URL and emits the response data",inputs:{data:{}},outputs:{data:{displayName:"Data",description:"Emits the response data"}},namespace:"HTTP",id:"Http__POST Request-624",run:n(50544).Http.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Http/Http.flyde.js",export:"Http"}},CodeExpression:{id:"CodeExpression",displayName:"Code Expression",description:"A static value or JS expression",defaultData:{value:"inputs.a + inputs.b",label:'"inputs.a + inputs.b"'},editorComponentBundlePath:"../../../dist/ui/CodeExpression.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Values/CodeExpression.tsx":\n/*!***************************************!*\\\n  !*** ./src/Values/CodeExpression.tsx ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst getInlineVariables_1 = __webpack_require__(/*! ./getInlineVariables */ \\"./src/Values/getInlineVariables.ts\\");\\nconst labelMaxLength = 20;\\nfunction valToLabel(val) {\\n    try {\\n        const label = JSON.stringify(val);\\n        if (label.length > labelMaxLength) {\\n            return `${label.slice(0, labelMaxLength)}...`;\\n        }\\n        return label;\\n    }\\n    catch (e) {\\n        return `Value`;\\n    }\\n}\\nconst CodeExpressionEditor = function CodeExpressionEditor(props) {\\n    var _a;\\n    const { value, onChange } = props;\\n    const changeValue = (0, react_1.useCallback)((_val) => {\\n        const newLabel = valToLabel(_val);\\n        const oldLabel = valToLabel(value.value);\\n        const wasUsingDefaultLabel = value.label === oldLabel || !value.label;\\n        const labelToUse = wasUsingDefaultLabel ? newLabel : value.label;\\n        onChange({ ...value, value: _val, label: labelToUse });\\n    }, [value, onChange]);\\n    const vars = (0, getInlineVariables_1.getVariables)((_a = value.value) !== null && _a !== void 0 ? _a : \\"\\");\\n    return (react_1.default.createElement(\\"div\\", null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\", helperText: `Accepts any valid JS extension. ` },\\n            react_1.default.createElement(core_1.TextArea, { value: value.value, fill: true, onChange: (e) => changeValue(e.target.value) })),\\n        react_1.default.createElement(\\"div\\", null, vars.length > 0 ? (react_1.default.createElement(\\"small\\", null,\\n            \\"External inputs exposed from this expression:\\",\\n            \\" \\",\\n            react_1.default.createElement(\\"em\\", null, vars.join(\\", \\")))) : (react_1.default.createElement(\\"small\\", null, \\"Expose external inputs by using the \\\\\\"inputs\\\\\\" object. For example, \\\\\\"inputs.a + inputs.b\\\\\\" will expose 2 inputs, a and b, and sum them.\\"))),\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Label:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.label, onChange: (e) => onChange({ ...value, label: e.target.value }), placeholder: \\"Code Expression\\" }))));\\n};\\nexports[\\"default\\"] = CodeExpressionEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__CodeExpression/./src/Values/CodeExpression.tsx?");\n\n/***/ }),\n\n/***/ "./src/Values/getInlineVariables.ts":\n/*!******************************************!*\\\n  !*** ./src/Values/getInlineVariables.ts ***!\n  \\******************************************/\n/***/ ((__unused_webpack_module, exports) => {\n\neval("\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.getVariables = void 0;\\nconst getVariables = (code) => {\\n    return (code.match(/inputs\\\\.([a-zA-Z]\\\\w*)/g) || []).map((v) => v.replace(/inputs\\\\./, \\"\\"));\\n};\\nexports.getVariables = getVariables;\\n\\n\\n//# sourceURL=webpack://__MacroNode__CodeExpression/./src/Values/getInlineVariables.ts?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Values/CodeExpression.tsx");\n/******/ \twindow.__MacroNode__CodeExpression = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/CodeExpression.flyde.js",export:"CodeExpression"}},CodeExpression__voq2pt830zt74hnzlgjo3oea:{defaultStyle:{size:"small",icon:"code"},displayName:"{iso2: inputs.data.country}",description:"Evaluates the expression `{iso2: inputs.data.country}`",inputs:{data:{}},outputs:{value:{displayName:"Value",description:"The result of the expression evaluation"}},id:"CodeExpression__voq2pt830zt74hnzlgjo3oea",run:n(29755).CodeExpression.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/CodeExpression.flyde.js",export:"CodeExpression"}},CodeExpression__sznjntqrup6mwx9hr26d58tl:{defaultStyle:{size:"small",icon:"code"},displayName:"`Looks like you're from ${inputs.country} (capital - ${inputs.capital})`",description:"Evaluates the expression ``Looks like you're from ${inputs.country} (capital - ${inputs.capital})``",inputs:{country:{},capital:{}},outputs:{value:{displayName:"Value",description:"The result of the expression evaluation"}},id:"CodeExpression__sznjntqrup6mwx9hr26d58tl",run:n(29755).CodeExpression.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/CodeExpression.flyde.js",export:"CodeExpression"}},InlineValue:{id:"InlineValue",displayName:"Inline Value",description:"A static value or JS expression",defaultData:{type:"string",value:"Hello",label:'"Hello"'},editorComponentBundlePath:"../../../dist/ui/InlineValue.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Values/InlineValue.tsx":\n/*!************************************!*\\\n  !*** ./src/Values/InlineValue.tsx ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst types = [\\n    \\"string\\",\\n    \\"number\\",\\n    \\"json\\",\\n    \\"boolean\\",\\n];\\nconst defaultValuePerType = {\\n    string: (currValue) => `${currValue}`,\\n    number: (currValue) => isNaN(Number(currValue)) ? 0 : Number(currValue),\\n    json: (currValue) => JSON.stringify(currValue),\\n    boolean: (currValue) => !!currValue,\\n    expression: (currValue) => currValue,\\n};\\nconst labelMaxLength = 20;\\nfunction valToLabel(val) {\\n    try {\\n        const label = JSON.stringify(val);\\n        if (label.length > labelMaxLength) {\\n            return `${label.slice(0, labelMaxLength)}...`;\\n        }\\n        return label;\\n    }\\n    catch (e) {\\n        return `Value`;\\n    }\\n}\\nconst InlineValueEditor = function InlineValueEditor(props) {\\n    const { value, onChange } = props;\\n    const changeType = (0, react_1.useCallback)((type) => {\\n        const newValue = defaultValuePerType[type](value.value);\\n        onChange({\\n            value: newValue,\\n            type,\\n            label: valToLabel(value.value) === value.label\\n                ? valToLabel(newValue)\\n                : value.label,\\n        });\\n    }, [value, onChange]);\\n    const changeValue = (0, react_1.useCallback)((_val) => {\\n        const newLabel = valToLabel(_val);\\n        const oldLabel = valToLabel(value.value);\\n        const wasUsingDefaultLabel = value.label === oldLabel || !value.label;\\n        const labelToUse = wasUsingDefaultLabel ? newLabel : value.label;\\n        onChange({ ...value, value: _val, label: labelToUse });\\n    }, [value, onChange]);\\n    const editorPanel = (0, react_1.useMemo)(() => {\\n        switch (value.type) {\\n            case \\"string\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"number\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.NumericInput, { value: value.value, onValueChange: (e) => changeValue(e) })));\\n            case \\"json\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.TextArea, { value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"boolean\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.HTMLSelect, { value: value.value, onChange: (e) => changeValue(e.target.value === \\"true\\") },\\n                        react_1.default.createElement(\\"option\\", { value: \\"true\\" }, \\"true\\"),\\n                        react_1.default.createElement(\\"option\\", { value: \\"false\\" }, \\"false\\"))));\\n        }\\n    }, [value, changeValue]);\\n    return (react_1.default.createElement(\\"div\\", null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Value type:\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.type, onChange: (e) => changeType(e.target.value) }, types.map((type) => (react_1.default.createElement(\\"option\\", { key: type, value: type }, type))))),\\n        editorPanel,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Label:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.label, onChange: (e) => onChange({ ...value, label: e.target.value }) }))));\\n};\\nexports[\\"default\\"] = InlineValueEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__InlineValue/./src/Values/InlineValue.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Values/InlineValue.tsx");\n/******/ \twindow.__MacroNode__InlineValue = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},InlineValue__xlmmcvlcdpgpix33mv40yzpr:{defaultStyle:{size:"small",icon:"pen"},displayName:'"data.capital"',description:'Emits the value `"data.capital"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__xlmmcvlcdpgpix33mv40yzpr",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},"Get Attribute":{id:"Get Attribute",searchKeywords:["pick","dot"],namespace:"Objects",defaultStyle:{icon:"fa-magnifying-glass"},description:"Gets an attribute from an object",inputs:{object:{description:"Object to get attribute from"},attribute:{description:"Attribute to get"}},outputs:{value:{description:"The value of the attribute"}},run:n(21518).GetAttribute.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Objects.flyde.js",export:"GetAttribute"}},"InlineValue__ApisCombination-4t249pe":{defaultStyle:{size:"small",icon:"pen"},displayName:'"data.name"',description:'Emits the value `"data.name"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__ApisCombination-4t249pe",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}}},flow:{imports:{"@flyde/stdlib":["Http","CodeExpression","InlineValue","Get Attribute"]},node:{instances:[{pos:{x:-690.2786303710938,y:-248.69117978096006},id:"GET Request-907",inputConfig:{url:{mode:"queue"}},visibleInputs:["__trigger"],visibleOutputs:["data"],nodeId:"Http__GET Request-907",macroId:"Http",macroData:{method:{mode:"static",value:"GET"},url:{mode:"static",value:"https://api.country.is/"},headers:{mode:"static",value:{}},params:{mode:"static",value:{}},data:{mode:"static",value:{}}},style:{size:"regular",icon:"fa-server"}},{pos:{x:-697.3497143554688,y:-90.45541381835938},id:"POST Request-624",inputConfig:{url:{mode:"queue"}},visibleInputs:["data"],nodeId:"Http__POST Request-624",macroId:"Http",macroData:{method:{mode:"static",value:"POST"},data:{mode:"dynamic"},url:{mode:"static",value:"https://countriesnow.space/api/v0.1/countries/capital"},headers:{mode:"static",value:{}},params:{mode:"static",value:{}}},style:{size:"regular",icon:"fa-server"}},{pos:{x:-695.5708027080859,y:-170.2948511791778},id:"voq2pt830zt74hnzlgjo3oea",inputConfig:{},nodeId:"CodeExpression__voq2pt830zt74hnzlgjo3oea",macroId:"CodeExpression",macroData:{value:"{iso2: inputs.data.country}",label:"{iso2: inputs.data.country}"}},{pos:{x:-709.6355848184611,y:.16476344798634557},id:"Formatted Response-xn049cy",inputConfig:{},node:{instances:[{pos:{x:-753.2273578838674,y:170.2144483565396},id:"sznjntqrup6mwx9hr26d58tl",inputConfig:{},nodeId:"CodeExpression__sznjntqrup6mwx9hr26d58tl",macroId:"CodeExpression",macroData:{value:"`Looks like you're from ${inputs.country} (capital - ${inputs.capital})`",label:"`Looks like you're from ${inputs.country} (capital - ${inputs.capital})`"}},{pos:{x:-382.62579538386717,y:-65.13273570717877},id:"xlmmcvlcdpgpix33mv40yzpr",inputConfig:{},nodeId:"InlineValue__xlmmcvlcdpgpix33mv40yzpr",macroId:"InlineValue",macroData:{type:"string",value:"data.capital",label:'"data.capital"'}},{pos:{x:-801.60179056088,y:25.242486114137805},id:"Get Attribute-4p049fr",inputConfig:{attribute:{mode:"sticky"}},visibleInputs:["attribute","object"],nodeId:"Get Attribute"},{pos:{x:-460.770003451505,y:18.543191070192492},id:"ApisCombination-06149he",inputConfig:{attribute:{mode:"sticky"}},nodeId:"Get Attribute"},{pos:{x:-836.6549243164063,y:-82.7263525390625},id:"ApisCombination-4t249pe",inputConfig:{},nodeId:"InlineValue__ApisCombination-4t249pe",macroId:"InlineValue",macroData:{type:"string",value:"data.name",label:'"data.name"'}}],connections:[{from:{insId:"xlmmcvlcdpgpix33mv40yzpr",pinId:"value"},to:{insId:"ApisCombination-06149he",pinId:"attribute"}},{from:{insId:"Get Attribute-4p049fr",pinId:"value"},to:{insId:"sznjntqrup6mwx9hr26d58tl",pinId:"country"}},{from:{insId:"ApisCombination-4t249pe",pinId:"value"},to:{insId:"Get Attribute-4p049fr",pinId:"attribute"}},{from:{insId:"ApisCombination-06149he",pinId:"value"},to:{insId:"sznjntqrup6mwx9hr26d58tl",pinId:"capital"}},{from:{insId:"__this",pinId:"object"},to:{insId:"Get Attribute-4p049fr",pinId:"object"}},{from:{insId:"__this",pinId:"object"},to:{insId:"ApisCombination-06149he",pinId:"object"}},{from:{insId:"sznjntqrup6mwx9hr26d58tl",pinId:"value"},to:{insId:"__this",pinId:"value"}}],id:"Formatted Response",inputs:{object:{mode:"required"}},outputs:{value:{delayed:!1}},inputsPosition:{object:{x:-554.16943359375,y:-185.74574279785156}},outputsPosition:{value:{x:-593.2343139648438,y:319.9629592895508}},completionOutputs:["value"],defaultStyle:{size:"large",color:"#fee440"}},style:{size:"large",color:"#fee440"}}],connections:[{from:{insId:"GET Request-907",pinId:"data"},to:{insId:"voq2pt830zt74hnzlgjo3oea",pinId:"data"}},{from:{insId:"voq2pt830zt74hnzlgjo3oea",pinId:"value"},to:{insId:"POST Request-624",pinId:"data"}},{from:{insId:"POST Request-624",pinId:"data"},to:{insId:"Formatted Response-xn049cy",pinId:"object"}},{from:{insId:"Formatted Response-xn049cy",pinId:"value"},to:{insId:"__this",pinId:"output"}}],id:"ApisCombination",inputs:{},outputs:{output:{type:"any",optional:!1,delayed:!1}},inputsPosition:{city:{x:-187.27285824815934,y:-14.13215209416181}},outputsPosition:{json:{x:-441.98276309426666,y:480.38719404276554},na:{x:-441.98276309426666,y:480.38719404276554},result:{x:-499.82438378976735,y:706.7650396699393},output:{x:-615.1635815348842,y:129.75032212709732},response:{x:-500.61566893722795,y:421.9045791861946}},completionOutputs:["output"]}}},L=[{label:"Beep Boop",flow:{dependencies:{RoundRobin:{id:"RoundRobin",displayName:"Round Robin",namespace:"Control Flow",defaultData:3,editorComponentBundlePath:"../../../dist/ui/RoundRobin.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/ControlFlow/RoundRobin.tsx":\n/*!****************************************!*\\\n  !*** ./src/ControlFlow/RoundRobin.tsx ***!\n  \\****************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst MAX_ITEMS = 6;\\nconst RoundRobinEditor = function RoundRobinEditor(props) {\\n    return (react_1.default.createElement(core_1.FormGroup, { label: \\"Outputs count:\\", inline: true },\\n        react_1.default.createElement(core_1.HTMLSelect, { value: props.value.toString(), onChange: (e) => props.onChange(parseInt(e.target.value)) }, Array.from({ length: MAX_ITEMS - 1 }, (_, index) => (react_1.default.createElement(\\"option\\", { key: index + 2, value: index + 2 }, index + 2))))));\\n};\\nexports[\\"default\\"] = RoundRobinEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__RoundRobin/./src/ControlFlow/RoundRobin.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/ControlFlow/RoundRobin.tsx");\n/******/ \twindow.__MacroNode__RoundRobin = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/ControlFlow/ControlFlow.flyde.js",export:"RoundRobin"}},RoundRobin__oeum6dqgsprbuef0p9s3b1ye:{displayName:"Round Robin 3",description:"Item will be emitted to one of the 3 outputs in a round robin fashion",inputs:{value:{mode:"required",description:"The value to emit"}},completionOutputs:[],reactiveInputs:["value"],outputs:{r1:{description:'The 1 output in order to emit the value received. After emitting a value, it moves to "r2"\'s turn.'},r2:{description:'The 2 output in order to emit the value received. After emitting a value, it moves to "r0"\'s turn.'},r3:{description:'The 3 output in order to emit the value received. After emitting a value, it moves to "r1"\'s turn.'}},namespace:"Control Flow",id:"RoundRobin__oeum6dqgsprbuef0p9s3b1ye",run:n(66257).RoundRobin.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/ControlFlow/ControlFlow.flyde.js",export:"RoundRobin"}},InlineValue:{id:"InlineValue",displayName:"Inline Value",description:"A static value or JS expression",defaultData:{type:"string",value:"Hello",label:'"Hello"'},editorComponentBundlePath:"../../../dist/ui/InlineValue.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Values/InlineValue.tsx":\n/*!************************************!*\\\n  !*** ./src/Values/InlineValue.tsx ***!\n  \\************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nconst types = [\\n    \\"string\\",\\n    \\"number\\",\\n    \\"json\\",\\n    \\"boolean\\",\\n];\\nconst defaultValuePerType = {\\n    string: (currValue) => `${currValue}`,\\n    number: (currValue) => isNaN(Number(currValue)) ? 0 : Number(currValue),\\n    json: (currValue) => JSON.stringify(currValue),\\n    boolean: (currValue) => !!currValue,\\n    expression: (currValue) => currValue,\\n};\\nconst labelMaxLength = 20;\\nfunction valToLabel(val) {\\n    try {\\n        const label = JSON.stringify(val);\\n        if (label.length > labelMaxLength) {\\n            return `${label.slice(0, labelMaxLength)}...`;\\n        }\\n        return label;\\n    }\\n    catch (e) {\\n        return `Value`;\\n    }\\n}\\nconst InlineValueEditor = function InlineValueEditor(props) {\\n    const { value, onChange } = props;\\n    const changeType = (0, react_1.useCallback)((type) => {\\n        const newValue = defaultValuePerType[type](value.value);\\n        onChange({\\n            value: newValue,\\n            type,\\n            label: valToLabel(value.value) === value.label\\n                ? valToLabel(newValue)\\n                : value.label,\\n        });\\n    }, [value, onChange]);\\n    const changeValue = (0, react_1.useCallback)((_val) => {\\n        const newLabel = valToLabel(_val);\\n        const oldLabel = valToLabel(value.value);\\n        const wasUsingDefaultLabel = value.label === oldLabel || !value.label;\\n        const labelToUse = wasUsingDefaultLabel ? newLabel : value.label;\\n        onChange({ ...value, value: _val, label: labelToUse });\\n    }, [value, onChange]);\\n    const editorPanel = (0, react_1.useMemo)(() => {\\n        switch (value.type) {\\n            case \\"string\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"number\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.NumericInput, { value: value.value, onValueChange: (e) => changeValue(e) })));\\n            case \\"json\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.TextArea, { value: value.value, onChange: (e) => changeValue(e.target.value) })));\\n            case \\"boolean\\":\\n                return (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\" },\\n                    react_1.default.createElement(core_1.HTMLSelect, { value: value.value, onChange: (e) => changeValue(e.target.value === \\"true\\") },\\n                        react_1.default.createElement(\\"option\\", { value: \\"true\\" }, \\"true\\"),\\n                        react_1.default.createElement(\\"option\\", { value: \\"false\\" }, \\"false\\"))));\\n        }\\n    }, [value, changeValue]);\\n    return (react_1.default.createElement(\\"div\\", null,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Value type:\\" },\\n            react_1.default.createElement(core_1.HTMLSelect, { value: value.type, onChange: (e) => changeType(e.target.value) }, types.map((type) => (react_1.default.createElement(\\"option\\", { key: type, value: type }, type))))),\\n        editorPanel,\\n        react_1.default.createElement(core_1.FormGroup, { label: \\"Label:\\" },\\n            react_1.default.createElement(core_1.InputGroup, { type: \\"text\\", value: value.label, onChange: (e) => onChange({ ...value, label: e.target.value }) }))));\\n};\\nexports[\\"default\\"] = InlineValueEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__InlineValue/./src/Values/InlineValue.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Values/InlineValue.tsx");\n/******/ \twindow.__MacroNode__InlineValue = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},InlineValue__rh3ug7oqoze1rvn4k17kc556:{defaultStyle:{size:"small",icon:"pen"},displayName:'"beep"',description:'Emits the value `"beep"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__rh3ug7oqoze1rvn4k17kc556",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},"InlineValue__ApisCombination-69049ap":{defaultStyle:{size:"small",icon:"pen"},displayName:'"boop"',description:'Emits the value `"boop"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__ApisCombination-69049ap",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},"InlineValue__ApisCombination-ts149e2":{defaultStyle:{size:"small",icon:"pen"},displayName:'"bop"',description:'Emits the value `"bop"`',inputs:{},outputs:{value:{displayName:"Value",description:"Emits the value configured"}},id:"InlineValue__ApisCombination-ts149e2",run:n(17737).InlineValue.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Values/InlineValue.flyde.js",export:"InlineValue"}},Collect:{id:"Collect",displayName:"Collect",description:"Collects values into a list. Over time, count, or trigger.",namespace:"Lists",defaultData:{strategy:"count",count:{mode:"static",count:3}},editorComponentBundlePath:"../../../../dist/ui/Collect.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Lists/Collect/Collect.tsx":\n/*!***************************************!*\\\n  !*** ./src/Lists/Collect/Collect.tsx ***!\n  \\***************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor_1 = __webpack_require__(/*! ../../lib/ConfigurableInputEditor */ \\"./src/lib/ConfigurableInputEditor.tsx\\");\\nconst defaultValuePerStrategy = {\\n    count: {\\n        strategy: \\"count\\",\\n        count: { mode: \\"static\\", count: 2 },\\n    },\\n    time: {\\n        strategy: \\"time\\",\\n        time: { mode: \\"static\\", timeMs: 2000 },\\n    },\\n    trigger: {\\n        strategy: \\"trigger\\",\\n    },\\n};\\nconst CollectEditor = function CollectEditor({ value, onChange, }) {\\n    const handleStrategyChange = react_1.default.useCallback((e) => {\\n        const strategy = e.currentTarget.value;\\n        const defaultValue = defaultValuePerStrategy[strategy];\\n        onChange(defaultValue);\\n    }, [onChange, value]);\\n    const innerEditor = react_1.default.useMemo(() => {\\n        switch (value.strategy) {\\n            case \\"count\\":\\n                return (react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.count, onChange: (count) => onChange({ ...value, count }), valueRenderer: (props) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time:\\", inline: true },\\n                        react_1.default.createElement(core_1.NumericInput, { value: props.value.count, onValueChange: (e) => onChange({\\n                                ...value,\\n                                count: { mode: \\"static\\", count: e },\\n                            }) }))), modeLabel: \\"Count mode:\\", defaultStaticValue: { count: 2 } }));\\n            case \\"time\\":\\n                return (react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.time, onChange: (time) => onChange({ ...value, time }), valueRenderer: (props) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time:\\", inline: true },\\n                        react_1.default.createElement(core_1.NumericInput, { value: props.value.timeMs, onValueChange: (e) => onChange({\\n                                ...value,\\n                                time: { mode: \\"static\\", timeMs: e },\\n                            }) }))), modeLabel: \\"Time mode:\\", defaultStaticValue: { timeMs: 2000 } }));\\n        }\\n    }, [value, onChange]);\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: \\"Collection strategy:\\", onChange: handleStrategyChange, selectedValue: value.strategy, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Count\\", value: \\"count\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Time\\", value: \\"time\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"trigger\\" })),\\n        innerEditor));\\n};\\nexports[\\"default\\"] = CollectEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Collect/./src/Lists/Collect/Collect.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/ConfigurableInputEditor.tsx":\n/*!*********************************************!*\\\n  !*** ./src/lib/ConfigurableInputEditor.tsx ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.createConfigurableInputEditor = exports.ConfigurableInputEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor = ({ value, onChange, valueRenderer: ValueRenderer, defaultStaticValue, modeLabel, }) => {\\n    const handleModeChange = (e) => {\\n        onChange({\\n            mode: e.currentTarget.value,\\n            ...(e.currentTarget.value === \\"static\\" ? defaultStaticValue : {}),\\n        });\\n    };\\n    const handleValueChange = (value) => {\\n        onChange({\\n            ...value,\\n            mode: \\"static\\",\\n        });\\n    };\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: modeLabel, onChange: handleModeChange, selectedValue: value.mode, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Static\\", value: \\"static\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"dynamic\\" })),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(ValueRenderer, { value: value, onChange: handleValueChange })) : null));\\n};\\nexports.ConfigurableInputEditor = ConfigurableInputEditor;\\nconst createConfigurableInputEditor = (valueRenderer) => {\\n    return (props) => (react_1.default.createElement(exports.ConfigurableInputEditor, { ...props, valueRenderer: valueRenderer }));\\n};\\nexports.createConfigurableInputEditor = createConfigurableInputEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Collect/./src/lib/ConfigurableInputEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Lists/Collect/Collect.tsx");\n/******/ \twindow.__MacroNode__Collect = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Lists/Collect/Collect.flyde.js",export:"Collect"}},Collect__lqx9nk7f5fr4evl7dpoh6mff:{displayName:"Collect 3 values",description:"Collect 3 values and emit a list of them.",inputs:{value:{description:"Value to collect"}},reactiveInputs:["value"],outputs:{list:{description:"Collected values"}},completionOutputs:["list"],namespace:"Lists",id:"Collect__lqx9nk7f5fr4evl7dpoh6mff",run:n(62737).Collect.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Lists/Collect/Collect.flyde.js",export:"Collect"}},Interval:{id:"Interval",displayName:"Interval",namespace:"Timing",defaultData:{time:{mode:"static",timeMs:1e3},value:{mode:"static",jsonValue:""}},description:"Emits a value every interval. Supports both static and dynamic intervals.",editorComponentBundlePath:"../../../../dist/ui/Interval.js",editorComponentBundleContent:'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./src/Timing/Interval/Interval.tsx":\n/*!******************************************!*\\\n  !*** ./src/Timing/Interval/Interval.tsx ***!\n  \\******************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor_1 = __webpack_require__(/*! ../../lib/ConfigurableInputEditor */ \\"./src/lib/ConfigurableInputEditor.tsx\\");\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst SimpleJsonEditor_1 = __webpack_require__(/*! ../../lib/SimpleJsonEditor */ \\"./src/lib/SimpleJsonEditor.tsx\\");\\nconst IntervalEditor = function IntervalEditor({ value, onChange }) {\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.time, onChange: (time) => onChange({ ...value, time }), valueRenderer: (rendererProps) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Time (in milliseconds):\\", inline: true },\\n                react_1.default.createElement(core_1.NumericInput, { value: rendererProps.value.timeMs, onValueChange: (number) => rendererProps.onChange({ timeMs: number }) }))), modeLabel: \\"Interval mode:\\", defaultStaticValue: { timeMs: 2000 } }),\\n        react_1.default.createElement(ConfigurableInputEditor_1.ConfigurableInputEditor, { value: value.value, onChange: (_value) => onChange({ ...value, value: _value }), valueRenderer: (rendererProps) => (react_1.default.createElement(core_1.FormGroup, { label: \\"Value:\\", inline: true },\\n                react_1.default.createElement(SimpleJsonEditor_1.SimpleJsonEditor, { value: rendererProps.value.jsonValue, onChange: (jsonValue) => rendererProps.onChange({ jsonValue }), label: \\"\\" }))), modeLabel: \\"Value mode:\\", defaultStaticValue: { jsonValue: \\"\\" } })));\\n};\\nexports[\\"default\\"] = IntervalEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/Timing/Interval/Interval.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/ConfigurableInputEditor.tsx":\n/*!*********************************************!*\\\n  !*** ./src/lib/ConfigurableInputEditor.tsx ***!\n  \\*********************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __importDefault = (this && this.__importDefault) || function (mod) {\\n    return (mod && mod.__esModule) ? mod : { \\"default\\": mod };\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.createConfigurableInputEditor = exports.ConfigurableInputEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importDefault(__webpack_require__(/*! react */ \\"react\\"));\\nconst ConfigurableInputEditor = ({ value, onChange, valueRenderer: ValueRenderer, defaultStaticValue, modeLabel, }) => {\\n    const handleModeChange = (e) => {\\n        onChange({\\n            mode: e.currentTarget.value,\\n            ...(e.currentTarget.value === \\"static\\" ? defaultStaticValue : {}),\\n        });\\n    };\\n    const handleValueChange = (value) => {\\n        onChange({\\n            ...value,\\n            mode: \\"static\\",\\n        });\\n    };\\n    return (react_1.default.createElement(react_1.default.Fragment, null,\\n        react_1.default.createElement(core_1.RadioGroup, { label: modeLabel, onChange: handleModeChange, selectedValue: value.mode, inline: true },\\n            react_1.default.createElement(core_1.Radio, { label: \\"Static\\", value: \\"static\\" }),\\n            react_1.default.createElement(core_1.Radio, { label: \\"Dynamic\\", value: \\"dynamic\\" })),\\n        value.mode === \\"static\\" ? (react_1.default.createElement(ValueRenderer, { value: value, onChange: handleValueChange })) : null));\\n};\\nexports.ConfigurableInputEditor = ConfigurableInputEditor;\\nconst createConfigurableInputEditor = (valueRenderer) => {\\n    return (props) => (react_1.default.createElement(exports.ConfigurableInputEditor, { ...props, valueRenderer: valueRenderer }));\\n};\\nexports.createConfigurableInputEditor = createConfigurableInputEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/lib/ConfigurableInputEditor.tsx?");\n\n/***/ }),\n\n/***/ "./src/lib/SimpleJsonEditor.tsx":\n/*!**************************************!*\\\n  !*** ./src/lib/SimpleJsonEditor.tsx ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\neval("\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\"get\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\"default\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\"default\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\"default\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\"__esModule\\", ({ value: true }));\\nexports.SimpleJsonEditor = void 0;\\nconst core_1 = __webpack_require__(/*! @blueprintjs/core */ \\"@blueprintjs/core\\");\\nconst react_1 = __importStar(__webpack_require__(/*! react */ \\"react\\"));\\nfunction SimpleJsonEditor(props) {\\n    const [tempDataValue, setTempDataValue] = react_1.default.useState(JSON.stringify(props.value, null, 2));\\n    const [dataParseError, setDataParseError] = react_1.default.useState();\\n    const onValueChange = (0, react_1.useCallback)((e) => {\\n        setTempDataValue(e.target.value);\\n        try {\\n            const data = JSON.parse(e.target.value);\\n            setDataParseError(undefined);\\n            props.onChange(data);\\n        }\\n        catch (e) {\\n            setDataParseError(e.message);\\n        }\\n    }, [props]);\\n    return (react_1.default.createElement(core_1.FormGroup, { label: props.label, intent: dataParseError ? \\"danger\\" : undefined, helperText: dataParseError },\\n        react_1.default.createElement(core_1.TextArea, { value: tempDataValue, fill: true, onChange: onValueChange })));\\n}\\nexports.SimpleJsonEditor = SimpleJsonEditor;\\n\\n\\n//# sourceURL=webpack://__MacroNode__Interval/./src/lib/SimpleJsonEditor.tsx?");\n\n/***/ }),\n\n/***/ "@blueprintjs/core":\n/*!****************************!*\\\n  !*** external "Blueprint" ***!\n  \\****************************/\n/***/ ((module) => {\n\nmodule.exports = window["Blueprint"];\n\n/***/ }),\n\n/***/ "react":\n/*!************************!*\\\n  !*** external "React" ***!\n  \\************************/\n/***/ ((module) => {\n\nmodule.exports = window["React"];\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module is referenced by other modules so it can\'t be inlined\n/******/ \tvar __webpack_exports__ = __webpack_require__("./src/Timing/Interval/Interval.tsx");\n/******/ \twindow.__MacroNode__Interval = __webpack_exports__;\n/******/ \t\n/******/ })()\n;',source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Interval/Interval.flyde.js",export:"Interval"}},Interval__bczfob5ymeh27ufao57egapl:{inputs:{},displayName:'Emit "\ud83e\udd16" each 3s',outputs:{value:{description:"Emitted value"}},reactiveInputs:["value"],completionOutputs:[],description:"Emits a value every interval.",namespace:"Timing",id:"Interval__bczfob5ymeh27ufao57egapl",run:n(98691).Interval.run,source:{path:"/Users/gabrielgrinberg/projects/flyde/stdlib/dist/Timing/Interval/Interval.flyde.js",export:"Interval"}}},flow:{imports:{"@flyde/stdlib":["Interval","RoundRobin","InlineValue","Collect"]},node:{instances:[{pos:{x:-639.1495586635534,y:-356.7075307794414},id:"oeum6dqgsprbuef0p9s3b1ye",inputConfig:{},nodeId:"RoundRobin__oeum6dqgsprbuef0p9s3b1ye",macroId:"RoundRobin",macroData:3},{pos:{x:-715.5202523019706,y:-257.26144321093545},id:"rh3ug7oqoze1rvn4k17kc556",inputConfig:{},nodeId:"InlineValue__rh3ug7oqoze1rvn4k17kc556",macroId:"InlineValue",macroData:{type:"string",value:"beep",label:'"beep"'}},{pos:{x:-602.4942700195312,y:-257.6317993164063},id:"ApisCombination-69049ap",inputConfig:{},nodeId:"InlineValue__ApisCombination-69049ap",macroId:"InlineValue",macroData:{type:"string",value:"boop",label:'"boop"'}},{pos:{x:-490.38597900390624,y:-258.06144042968754},id:"ApisCombination-ts149e2",inputConfig:{},nodeId:"InlineValue__ApisCombination-ts149e2",macroId:"InlineValue",macroData:{type:"string",value:"bop",label:'"bop"'}},{pos:{x:-644.9241528320313,y:-168.45148509621887},id:"lqx9nk7f5fr4evl7dpoh6mff",inputConfig:{},nodeId:"Collect__lqx9nk7f5fr4evl7dpoh6mff",macroId:"Collect",macroData:{strategy:"count",count:{mode:"static",count:3}}},{pos:{x:-630.6297778320313,y:-425.5123219069296},id:"bczfob5ymeh27ufao57egapl",inputConfig:{},nodeId:"Interval__bczfob5ymeh27ufao57egapl",macroId:"Interval",macroData:{time:{timeMs:3e3,mode:"static"},value:{jsonValue:"\ud83e\udd16",mode:"static"}},style:{size:"small"}}],connections:[{from:{insId:"oeum6dqgsprbuef0p9s3b1ye",pinId:"r1"},to:{insId:"rh3ug7oqoze1rvn4k17kc556",pinId:"__trigger"}},{from:{insId:"oeum6dqgsprbuef0p9s3b1ye",pinId:"r2"},to:{insId:"ApisCombination-69049ap",pinId:"__trigger"}},{from:{insId:"oeum6dqgsprbuef0p9s3b1ye",pinId:"r3"},to:{insId:"ApisCombination-ts149e2",pinId:"__trigger"}},{from:{insId:"rh3ug7oqoze1rvn4k17kc556",pinId:"value"},to:{insId:"lqx9nk7f5fr4evl7dpoh6mff",pinId:"value"}},{from:{insId:"ApisCombination-69049ap",pinId:"value"},to:{insId:"lqx9nk7f5fr4evl7dpoh6mff",pinId:"value"}},{from:{insId:"ApisCombination-ts149e2",pinId:"value"},to:{insId:"lqx9nk7f5fr4evl7dpoh6mff",pinId:"value"}},{from:{insId:"bczfob5ymeh27ufao57egapl",pinId:"value"},to:{insId:"oeum6dqgsprbuef0p9s3b1ye",pinId:"value"}},{from:{insId:"lqx9nk7f5fr4evl7dpoh6mff",pinId:"list"},to:{insId:"__this",pinId:"output"}}],id:"Reactivity",inputs:{},outputs:{output:{type:"any",optional:!1,delayed:!1}},inputsPosition:{city:{x:-187.27285824815934,y:-14.13215209416181}},outputsPosition:{json:{x:-441.98276309426666,y:480.38719404276554},na:{x:-441.98276309426666,y:480.38719404276554},result:{x:-499.82438378976735,y:706.7650396699393},output:{x:-588.0203320231655,y:-62.15245435262375},response:{x:-500.61566893722795,y:421.9045791861946}},completionOutputs:["output"]}}},tip:"Try changing the collection count and see the output change.",playgroundUrl:"https://play.flyde.dev/apps/5860e97d-8e3c-4751-baf2-367bcd768852"},{label:"Hello World",flow:V,tip:'Try double clicking on the "World" node to change the string.',playgroundUrl:"https://play.flyde.dev/apps/974a3913-1b3b-4a0a-9ca7-4e2a69d0fddb"},{label:"Debounce/Throttle",flow:R,tip:"Try changing the delay time of the debounce/throttle nodes.",playgroundUrl:"https://play.flyde.dev/apps/f35b90b9-9438-4805-a700-b7eb32c373b2"},{label:"HTTP Requests",flow:A,tip:'Double click "Format Response" to see how it is implemented.',playgroundUrl:"https://play.flyde.dev/apps/c19f558e-e34e-4bad-a47a-58b37968a8b8"}],q=0;function z(){const[e,t]=o.useState(L[q]),n=o.useRef(null),[r,i]=(0,o.useState)(!1),l=(0,o.useCallback)((()=>{i(!0),n.current?.runFlow()}),[]),u=(0,o.useMemo)((()=>o.createElement("div",{className:"example-actions"},o.createElement("span",{className:"font-thin label"},"Examples:"),L.map((n=>o.createElement("button",{key:n.label,className:"button button--sm example-button "+(n.label===e.label?"button--primary":"button--secondary"),onClick:()=>t(n)},n.label))))),[e]);return o.createElement("div",{className:(0,s.default)("hero hero--primary",a.heroBanner)},o.createElement("div",{className:"container"},o.createElement("div",{className:"content-wrapper"},o.createElement("a",{className:"github-star",href:"https://www.github.com/flydelabs/flyde",target:"_blank"},o.createElement(D,null)," ",o.createElement("span",null,"Star us on GitHub")),o.createElement("h1",{className:"hero__title"},o.createElement("div",{className:"font-thin"},"Visual Programming."),o.createElement("div",null,"For Developers")),o.createElement("p",{className:"hero__subtitle"},"Open source, runs in"," ",o.createElement("a",{href:"https://marketplace.visualstudio.com/items?itemName=flyde.flyde-vscode",target:"_blank"},"VS Code"),", integrates with existing ",o.createElement("strong",null,"TypeScript")," code, browser and Node.js."),o.createElement("div",{className:"buttons-container"},o.createElement(P.Z,{className:"button button--primary button--lg ",href:"/docs"},"Learn More"),o.createElement(P.Z,{className:"button button--secondary button--lg example-btn",onClick:l},"Run Example"," ",o.createElement("span",{className:(0,s.default)("hero-horizontal-only horizontal-finger",{nudge:!r})},"\ud83d\udc49"),o.createElement("span",{className:(0,s.default)("hero-vertical-only vertical-finger",{nudge:!r})},"\ud83d\udc47")))),o.createElement("div",{className:"example-container"},o.createElement("div",{className:"hero-horizontal-only"},u),o.createElement(O,{example:e,key:e.label,ref:n}),e.tip?o.createElement("div",{className:"example-tip"},"Challenge:"," ",e.tip.replace(/^[A-Z]/,(e=>e.toLowerCase()))," ","\xa0",e.playgroundUrl?o.createElement("a",{href:e.playgroundUrl,className:"open-in-playground",target:"_blank"},"Open in playground"):null):null,o.createElement("div",{className:"hero-vertical-only"},u))))}function B(){const{siteConfig:e}=(0,r.Z)();return(0,o.useEffect)((()=>{document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=this.getAttribute("href"),n=document.querySelector(t);n&&window.scrollTo({top:n.offsetTop-100,behavior:"smooth"})}))}))}),[]),o.createElement(i.Z,{description:"Flyde, open-source visual programming language. Runs in the IDE, integrates with existing TypeScript code, browser and Node.js."},o.createElement(z,null),o.createElement("section",{className:"features-strip"},M.map((e=>o.createElement("div",{className:"feature-highlight",key:e.title},o.createElement("a",{href:`#${e.id}`},e.preview))))),M.map((e=>o.createElement("section",{className:"feature-strip",id:e.id,key:e.id},o.createElement("div",{className:"feature-strip-inner"},o.createElement("div",{className:"image-container"},o.createElement("img",{src:e.image}),o.createElement("div",{className:"image-caption"},e.imageCaption)),o.createElement("div",{className:"content-container"},o.createElement("h3",null,e.title),o.createElement("div",{className:"feature-description"},e.description)))))))}},85721:(e,t,n)=>{var o={"./af":47654,"./af.js":47654,"./ar":61325,"./ar-dz":98344,"./ar-dz.js":98344,"./ar-kw":26230,"./ar-kw.js":26230,"./ar-ly":42524,"./ar-ly.js":42524,"./ar-ma":44119,"./ar-ma.js":44119,"./ar-sa":82625,"./ar-sa.js":82625,"./ar-tn":42182,"./ar-tn.js":42182,"./ar.js":61325,"./az":37093,"./az.js":37093,"./be":32721,"./be.js":32721,"./bg":59919,"./bg.js":59919,"./bm":95594,"./bm.js":95594,"./bn":563,"./bn-bd":41757,"./bn-bd.js":41757,"./bn.js":563,"./bo":73211,"./bo.js":73211,"./br":87438,"./br.js":87438,"./bs":83662,"./bs.js":83662,"./ca":61196,"./ca.js":61196,"./cs":5841,"./cs.js":5841,"./cv":85251,"./cv.js":85251,"./cy":24512,"./cy.js":24512,"./da":37539,"./da.js":37539,"./de":5059,"./de-at":53853,"./de-at.js":53853,"./de-ch":99378,"./de-ch.js":99378,"./de.js":5059,"./dv":91454,"./dv.js":91454,"./el":39651,"./el.js":39651,"./en-au":87953,"./en-au.js":87953,"./en-ca":98193,"./en-ca.js":98193,"./en-gb":61980,"./en-gb.js":61980,"./en-ie":14050,"./en-ie.js":14050,"./en-il":6502,"./en-il.js":6502,"./en-in":555,"./en-in.js":555,"./en-nz":11372,"./en-nz.js":11372,"./en-sg":26568,"./en-sg.js":26568,"./eo":69533,"./eo.js":69533,"./es":68327,"./es-do":17620,"./es-do.js":17620,"./es-mx":96467,"./es-mx.js":96467,"./es-us":83272,"./es-us.js":83272,"./es.js":68327,"./et":68523,"./et.js":68523,"./eu":19066,"./eu.js":19066,"./fa":59087,"./fa.js":59087,"./fi":96443,"./fi.js":96443,"./fil":93979,"./fil.js":93979,"./fo":90383,"./fo.js":90383,"./fr":56327,"./fr-ca":25610,"./fr-ca.js":25610,"./fr-ch":97274,"./fr-ch.js":97274,"./fr.js":56327,"./fy":67442,"./fy.js":67442,"./ga":44291,"./ga.js":44291,"./gd":77342,"./gd.js":77342,"./gl":96248,"./gl.js":96248,"./gom-deva":21404,"./gom-deva.js":21404,"./gom-latn":20833,"./gom-latn.js":20833,"./gu":9122,"./gu.js":9122,"./he":74623,"./he.js":74623,"./hi":60364,"./hi.js":60364,"./hr":30860,"./hr.js":30860,"./hu":70441,"./hu.js":70441,"./hy-am":90425,"./hy-am.js":90425,"./id":29672,"./id.js":29672,"./is":96150,"./is.js":96150,"./it":27852,"./it-ch":55603,"./it-ch.js":55603,"./it.js":27852,"./ja":16465,"./ja.js":16465,"./jv":20120,"./jv.js":20120,"./ka":87245,"./ka.js":87245,"./kk":21479,"./kk.js":21479,"./km":82735,"./km.js":82735,"./kn":63060,"./kn.js":63060,"./ko":85020,"./ko.js":85020,"./ku":90582,"./ku.js":90582,"./ky":34950,"./ky.js":34950,"./lb":94201,"./lb.js":94201,"./lo":87894,"./lo.js":87894,"./lt":70120,"./lt.js":70120,"./lv":4265,"./lv.js":4265,"./me":14030,"./me.js":14030,"./mi":9463,"./mi.js":9463,"./mk":25898,"./mk.js":25898,"./ml":64233,"./ml.js":64233,"./mn":47156,"./mn.js":47156,"./mr":34479,"./mr.js":34479,"./ms":24691,"./ms-my":6456,"./ms-my.js":6456,"./ms.js":24691,"./mt":81789,"./mt.js":81789,"./my":37452,"./my.js":37452,"./nb":91170,"./nb.js":91170,"./ne":87529,"./ne.js":87529,"./nl":81776,"./nl-be":24455,"./nl-be.js":24455,"./nl.js":81776,"./nn":34705,"./nn.js":34705,"./oc-lnc":36139,"./oc-lnc.js":36139,"./pa-in":17960,"./pa-in.js":17960,"./pl":1899,"./pl.js":1899,"./pt":31670,"./pt-br":29159,"./pt-br.js":29159,"./pt.js":31670,"./ro":55115,"./ro.js":55115,"./ru":45149,"./ru.js":45149,"./sd":81231,"./sd.js":81231,"./se":35397,"./se.js":35397,"./si":99786,"./si.js":99786,"./sk":39383,"./sk.js":39383,"./sl":68691,"./sl.js":68691,"./sq":34826,"./sq.js":34826,"./sr":40080,"./sr-cyrl":75673,"./sr-cyrl.js":75673,"./sr.js":40080,"./ss":54309,"./ss.js":54309,"./sv":52245,"./sv.js":52245,"./sw":8967,"./sw.js":8967,"./ta":10454,"./ta.js":10454,"./te":35204,"./te.js":35204,"./tet":81571,"./tet.js":81571,"./tg":15737,"./tg.js":15737,"./th":41786,"./th.js":41786,"./tk":50511,"./tk.js":50511,"./tl-ph":14828,"./tl-ph.js":14828,"./tlh":62422,"./tlh.js":62422,"./tr":97047,"./tr.js":97047,"./tzl":90792,"./tzl.js":90792,"./tzm":67730,"./tzm-latn":59963,"./tzm-latn.js":59963,"./tzm.js":67730,"./ug-cn":42535,"./ug-cn.js":42535,"./uk":33151,"./uk.js":33151,"./ur":22750,"./ur.js":22750,"./uz":61914,"./uz-latn":60231,"./uz-latn.js":60231,"./uz.js":61914,"./vi":55517,"./vi.js":55517,"./x-pseudo":64078,"./x-pseudo.js":64078,"./yo":70046,"./yo.js":70046,"./zh-cn":81832,"./zh-cn.js":81832,"./zh-hk":90953,"./zh-hk.js":90953,"./zh-mo":38236,"./zh-mo.js":38236,"./zh-tw":71001,"./zh-tw.js":71001};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=85721},42016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/fibo-cdbc5936ed3856df4928019564ef82dd.gif"},39415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/integrates-cd9b83d7c4fb96804f2ff6edb5e19fcd.gif"},43033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/transparent-25618eaa2d7966dceddf11fb5f2c1108.gif"},61744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n.p+"assets/images/visual-b1b598cd76a44cfb7ae65dec6aeaaa41.gif"}}]);