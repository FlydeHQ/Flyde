/*! For license information please see 7a4a9b46.6a713ac1.js.LICENSE.txt */
(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[764],{8162:function(e,t,n){"use strict";var r=n(2525),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var u=60109,s=60110,a=60112;t.Suspense=60113;var p=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),u=d("react.provider"),s=d("react.context"),a=d("react.forward_ref"),t.Suspense=d("react.suspense"),p=d("react.memo"),c=d("react.lazy")}var l="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function h(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=h.prototype;var b=g.prototype=new v;b.constructor=g,r(b,h.prototype),b.isPureReactComponent=!0;var I={current:null},x=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},u=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(u=""+t.key),t)x.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var p=Array(a),c=0;c<a;c++)p[c]=arguments[c+2];o.children=p}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return{$$typeof:i,type:e,key:u,ref:s,props:o,_owner:I.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var O=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function q(e,t,n,r,u){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var a=!1;if(null===e)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case i:case o:a=!0}}if(a)return u=u(a=e),e=""===r?"."+S(a,0):r,Array.isArray(u)?(n="",null!=e&&(n=e.replace(O,"$&/")+"/"),q(u,t,n,"",(function(e){return e}))):null!=u&&(k(u)&&(u=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(u,n+(!u.key||a&&a.key===u.key?"":(""+u.key).replace(O,"$&/")+"/")+e)),t.push(u)),1;if(a=0,r=""===r?".":r+":",Array.isArray(e))for(var p=0;p<e.length;p++){var c=r+S(s=e[p],p);a+=q(s,t,n,c,u)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=l&&e[l]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),p=0;!(s=e.next()).done;)a+=q(s=s.value,t,n,c=r+S(s,p++),u);else if("object"===s)throw t=""+e,Error(y(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function E(e,t,n){if(null==e)return e;var r=[],i=0;return q(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function w(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function j(){var e=P.current;if(null===e)throw Error(y(321));return e}var T={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(y(143));return e}},t.Component=h,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var o=r({},e.props),u=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(u=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==p?p[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){p=Array(c);for(var d=0;d<c;d++)p[d]=arguments[d+2];o.children=p}return{$$typeof:i,type:e.type,key:u,ref:s,props:o,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:a,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:w}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return j().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,n){return j().useReducer(e,t,n)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="17.0.2"},3119:function(e,t,n){"use strict";e.exports=n(8162)},7695:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.customRepoToPartRepo=t.codePartToNative=void 0;var u=n(4206),s=n(8265),a=n(4048),p=n(8265);t.codePartToNative=function(e,t){void 0===t&&(t={});var c=n.g&&n.g.vm2||"undefined"==typeof window?n.g.vm2:window&&window.vm2,d=e.fnCode,l=i(e,["fnCode"]),y=s.debugLogger("code-part:"+e.id),f="\n  try {\n    "+d+"\n  } catch (e) {\n    adv.onError(e);\n  }\n  ",m=new c.VMScript(f),h=r(r({},l),{fn:function(n,i,d){var l=new c.VM({sandbox:r({inputs:n,outputs:i,setInterval:setInterval,clearInterval:clearInterval,setTimeout:setTimeout,clearTimeout:clearTimeout,encodeURIComponent:encodeURIComponent,adv:d,log:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];y.apply(void 0,o(["Log from code part "+e.id+" ["+d.insId+"]"],t))},axios:u.default,DEFAULT_AXIOS_TIMEOUT:15e3,dynamicPartInput:a.dynamicPartInput,dynamicPartArg:a.dynamicPartInput,dynamicOutput:p.dynamicOutput,isDefined:p.isDefined,compileStringTemplate:s.compileStringTemplate,compileObjectTemplate:s.compileObjectTemplate,__FLYDE_MODE:"production"},t)});l.run(m)}});return h};t.customRepoToPartRepo=function(e,n){void 0===n&&(n={});var r={};for(var i in e){var o=e[i];r[i]=a.isCodePart(o)?t.codePartToNative(o,n):o}return r}},8541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cappedArrayDebounce=void 0;t.cappedArrayDebounce=function(e,t,n,r){void 0===r&&(r=500);var i=[],o=null,u=null;return function(s){clearTimeout(o),i.push(s),u||(u=setTimeout((function(){e(i),clearTimeout(o),u=null}),r)),i.length>=n?(e(i),clearTimeout(u),u=null,i=[]):o=setTimeout((function(){e(i),clearTimeout(u),u=null,i=[]}),t)}}},6615:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.dataShaper=t.DataShapeType=void 0,function(e){e[e.STRING=0]="STRING",e[e.NUMBER=1]="NUMBER",e[e.BOOLEAN=2]="BOOLEAN",e[e.ARRAY=3]="ARRAY",e[e.OBJECT=4]="OBJECT",e[e.NULL=5]="NULL"}(n=t.DataShapeType||(t.DataShapeType={}));var r={string:n.STRING,number:n.NUMBER,boolean:n.BOOLEAN,object:n.OBJECT,array:n.ARRAY,null:n.NULL};t.dataShaper=function(e,n,i){void 0===n&&(n=5),void 0===i&&(i=5);var o,u,s=null===(o=e)?"null":typeof o;if("object"===s){if(Array.isArray(e))return n>1?e.filter((function(e,t){return t<i})).map((function(e){return t.dataShaper(e,n-1,i)})):r.array;if(n>1){var a={};for(var p in e)a[p]=t.dataShaper(e[p],n-1,i);return u=a,Object.keys(u).sort().reduce((function(e,t){return e[t]=u[t],e}),{})}return r.object}return r[s]}},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugLogger=void 0;var r=n(6292).default("flyde");t.debugLogger=function(e){return r.extend(e)}},8132:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.hashProject=t.hashPart=void 0;var u=n(1586),s=n(8265),a=function(e){return u(e)};t.hashPart=function(e){var t={id:e.id,completionOutputs:e.completionOutputs,reactiveInputs:e.reactiveInputs,inputs:e.inputs,outputs:e.outputs};if(s.isGroupedPart(e)){var n=e.instances,u=e.id,p=e.connections,c=n.map((function(e){e.pos;return i(e,["pos"])}));c.sort((function(e,t){return e.id.localeCompare(t.id)}));var d=o([],p);d.sort((function(e,t){var n=e.from.insId+"."+e.from.pinId,r=t.from.insId+"."+t.from.pinId;return n.localeCompare(r)}));var l=JSON.stringify(r({id:u,cleanedInstances:c,conns:d},t));return a(l)}if(s.isCodePart(e)){var y=e.fnCode,f=e.customViewCode;l=JSON.stringify(r({fnCode:y,customViewCode:f},t));return a(l)}throw new Error("Hashing native parts unsupported")};t.hashProject=function(e){var n=e.slug,r=e.id,i=e.customRepo,o=e.env,u=e.triggers,s=Object.values(i).map(t.hashPart).join(""),p=JSON.stringify({id:r,slug:n,env:o,triggers:u});return a(p+s)}},5821:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DepGraph=void 0,i(n(9985),t),i(n(4919),t),i(n(189),t),i(n(8541),t),i(n(4919),t),i(n(8132),t),i(n(7748),t),i(n(6615),t),t.DepGraph=n(9280).DepGraph},9985:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.testDataCreator=void 0;t.testDataCreator=function(e){return function(t){void 0===t&&(t={});var r="function"==typeof e?e():e,i=t;return n(n({},r),i)}}},4919:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{a(r.next(e))}catch(t){o(t)}}function s(e){try{a(r.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,s)}a((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.eventually=t.delay=t.noop=t.removeDupes=t.ensure=t.isOptionalType=t.isDefined=t.containsAll=t.shuffle=t.randomInts=t.repeat=t.pickRandom=t.randomPos=t.randomInt=t.pickSecond=t.pickFirst=t.fromEntries=t.entries=t.okeys=t.values=t.keys=t.filterOMap=t.mapOMap=void 0;t.mapOMap=function(e,r){return t.entries(e).map((function(e){var t=e[0],n=e[1];return[t,r(t,n)]})).reduce((function(e,t){var r,i=t[0],o=t[1];return n(n({},e),((r={})[i]=o,r))}),{})};t.filterOMap=function(e,r){return t.entries(e).filter((function(e){var t=e[0],n=e[1];return r(t,n)})).reduce((function(e,t){var r,i=t[0],o=t[1];return n(n({},e),((r={})[i]=o,r))}),{})};t.keys=function(e){return Object.keys(e)};t.values=function(e){return Object.values(e)},t.okeys=t.keys;t.entries=function(e){return t.okeys(e).map((function(t){return[t,e[t]]}))};t.fromEntries=function(e){return e.reduce((function(e,t){var r,i=t[0],o=t[1];return n(n({},e),((r={})[i]=o,r))}),{})};t.pickFirst=function(e){return e[0]};t.pickSecond=function(e){return e[1]};t.randomInt=function(e,t){void 0===t&&(t=0);var n=Math.random();return t+Math.floor((e-t)*n)};t.randomPos=function(e,n){return void 0===e&&(e=1e3),void 0===n&&(n=0),{x:t.randomInt(e,n),y:t.randomInt(e,n)}};t.pickRandom=function(e){return e[t.randomInt(e.length)]};t.repeat=function(e,t){return"x".repeat(e).split("").map((function(e,n){return t(n)}))};t.randomInts=function(e,n,r){return void 0===n&&(n=100),void 0===r&&(r=0),t.repeat(e,(function(){return t.randomInt(n,r)}))};t.shuffle=function(e){for(var t,n=o([],e),r=n.length-1;r>=0;r--){var i=Math.floor(Math.random()*(r+1));t=[n[i],n[r]],n[r]=t[0],n[i]=t[1]}return n};t.containsAll=function(e,t){return t.every((function(t){return e.includes(t)}))};t.isDefined=function(e){return void 0!==e};t.isOptionalType=function(e){return/\?$/.test(e)};t.ensure=function(e,t){if(void 0===e)throw new Error(t||"Undefined value passed");return e};t.removeDupes=function(e){return Array.from(new Set(e))};t.noop=function(){};t.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))};t.eventually=function(e,n,o,u){return void 0===n&&(n=3e3),void 0===o&&(o=100),void 0===u&&(u=new Set),r(void 0,void 0,void 0,(function(){var r,s,a,p;return i(this,(function(i){switch(i.label){case 0:if(n<0)throw r=Array.from(u).reduce((function(e,t,n){return e+"\n\t\t"+(n+1)+". "+t}),""),new Error("[Eventually timeout exceeded after: timeout with error]: "+r);i.label=1;case 1:return i.trys.push([1,3,,5]),[4,e()];case 2:return i.sent(),[3,5];case 3:return s=i.sent(),a=Date.now(),[4,t.delay(o)];case 4:return i.sent(),p=Date.now()-a,u.add(s.message),[2,t.eventually(e,n-p,o,u)];case 5:return[2]}}))}))}},7748:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileObjectTemplate=t.compileStringTemplate=void 0;t.compileStringTemplate=function(e,t){var n=decodeURIComponent(e);return Object.keys(t).forEach((function(e){var r=t[e],i=new RegExp("\\$\\{"+e+"\\}","g");n=n.replace(i,r)})),n};t.compileObjectTemplate=function(e,t){var n=decodeURIComponent(e);return Object.keys(t).forEach((function(e){var r=t[e],i=JSON.stringify(r),o=new RegExp('"\\$\\$\\{'+e+'\\}"',"g"),u=new RegExp("\\$\\{"+e+"\\}","g"),s="string"==typeof r?r.replace(/"/g,(function(e,t,n){return"\\"!==n[t-1]?'\\"':n[t]})):r;n=n.replace(o,i).replace(u,s).replace(/\n/g,"\\n")})),JSON.parse(n)}},1076:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connection=t.connectionData=t.connectionDataEquals=t.connectionNodeEquals=t.connectionNode=t.externalConnectionNode=t.isInternalConnection=t.isExternalConnection=t.isInternalConnectionNode=t.isExternalConnectionNode=t.TRIGGER_PIN_ID=t.ERROR_PIN_ID=t.THIS_INS_ID=void 0,t.THIS_INS_ID="__this",t.ERROR_PIN_ID="__error",t.TRIGGER_PIN_ID="__trigger";t.isExternalConnectionNode=function(e){return e.insId===t.THIS_INS_ID};t.isInternalConnectionNode=function(e){return e.insId!==t.THIS_INS_ID};t.isExternalConnection=function(e){var n=e.from,r=e.to;return t.isExternalConnectionNode(n)||t.isExternalConnectionNode(r)};t.isInternalConnection=function(e){return!t.isExternalConnection(e)};t.externalConnectionNode=function(e){return{insId:t.THIS_INS_ID,pinId:e}};t.connectionNode=function(e,t){return{insId:e,pinId:t}};t.connectionNodeEquals=function(e,t){return e.insId===t.insId&&e.pinId===t.pinId};t.connectionDataEquals=function(e,n){return!(!e||!n)&&(t.connectionNodeEquals(e.from,n.from)&&t.connectionNodeEquals(e.to,n.to))},t.connectionData=function(e,n,r){var i="string"==typeof e?e.split("."):e,o="string"==typeof n?n.split("."):n;if(i.length>2||o.length>2)throw new Error("invalid source or target to connection data - "+e+" / "+n);return{from:2===i.length?t.connectionNode(i[0],i[1]):t.externalConnectionNode(i[0]),to:2===o.length?t.connectionNode(o[0],o[1]):t.externalConnectionNode(o[0]),delayed:r}};t.connection=function(e,t,n){return void 0===n&&(n=!1),{from:e,to:t,delayed:n}}},6485:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{a(r.next(e))}catch(t){o(t)}}function s(e){try{a(r.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,s)}a((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var s=n(4048),a=n(385),p=n(5821),c=n(1076);i(n(1076),t);t.connect=function(e,t,n,r,i,d,l){void 0===n&&(n={}),void 0===r&&(r="root"),void 0===i&&(i={bob:new Map}),void 0===d&&(d=p.noop),void 0===l&&(l={});var y=e.id,f=e.connections,m=e.instances,h=y||"connected-part"+p.randomInt(999);return{inputs:e.inputs,outputs:e.outputs,id:h,completionOutputs:e.completionOutputs,reactiveInputs:e.reactiveInputs,fn:function(y,v){var g=[],b=new p.DepGraph({}),I=new Map,x=new Map,C=new Map,_=new Map,k=new Map,O=new Map;m.forEach((function(e){var n=s.getPart(e,t),r=e.id;I.set(e,r),x.set(r,e),b.addNode(r);var i=Object.keys(n.inputs),o=Object.keys(n.outputs),u={},a={};if(i.forEach((function(t){var n=(e.inputConfig||{})[t]||s.queueInputPinConfig();s.isStaticInputPinConfig(n)?u[t]=s.staticPartInput(n.value):u[t]=s.dynamicPartInput({config:n})})),u[c.TRIGGER_PIN_ID]=s.dynamicPartInput({config:s.queueInputPinConfig()}),f.some((function(t){return c.isInternalConnectionNode(t.to)&&t.to.insId===e.id&&t.to.pinId===c.TRIGGER_PIN_ID}))&&e.inputConfig&&e.inputConfig[c.TRIGGER_PIN_ID])throw"Trigger connection can not be configured";o.forEach((function(e){var t=s.dynamicOutput();a[e]=t})),f.some((function(t){return c.isInternalConnectionNode(t.from)&&t.from.insId===e.id&&t.from.pinId===c.ERROR_PIN_ID}))&&(a[c.ERROR_PIN_ID]=s.dynamicOutput()),C.set(r,u),_.set(r,a)}));var S=new Set;return f.forEach((function(n){var r=n.from,i=n.to,a=r.insId,p=r.pinId,d=i.insId,l=i.pinId,y=_.get(a),f=C.get(d);if(c.isInternalConnectionNode(i)&&S.add(i.insId+"."+i.pinId),c.isExternalConnection(n))if(c.isExternalConnectionNode(r)){var m=f[i.pinId];if(!m)throw new Error("Input "+i.pinId+" of instance "+d+" not found");(v=k.get(r.pinId)||[]).push(m),k.set(r.pinId,v)}else{var v,I=y[r.pinId];if(!I)throw new Error("Output "+r.pinId+" of instance "+a+" not found");(v=O.get(i.pinId)||[]).push(I),O.set(i.pinId,v)}else{if(!y)throw new Error("No outputs found for instance ["+a+"]");if(!f)throw x.has(d)?new Error("No inputs found for instance ["+d+"]"):new Error("Instance with id ["+d+"] does not exist!");var q=y[p];if(!q)throw new Error("Output source - ["+r+"] not found in part ["+h+"]");var E=f[l],w=x.get(a);if(!w&&a!==c.THIS_INS_ID)throw new Error("Instance ["+a+"] does not exist! failed to connect ["+r+"] -> ["+i+"]");var P=(w?s.getPart(w,t):e).outputs[p];if(P&&P.delayed||n.delayed||a!==c.THIS_INS_ID&&d!==c.THIS_INS_ID&&b.addDependency(a,d),!E)throw new Error("Target arg - ["+i+"] not found in part ["+h+"]");var j=q.subscribe((function(e){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){if(!s.isDynamicInput(E))throw console.info(E),new Error("Impossible state listening to non dynamic input - "+d+"."+l);return E.subject.next(e),[2]}))}))}));g.push((function(){return j.unsubscribe()}))}})),p.okeys(v).forEach((function(e){(O.get(e)||[]).forEach((function(t){var n=t.subscribe((function(t){return o(void 0,void 0,void 0,(function(){return u(this,(function(n){return v[e].next(t),[2]}))}))}));g.push((function(){return n.unsubscribe()}))}))})),b.overallOrder().map((function(e){return x.get(e)})).forEach((function(e){var o=C.get(e.id),u=_.get(e.id),p=s.getPart(e,t);if(!o)throw new Error("Unexpected error - args not found when running "+e);if(!u)throw new Error("Unexpected error - outputs not found when running "+e);for(var c in o){var y=e.inputConfig[c];S.has(e.id+"."+c)||s.isStaticInputPinConfig(y)||delete o[c]}var f=a.execute({part:p,inputs:o,outputs:u,partsRepo:t,_debugger:n,insId:e.id,extraContext:{},mainState:i,parentInsId:r,onBubbleError:d,env:l});g.push(f)})),Object.keys(y).forEach((function(e){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){return(k.get(e)||[]).forEach((function(t){var n=y[e];if(!s.isDynamicInput(t))throw"todo";p.isDefined(n)&&t.subject.next(n)})),[2]}))}))})),function(){return g.forEach((function(e){try{e()}catch(t){console.error("error unsubscribing",t)}}))}}}}},385:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{a(r.next(e))}catch(t){o(t)}}function s(e){try{a(r.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,s)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.execute=t.INPUTS_STATE_SUFFIX=t.INNER_STATE_SUFFIX=void 0;var u=n(6845),s=n(1730),a=n(8739),p=n(4048),c=n(6485),d=n(3939),l=n(5821),y=n(189),f=n(8265);t.INNER_STATE_SUFFIX="_inner",t.INPUTS_STATE_SUFFIX="_inputs";t.execute=function(e){var n=e.part,m=e.inputs,h=e.outputs,v=e.partsRepo,g=e._debugger,b=void 0===g?{}:g,I=e.insId,x=void 0===I?n.id:I,C=e.extraContext,_=void 0===C?{}:C,k=e.mainState,O=void 0===k?{}:k,S=e.parentInsId,q=void 0===S?"root":S,E=e.onBubbleError,w=void 0===E?u.noop:E,P=e.env,j=void 0===P?{}:P,T=[],D=a(),N=r(r({},_),{ENV:j}),R=f.customRepoToPartRepo(v,N),V=function(e){if(h[c.ERROR_PIN_ID])h[c.ERROR_PIN_ID].next(e);else{var t=e instanceof Error?e:new Error("Raw error: "+e.toString());if(t.message="error in child instance "+x+": "+t.message,t.insId=x,w(t),b.onError){var n=t;n.insId=q+"."+x,b.onError(n)}}},L=function(e){return p.isGroupedPart(e)?c.connect(e,R,b,q+"."+x,O,V,j):p.isCodePart(e)?f.codePartToNative(e,N):e}(n),A=b.onInput||u.noop,z=b.onOutput||u.noop,F={},M={},G=q+"."+x;l.entries(m).forEach((function(e){var t=e[0],n=e[1];if(p.isDynamicInput(n)){var r=p.dynamicPartInput({config:n.config}),u=n.subject.subscribe((function(e){return i(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return(n=A({insId:G,pinId:t,val:e,time:Date.now(),partId:L.id,executionId:D}))?[4,n.valuePromise]:[3,2];case 1:return i=o.sent(),r.subject.next(i),[3,5];case 2:return b.debugDelay?[4,l.delay(b.debugDelay)]:[3,4];case 3:o.sent(),o.label=4;case 4:r.subject.next(e),o.label=5;case 5:return[2]}}))}))}));T.push((function(){return u.unsubscribe()})),M[t]=r}else{var s=p.staticPartInput(p.getStaticValue(n.config.value,R,x));M[t]=s}})),l.entries(h).forEach((function(e){var t=e[0],n=e[1],r=p.dynamicOutput(),u=r.subscribe((function(e){return i(void 0,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r=z({insId:G,pinId:t,val:e,time:Date.now(),partId:L.id,executionId:D}))?[4,r.valuePromise]:[3,2];case 1:return i=o.sent(),n.next(i),[3,3];case 2:n.next(e),o.label=3;case 3:return[2]}}))}))}));T.push((function(){return u.unsubscribe()})),F[t]=r}));var $=function(e){var n,i=e.part,o=e.inputs,a=e.outputs,c=e.repo,f=e._debugger,m=e.insId,h=e.parentInsId,v=e.mainState,g=e.onError,b=(e.onBubbleError,e.env),I=i.fn,x=y.debugLogger("core"),C=[],_=f.onProcessing||u.noop,k=f.onInputsStateChange||u.noop,O=(h||"root")+"."+m,S=""+O+t.INNER_STATE_SUFFIX,q=""+O+t.INPUTS_STATE_SUFFIX,E=x.extend(O);v[S]||(v[S]=new Map),v[q]||(v[q]=new Map),v[S];var w,P=v[q],j=function(){var e=Array.from(P.entries()).reduce((function(e,t){var n,i=t[0],u=t[1],s=p.isQueueInputPinConfig(o[i].config,o[i]);return r(r({},e),((n={})[i]=s?null==u?void 0:u.length:1,n))}),{});k({inputs:e,insId:O})},T={execute:function(e,n,r,i){return t.execute({part:e,inputs:n,outputs:r,partsRepo:c,_debugger:f,insId:i})},insId:m,state:v[S],onCleanup:function(e){C.push(e)},onError:function(e){g(e)}},D=!1,N=i.reactiveInputs||[],R=function(){v[S].clear(),l.keys(v).filter((function(e){return e.startsWith(O+".")})).forEach((function(e){v[e]=new Map}))},V=function e(t){var u,c=N.includes(null==t?void 0:t.key);if(D&&!c);else{var y=D&&c;if(d.isPartStateValid(o,P,i,w)||y){var f=void 0;if(D){if(!t)throw new Error("Unexpected state,  got reactive part while not processing and not valid");var m=d.pullValueForExecution(t.key,o[t.key],P,b);f=r(r({},w),((u={})[t.key]=m,u)),j()}else f=d.pullValuesForExecution(o,P,b),w=f,j();var h=new Set;if(i.completionOutputs){_({processing:D=!0,insId:O});var v=new Set(i.completionOutputs);l.entries(a).forEach((function(t){var r=t[0];t[1].pipe(s.first()).subscribe((function(t){h.add(r),Array.from(v.keys()).join(","),Array.from(h.keys()).join(","),v.has(r)&&(_({processing:D=!1,insId:O}),R(),n&&!i.outputs.jsx&&(n(),n=void 0),h.clear(),d.hasNewSignificantValues(o,P,b,i.id)&&e())}))}))}else R();try{E("Running part %s with values %o",i.id,f),n=I(f,a,T)}catch(q){_({processing:D=!1,insId:O}),g(q)}var x=N.find((function(e){return o[e]&&d.peekValueForExecution(e,o[e],P,b,i.id)}));if(x)m=d.peekValueForExecution(x,o[x],P,b,i.id),e({key:x,value:m});else{var C=l.entries(o).find((function(e){var t=e[0],n=e[1],r=p.isQueueInputPinConfig(n.config,n),o=d.peekValueForExecution(t,n,P,b,i.id);if(r)return l.isDefined(o)}));if(C){var k=C[0],S=C[1];m=d.peekValueForExecution(k,S,P,b,i.id),e({key:k,value:m})}}}}};V();var L=d.subscribeInputsToState(o,P,c,m,(function(e,t){x("Got input %s - value is [%o]",e,t),j(),V({key:e,value:t})}));return C.push(L),function(){n&&n(),C.forEach((function(e){return e()}))}}({part:L,inputs:M,outputs:F,repo:R,_debugger:b,insId:x,mainState:O,parentInsId:q,onError:V,onBubbleError:w,env:j});return function(){T.forEach((function(e){return e()})),$()}}},3939:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeInputsToState=t.isPartStateValid=t.hasNewSignificantValues=t.peekValuesForExecution=t.pullValuesForExecution=t.pullValueForExecution=t.peekValueForExecution=void 0;var o=n(4048),u=n(5821),s=n(6485),a=function(e,t){var n=o.extractStaticValue(e);return o.isEnvValue(n)?function(e,t){for(var n=e.split("."),i=r({},t),o=0,s=n;o<s.length;o++){var a=s[o];if(!i||!u.isDefined(i[a])||null===i[a])throw new Error("Cannot find key "+e+" inside obj "+t);i=i[a]}return i}(o.getEnvKeyFromValue(n),t):n};t.peekValueForExecution=function(e,t,n,r,u){var s=n.get(e);if(!t)throw new Error('Trying to peek value of inexsting input in key "'+e+'" in part "'+u+'"');return o.isStaticInput(t)?a(t,r):o.isQueueInputPinConfig(t.config,t)?s?i([],s).shift():void 0:s};t.pullValueForExecution=function(e,t,n,r){var i,u=n.get(e);return o.isStaticInput(t)?i=a(t,r):o.isQueueInputPinConfig(t.config,t)?(i=(u||[]).shift(),n.set(e,u)):(i=u,o.isStickyInputPinConfig(t.config)||n.delete(e)),i};t.pullValuesForExecution=function(e,n,r){return u.entries(e).reduce((function(e,i){var o=i[0],u=i[1];return e[o]=t.pullValueForExecution(o,u,n,r),e}),{})};t.peekValuesForExecution=function(e,n,r,i){return u.entries(e).reduce((function(e,o){var u=o[0],s=o[1];return e[u]=t.peekValueForExecution(u,s,n,r,i),e}),{})};t.hasNewSignificantValues=function(e,n,r,i){return u.entries(e).some((function(e){var s=e[0],a=e[1],p=o.isStaticInput(a),c=t.peekValueForExecution(s,a,n,r,i);return u.isDefined(c)&&!p}))};t.isPartStateValid=function(e,t,n,r){var i=u.keys(e),a=u.keys(n.inputs).filter((function(e){return"required"===n.inputs[e].mode}));return i.includes(s.TRIGGER_PIN_ID)&&a.push(s.TRIGGER_PIN_ID),!!u.containsAll(i,a)&&u.entries(e).filter((function(e){var t=e[0];return!!n.inputs[t]||t===s.TRIGGER_PIN_ID})).every((function(e){var r,i=e[0],s=e[1],a=t.get(i);return"optional"===((null===(r=n.inputs[i])||void 0===r?void 0:r.mode)||"required")||(!!o.isStaticInput(s)||(o.isQueueInputPinConfig(s.config,s)?u.isDefined(a)&&a.length>0:u.isDefined(a)))}))};t.subscribeInputsToState=function(e,t,n,r,i){var s=[];return u.entries(e).forEach((function(e){var n=e[0],r=e[1];if(r&&!o.isStaticInput(r)){var u=r.subject.subscribe((function(e){if(o.isQueueInputPinConfig(r.config,r)){var u=t.get(n)||[];if(!Array.isArray(u))throw new Error("impossible state - state of key "+n+" is set but not an array");u.push(e),t.set(n,u),i(n,e)}else t.set(n,e),i(n,e)}));s.push((function(){return u.unsubscribe()}))}})),function(){return s.forEach((function(e){return e()}))}}},9735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flydeFlowSchema=void 0;var r=n(9510),i=r.z.strictObject({name:r.z.string(),alias:r.z.string()}),o=r.z.union([r.z.string(),i]),u=r.z.record(r.z.string(),r.z.array(o)),s=r.z.strictObject({x:r.z.number(),y:r.z.number()}),a=r.z.object({fnCode:r.z.string(),templateType:r.z.optional(r.z.string())}),p=r.z.discriminatedUnion("mode",[r.z.strictObject({mode:r.z.literal("static"),value:r.z.any()}),r.z.strictObject({mode:r.z.literal("queue")}),r.z.strictObject({mode:r.z.literal("sticky")})]),c=r.z.object({instances:r.z.array(r.z.strictObject({partId:r.z.string(),pos:s.default({x:0,y:0}),id:r.z.string(),inputConfig:r.z.optional(r.z.record(r.z.string(),p)).default({}),visibleInputs:r.z.optional(r.z.array(r.z.string()))})),connections:r.z.array(r.z.strictObject({from:r.z.strictObject({insId:r.z.string(),pinId:r.z.string()}),to:r.z.strictObject({insId:r.z.string(),pinId:r.z.string()})}))}),d=r.z.object({id:r.z.optional(r.z.string()),inputs:r.z.record(r.z.string(),r.z.union([r.z.string(),r.z.object({mode:r.z.enum(["required","optional","required-if-connected"]),type:r.z.string()})])),outputs:r.z.record(r.z.string(),r.z.union([r.z.string(),r.z.object({type:r.z.string()})])),inputsPosition:r.z.optional(r.z.record(r.z.string(),s)),outputsPosition:r.z.optional(r.z.record(r.z.string(),s)),customViewCode:r.z.optional(r.z.string()),dataBuilderSource:r.z.optional(r.z.string()),templateType:r.z.optional(r.z.string()),completionOutputs:r.z.optional(r.z.array(r.z.string())),reactiveInputs:r.z.optional(r.z.array(r.z.string()))}).and(r.z.union([a,c]));t.flydeFlowSchema=r.z.strictObject({imports:r.z.optional(u).default({}),exports:r.z.optional(r.z.array(r.z.string())).default([]),mainId:r.z.optional(r.z.string()),main:r.z.optional(r.z.any()),parts:r.z.record(r.z.string(),d).default({}),exposedFunctionality:r.z.optional(r.z.array(r.z.strictObject({codeName:r.z.string(),displayName:r.z.string(),inputs:r.z.optional(r.z.array(r.z.string())),path:r.z.string(),line:r.z.string()}))).default([])})},8265:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectType=t.isStaticValueGroupedPart=void 0,i(n(5821),t);var o=n(4048);i(n(6485),t),i(n(385),t),i(n(4048),t),i(n(163),t),i(n(1922),t),i(n(7695),t),i(n(5281),t),i(n(5596),t),i(n(9735),t);t.isStaticValueGroupedPart=function(e){return e&&!!o.maybeGetStaticValuePartId(""+e)},function(e){e.WEB_UI="web-ui",e.SERVER="server",e.MOBILE="mobile",e.CLI="cli"}(t.ProjectType||(t.ProjectType={}))},163:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getPartWithDependencies=void 0;var i=n(4048),o=n(8265);t.getPartWithDependencies=function(e,n,u){if(void 0===u&&(u=[]),i.isCodePart(e))return[e];if(u.includes(e.id))return[];var s=o.removeDupes(e.instances.map((function(e){return e.partId})).filter((function(e){return n[e]}))),a=s.map((function(e){return n[e]})).reduce((function(e,i){return r(r([],e),t.getPartWithDependencies(i,n,r(r([],u),s)))}),[]);return r([e],a)}},4048:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getPartDef=t.getPart=t.getStaticValue=t.maybeGetStaticValuePartId=t.staticPartRefence=t.fromSimplified=t.codePart=t.nativePart=t.groupedPart=t.isCodePart=t.isGroupedPart=t.isNativePart=t.CodePartTemplateTypeInline=void 0;var u=n(5821);o(n(704),t),o(n(5089),t),o(n(4702),t),function(e){e.VALUE="value",e.FUNCTION="function"}(t.CodePartTemplateTypeInline||(t.CodePartTemplateTypeInline={}));t.isNativePart=function(e){return!t.isGroupedPart(e)};t.isGroupedPart=function(e){return!!e.instances};t.isCodePart=function(e){return u.isDefined(e)&&u.isDefined(e.fnCode)},t.groupedPart=u.testDataCreator({id:"grouped-part",inputs:{},outputs:{},instances:[],connections:[],outputsPosition:{},inputsPosition:{}}),t.nativePart=u.testDataCreator({id:"part",inputs:{},outputs:{},fn:u.noop}),t.codePart=u.testDataCreator({id:"part",inputs:{},outputs:{},fnCode:""});t.fromSimplified=function(e){var t=e.fn,n=e.inputTypes,i=e.outputTypes,o=e.id,s=u.entries(n).reduce((function(e,t){var n,i=t[0],o=t[1];return r(r({},e),((n={})[i]={type:o},n))}),{}),a=u.entries(i).reduce((function(e,t){var n,i=t[0],o=t[1];return r(r({},e),((n={})[i]={type:o},n))}),{});return{id:o,inputs:s,outputs:a,fn:t}};t.staticPartRefence=function(e){return"__part:"+e.id};t.maybeGetStaticValuePartId=function(e){var t="string"==typeof e&&e.match(/^__part\:(.*)/);return t?t[1]:null};t.getStaticValue=function(e,n,r){var i=t.maybeGetStaticValuePartId(e);if(i){var o=n[i];if(!o)throw new Error("Instance "+r+" referrer to a part reference "+i+" that does not exist");return o}return e};t.getPart=function(e,t){var n="string"==typeof e?e:e.partId,r=t[n];if(!r)throw new Error("Part with id "+n+" not found");return r};t.getPartDef=function(e,t){var n="string"==typeof e?e:e.partId,r=t[n];if(!r)throw console.error("Part with id "+n+" not found"),new Error("Part with id "+n+" not found");return r}},704:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartInstance=t.partInstance=void 0;t.partInstance=function(e,t,n,r){return{id:e,partId:"string"==typeof t?t:t.id,inputConfig:n||{},pos:r||{x:0,y:0}}};t.PartInstance=function(e,t,n,r){return{id:e,partId:t.id,inputConfig:n||{},pos:r||{x:0,y:0}}}},5089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvKeyFromValue=t.toEnvValue=t.isEnvValue=t.extractStaticValue=t.isStaticInput=t.isDynamicInput=t.staticPartInput=t.dynamicPartInputs=t.dynamicPartInput=t.dynamicOutput=t.partOutputs=t.partOutput=t.partInputs=t.isInputPinOptional=t.partInput=void 0;var r=n(6845),i=n(4048),o=n(5821),u=n(4702);t.partInput=function(e,t){return void 0===e&&(e="any"),void 0===t&&(t="required"),{type:e,mode:t}};t.isInputPinOptional=function(e){return"optional"===e.mode};t.partInputs=function(e,n){return o.repeat(e,(function(e){return t.partInput("any",n[e]||"required")}))};t.partOutput=function(e,t,n){return void 0===e&&(e="any"),void 0===t&&(t=!1),void 0===n&&(n=!1),{type:e,delayed:t,optional:n}};t.partOutputs=function(e){return o.repeat(e,(function(){return t.partOutput("any")}))};t.dynamicOutput=function(){return new r.Subject},t.dynamicPartInput=o.testDataCreator((function(){return{subject:new r.Subject,config:u.queueInputPinConfig()}}));t.dynamicPartInputs=function(e){return void 0===e&&(e=10),o.repeat(e,(function(){return o.testDataCreator((function(){return{subject:new r.Subject,config:u.queueInputPinConfig()}}))()}))};t.staticPartInput=function(e){return{config:u.staticInputPinConfig(e)}};t.isDynamicInput=function(e){var t=e;return t&&t.subject&&!!t.subject.next};t.isStaticInput=function(e){return i.isStaticInputPinConfig(e.config)};t.extractStaticValue=function(e){if(t.isStaticInput(e))return e.config.value;throw new Error("Cannot extract static value from non static arg")};t.isEnvValue=function(e){return"string"==typeof e&&e.startsWith("$ENV.")};t.toEnvValue=function(e){return"$ENV."+e};t.getEnvKeyFromValue=function(e){return"string"==typeof e?e.replace(/^\$ENV\./,""):e}},4702:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStaticInputPinConfig=t.isStickyInputPinConfig=t.isQueueInputPinConfig=t.staticInputPinConfig=t.stickyInputPinConfig=t.queueInputPinConfig=t.INPUT_MODES=void 0,t.INPUT_MODES=["queue","sticky","static"];t.queueInputPinConfig=function(){return{mode:"queue"}};t.stickyInputPinConfig=function(){return{mode:"sticky"}};t.staticInputPinConfig=function(e){return{mode:"static",value:e}};t.isQueueInputPinConfig=function(e,t){return"queue"===e.mode};t.isStickyInputPinConfig=function(e){return e&&"sticky"===e.mode};t.isStaticInputPinConfig=function(e){return e&&"static"===e.mode}},5596:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1922:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduledTrigger=t.isRestApiTrigger=t.isWebAppTrigger=void 0;t.isWebAppTrigger=function(e){return"web-app"===e.type};t.isRestApiTrigger=function(e){return"rest-api"===e.type};t.isScheduledTrigger=function(e){return"scheduled"===e.type}},3281:function(e,t,n){"use strict";n.d(t,{I:function(){return m}});var r=n(7378),i=(n(7651),n(9274)),o=n(8944),u=n(8265),s={VMScript:function(e){this.script=e},VM:function(){function e(e){this.context=e}return e.prototype.run=function(e){var t=(0,u.okeys)(this.context.sandbox),n=Object.values(this.context.sandbox);Function.apply(void 0,t.concat([e.script])).apply(void 0,n)},e}()},a=n(1884),p=n(4305),c=n(3127),d=200,l=n(1808);n(904);n.g.vm2=s;f=new Map,y=(0,c.Z)((0,p.Z)().mark((function e(t,n,r){var i,o,u;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t+"."+n+"."+r,o=f.get(i)||{total:0,lastSamples:[]},u=o.lastSamples.slice(0,d),e.abrupt("return",Object.assign({},o,{lastSamples:u}));case 4:case"end":return e.stop()}}),e)})));var y,f,m=function(e){var t=(0,r.useState)(e.defaultDelay||0),n=t[0],u=t[1];return r.createElement(i.Z,{title:e.meta.title+" | Playground",description:"Description will go into a meta tag in <head />"},r.createElement("header",{className:(0,o.Z)("hero hero--primary",l.Z.heroBanner)},r.createElement("div",{className:"container"},r.createElement("h2",{className:"hero__title"},"Flyde Playground"),r.createElement("p",{className:"hero__subtitle"},"Flyde's playground allows you to see how Flyde looks and feels like. Choose one of the examples below to get started. Feel free to play aroung with the canvas and see how your changes affect the result!"),r.createElement("ul",{className:"examples__menu"},r.createElement("li",null,r.createElement(a.Z,{to:"/playground/hello"},"Hello World")," "),r.createElement("li",null,r.createElement(a.Z,{to:"/playground/debounce-throttling"},"Debounce vs. Throttling")),r.createElement("li",null,r.createElement(a.Z,{to:"/playground/react-counter"},"React Counter")),r.createElement("li",null,r.createElement(a.Z,{to:"/playground/fibonacci"},"Fibonnaci Sequence"))))),r.createElement("div",{className:"playground-container"},r.createElement("header",null,r.createElement("h3",{className:"playground-title"},e.meta.title),r.createElement("div",{className:"playground-description"},e.meta.description),r.createElement("div",null,r.createElement("input",{type:"range",id:"volume",name:"delay",value:n,step:"100",min:"0",max:"300",onChange:function(e){return u(Number(e.target.value))}}),r.createElement("label",{htmlFor:"volume"},"Debug Delay - ",n,"ms"))),r.createElement("div",{className:"playground"},r.createElement("div",{className:"flow-container"}),r.createElement("div",{className:"output-container"},e.children))))}},6099:function(e,t,n){var r=n(3119);e.exports=function(e,t){var n=r.createElement("button",{onClick:function(e){return t.click.next(e)}},e.children);t.jsx.next(n)}},3460:function(e,t,n){var r=n(3119);e.exports=function(e,t){var n=r.createElement("span",{},e.children);t.jsx.next(n)}},4295:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7378),i=n(8265),o=n(3281),u={Main:{id:"Main",inputs:{},outputs:{result:{type:"any"}},inputsPosition:{},outputsPosition:{result:{x:-321.3338928563413,y:690.4970809936208}},completionOutputs:["result"],instances:[{partId:"Button",pos:{x:-112.55849853515622,y:264.69233886718746},id:"Button-410",inputConfig:{children:{mode:"static",value:"+ 1"}},visibleInputs:["children"]},{partId:"Span",pos:{x:-316.5079125976563,y:277.8121800231934},id:"Span-677",inputConfig:{children:{mode:"queue"}},visibleInputs:["__trigger","children"]},{partId:"Inline Code 73878",pos:{x:-434.4105419921875,y:150.16451232910157},id:"Inline Code 73878-936",inputConfig:{count:{mode:"queue"}},visibleInputs:["count"]},{partId:"ListFrom3",pos:{x:-347.506982421875,y:450.8367645263672},id:"ListFrom3-404",inputConfig:{item1:{mode:"sticky"},item3:{mode:"sticky"},item2:{mode:"queue"}}},{partId:"Button",pos:{x:-515.2419702148437,y:266.9907855224609},id:"Button-410-d44",inputConfig:{children:{mode:"static",value:"- 1"}},visibleInputs:["children"]},{partId:"Publish",pos:{x:-90.45,y:472.37},id:"Publish-107",inputConfig:{key:{mode:"static",value:"inc"},value:{mode:"static",value:1}}},{partId:"Subscribe",pos:{x:-201.807001953125,y:-187.86253479003906},id:"Subscribe-896",inputConfig:{key:{mode:"static",value:"inc"}}},{partId:"Add",pos:{x:-272.72882080078125,y:-9.603830566406259},id:"Add-138",inputConfig:{n1:{mode:"sticky"}}},{partId:"Subscribe",pos:{x:-387.2609814453125,y:-186.2929638671875},id:"Subscribe-227",inputConfig:{key:{mode:"static",value:"value"}}},{partId:"Publish",pos:{x:-541.97,y:466.84},id:"Publish-441",inputConfig:{key:{mode:"static",value:"inc"},value:{mode:"static",value:-1}}},{partId:"Publish",pos:{x:-599.5746044921875,y:-143.15812744140624},id:"Publish-817",inputConfig:{key:{mode:"static",value:"value"},value:{mode:"static",value:0}}},{partId:"Inline Code 6685",pos:{x:-429.99247314453123,y:-53.56334594726559},id:"Inline Code 6685-155",inputConfig:{}},{partId:"Publish",pos:{x:-36.03804443359377,y:138.30580078125},id:"Publish-817-d15",inputConfig:{key:{mode:"static",value:"value"},value:{mode:"queue"}},visibleInputs:["value"]}],connections:[{from:{insId:"Inline Code 73878-936",pinId:"r"},to:{insId:"Span-677",pinId:"children"}},{from:{insId:"Span-677",pinId:"jsx"},to:{insId:"ListFrom3-404",pinId:"item2"}},{from:{insId:"Button-410",pinId:"jsx"},to:{insId:"ListFrom3-404",pinId:"item3"}},{from:{insId:"Button-410-d44",pinId:"jsx"},to:{insId:"ListFrom3-404",pinId:"item1"}},{from:{insId:"ListFrom3-404",pinId:"list"},to:{insId:"__this",pinId:"result"}},{from:{insId:"Button-410",pinId:"click"},to:{insId:"Publish-107",pinId:"__trigger"}},{from:{insId:"Subscribe-896",pinId:"val"},to:{insId:"Add-138",pinId:"n2"}},{from:{insId:"Button-410-d44",pinId:"click"},to:{insId:"Publish-441",pinId:"__trigger"}},{from:{insId:"Subscribe-227",pinId:"val"},to:{insId:"Add-138",pinId:"n1"}},{from:{insId:"Add-138",pinId:"r"},to:{insId:"Inline Code 73878-936",pinId:"count"}},{from:{insId:"Inline Code 6685-155",pinId:"r"},to:{insId:"Inline Code 73878-936",pinId:"count"}},{from:{insId:"Add-138",pinId:"r"},to:{insId:"Publish-817-d15",pinId:"value"}}]},Button:{id:"Button",inputs:{children:{mode:"required-if-connected",type:"any"}},outputs:{jsx:{type:"any"},click:{type:"any"}},completionOutputs:["jsx"],fn:n(6099)},Span:{id:"Span",inputs:{children:{mode:"required",type:"any"}},outputs:{jsx:{type:"any"}},fn:n(3460)},"Inline Code 73878":{id:"Inline Code 73878",inputs:{count:{mode:"required",type:"any"}},outputs:{r:{type:"any"}},customViewCode:"`Value is ${inputs.count}`",dataBuilderSource:"YFZhbHVlIGlzICR7aW5wdXRzLmNvdW50fWA=",templateType:"value",completionOutputs:["r"],fnCode:"outputs.r.next((`Value is ${inputs.count}`))"},"Inline Code 33269":{id:"Inline Code 33269",inputs:{},outputs:{r:{type:"any"}},customViewCode:"",dataBuilderSource:"",templateType:"value",completionOutputs:["r"],fnCode:"outputs.r.next(())"},"Inline Code 6685":{id:"Inline Code 6685",inputs:{},outputs:{r:{type:"any"}},customViewCode:"0",dataBuilderSource:"MA==",templateType:"value",completionOutputs:["r"],fnCode:"outputs.r.next((0))"},"Inline Code 70187":{id:"Inline Code 70187",inputs:{},outputs:{r:{type:"any"}},customViewCode:"",dataBuilderSource:"",templateType:"value",completionOutputs:["r"],fnCode:"outputs.r.next(())"},HtmlSpan:{id:"HtmlSpan",inputs:{children:{mode:"optional",type:"any"},className:{mode:"required",type:"any"},style:{mode:"optional",type:"any"},extra:{mode:"required",type:"any"},id:{mode:"required",type:"any"}},outputs:{jsx:{type:"any"},click:{type:"any"}},inputsPosition:{children:{x:427.3633539266118,y:18.715560526434157},className:{x:79.49840810022538,y:-190.6116525494369},style:{x:-115.72005229266348,y:-241.4589222372525},extra:{x:250.068522112266,y:-182.374320409234},id:{x:-248.71519834765635,y:-202.88061148563915}},outputsPosition:{jsx:{x:-150.11084357782397,y:424.0177174689956},click:{x:178.6462610269776,y:423.83950155636643},style:{x:1.46,y:-24.05}},instances:[{partId:"HtmlSpan__HtmlTag",pos:{x:-145.77105590820312,y:179.20621673583986},id:"HtmlTag-344",inputConfig:{tagName:{mode:"static",value:"span"},children:{mode:"sticky"}}}],connections:[{from:{insId:"HtmlTag-344",pinId:"jsx"},to:{insId:"__this",pinId:"jsx"}},{from:{insId:"__this",pinId:"style"},to:{insId:"HtmlTag-344",pinId:"style"}},{from:{insId:"__this",pinId:"className"},to:{insId:"HtmlTag-344",pinId:"className"}},{from:{insId:"__this",pinId:"children"},to:{insId:"HtmlTag-344",pinId:"children"}},{from:{insId:"__this",pinId:"extra"},to:{insId:"HtmlTag-344",pinId:"extra"}},{from:{insId:"__this",pinId:"id"},to:{insId:"HtmlTag-344",pinId:"id"}},{from:{insId:"HtmlTag-344",pinId:"click"},to:{insId:"__this",pinId:"click"}}]},HtmlSpan__HtmlTag:{id:"HtmlSpan__HtmlTag",inputs:{id:{mode:"required-if-connected",type:"any"},style:{mode:"required-if-connected",type:"any"},className:{mode:"required-if-connected",type:"any"},tagName:{mode:"required",type:"any"},extra:{mode:"required-if-connected",type:"any"},children:{mode:"required-if-connected",type:"any"}},outputs:{jsx:{type:"any"},click:{type:"any"}},fnCode:"// magic here\nconst props = {\n    className: inputs.className,\n    id: inputs.id,\n    style: inputs.style\n}\n\nconst onClick = outputs.click ? (e) => outputs.click.next(e) : undefined;\nconst comp = React.createElement(inputs.tagName, {\n    ...props,\n    ...(inputs.extra || {}),\n    onClick\n}, inputs.children);\n\noutputs.jsx.next(comp);"},ListFrom3:{id:"ListFrom3",inputs:{item1:{mode:"required",type:"any"},item2:{mode:"required",type:"any"},item3:{mode:"required",type:"any"}},outputs:{list:{type:"any"}},completionOutputs:["list"],fnCode:"// magic here\noutputs.list.next(\n    [\n        inputs.item1,\n        inputs.item2,\n        inputs.item3\n    ]\n);"},ListFrom2:{id:"ListFrom2",inputs:{item1:{mode:"required",type:"any"},item2:{mode:"required",type:"any"}},outputs:{list:{type:"any"}},completionOutputs:["list"],fnCode:"// magic here\noutputs.list.next(\n    [\n        inputs.item1,\n        inputs.item2\n    ]\n);"},SpreadList3:{id:"SpreadList3",inputs:{list:{mode:"required",type:"any"}},outputs:{first:{type:"any"},second:{type:"any"},third:{type:"any"}},inputsPosition:{list:{x:326.68066376398093,y:7.352935664945553}},outputsPosition:{first:{x:100,y:400},second:{x:300,y:400},third:{x:500,y:400},rest:{x:726.2604947250959,y:383.1932748030569}},instances:[{partId:"SpreadList3__GetListItem",pos:{x:65.52127563476563,y:153.09548217773437},id:"GetListItem-877",inputConfig:{idx:{mode:"static",value:0}}},{partId:"SpreadList3__GetListItem",pos:{x:267.9924060058594,y:186.69313079833984},id:"GetListItem-877-d285",inputConfig:{idx:{mode:"static",value:1}}},{partId:"SpreadList3__GetListItem",pos:{x:431.89740478515625,y:176.2309420776367},id:"GetListItem-877-d285-d900",inputConfig:{idx:{mode:"static",value:2}}}],connections:[{from:{insId:"__this",pinId:"list"},to:{insId:"GetListItem-877",pinId:"list"}},{from:{insId:"GetListItem-877",pinId:"r"},to:{insId:"__this",pinId:"first"}},{from:{insId:"__this",pinId:"list"},to:{insId:"GetListItem-877-d285",pinId:"list"}},{from:{insId:"GetListItem-877-d285",pinId:"r"},to:{insId:"__this",pinId:"second"}},{from:{insId:"GetListItem-877-d285-d900",pinId:"r"},to:{insId:"__this",pinId:"third"}},{from:{insId:"__this",pinId:"list"},to:{insId:"GetListItem-877-d285-d900",pinId:"list"}}]},SpreadList3__GetListItem:{id:"SpreadList3__GetListItem",inputs:{list:{mode:"required",type:"any"},idx:{mode:"required",type:"any"}},outputs:{r:{type:"any"}},completionOutputs:["r"],fnCode:"// magic here\noutputs.r.next(inputs.list[inputs.idx]);"},SetState:{id:"SetState",inputs:{key:{mode:"required",type:"any"},value:{mode:"required",type:"any"}},outputs:{r:{type:"any"}},fnCode:"const {state} = adv;\nconst {key, value} = inputs;\n\nstate.set(key, value);\noutputs.r.next(value);\n\n"},"Boolean Split":{id:"Boolean Split",inputs:{val:{mode:"required",type:"any"}},outputs:{true:{type:"any"},false:{type:"any"}},inputsPosition:{val:{x:-53.899108855416266,y:-19.49542241235728}},outputsPosition:{true:{x:-107.53062440952482,y:361.3771973987992},false:{x:75.17321928763755,y:350.95064554922453}},instances:[{partId:"Boolean Split__Equals",pos:{x:-55.038107910156256,y:123.8628857421875},id:"Equals-530",inputConfig:{compare:{mode:"static",value:!0}}}],connections:[{from:{insId:"__this",pinId:"val"},to:{insId:"Equals-530",pinId:"val"}},{from:{insId:"Equals-530",pinId:"r"},to:{insId:"__this",pinId:"true"}},{from:{insId:"Equals-530",pinId:"else"},to:{insId:"__this",pinId:"false"}}]},"Boolean Split__Equals":{id:"Boolean Split__Equals",inputs:{val:{mode:"required",type:"any"},compare:{mode:"required",type:"any"},transform:{mode:"required-if-connected",type:"any"}},outputs:{r:{type:"any"},else:{type:"any"}},customViewCode:"<% if (isDefined(inputs.compare)) { %>Equals <%- inputs.compare %> <% } else { %> Equals <% } %>",completionOutputs:["r","else"],fnCode:"const { val, compare, transform } = inputs;\nconst { r } = outputs;\n\nconst valueToPush = isDefined(transform) ? transform : val;\n        \n// magic here\nif (val === compare) {\n    r.next(valueToPush);\n}  else {\n    outputs['else'].next(valueToPush);\n}"},Publish:{id:"Publish",inputs:{key:{mode:"required",type:"any"},value:{mode:"required",type:"any"}},outputs:{},fnCode:"// magic here\n\nPubSub.publish(inputs.key, inputs.value);"},Subscribe:{id:"Subscribe",inputs:{key:{mode:"required",type:"any"}},outputs:{val:{type:"any"}},completionOutputs:["never"],fnCode:"// magic here\nconst token = PubSub.subscribe(inputs.key, (_, data) => {\n    outputs.val.next(data);\n});\n\nadv.onCleanup(() => {\n    log('Unsubscribing!');\n    PubSub.unsubscribe(token);\n});"},Add:{id:"Add",inputs:{n1:{mode:"required",type:"any"},n2:{mode:"required",type:"any"}},outputs:{r:{type:"any"}},customViewCode:'<%= isDefined(inputs.n1) ? inputs.n1 : "n1" %> + <%= isDefined(inputs.n2) ? inputs.n2 : "n2" %>',completionOutputs:["r"],fnCode:"const {n1, n2} = inputs;\nconst {r} = outputs;\n\nlog({n1, n2})\nr.next( n1 + n2 );"}},s={title:"React Counter Example",description:"In this example the output JSX is rendered into an element",key:"react-counter"};function a(){var e,t,n=(0,r.useState)(r.createElement("div",null,"Loading")),a=n[0],p=n[1],c=(0,r.useRef)((e=function(e){return p(e)},(t=(0,i.dynamicOutput)()).subscribe(e),t)),d=(0,r.useRef)({}),l=(0,r.useState)({flow:{imports:{},exports:[],parts:u},resolvedFlow:u,inputs:d.current,output:c.current}),y=l[0];l[1];return r.createElement(o.I,{meta:s,flowProps:y},r.createElement("div",{className:"output-container"},r.createElement("div",null,r.createElement("h3",null,"Result"),r.createElement("div",null,a))))}},1808:function(e,t){"use strict";t.Z={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN","project-editor":"project-editor_XBpx"}},904:function(e){"use strict";e.exports=JSON.parse('{"Accumulate":{"id":"Accumulate","inputs":{"count":{"mode":"required","type":"any"},"val":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"reactiveInputs":["val"],"fnCode":"const {count, val} = inputs;\\nconst {r} = outputs;\\n\\nconst {state} = adv;\\n\\nlet list = state.get(\\"list\\") || [];\\n\\nif (count !== state.get(\\"count\\")) {\\n    list = [];\\n    state.set(\\"count\\", count);\\n}\\n\\nif (isDefined(val)) {\\n    list.push(val);\\n}\\n\\n\\nstate.set(\\"list\\", list);\\n\\nif (list.length === state.get(\\"count\\")) {\\n    r.next(list);\\n}"},"AccumulateSome":{"id":"AccumulateSome","inputs":{"count":{"mode":"required","type":"any"},"allow":{"mode":"optional","type":"any"},"filter":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"reactiveInputs":["allow","filter"],"fnCode":"const {count, allow, filter} = inputs;\\nconst {r} = outputs;\\n\\nconst {state} = adv;\\n\\nlet allowedList = state.get(\\"allowed-list\\") || [];\\nlet filterList = state.get(\\"filter-list\\") || [];\\n\\nif (count !== state.get(\\"count\\")) {\\n    state.set(\\"count\\", count);\\n}\\n\\nif (isDefined(allow)) {\\n    allowedList.push(allow);\\n}\\n\\nif (isDefined(filter)) {\\n    filterList.push(filter);\\n}\\n\\nstate.set(\\"allowed-list\\", allowedList);\\nstate.set(\\"filter-list\\", filterList);\\n\\nif (allowedList.length + filterList.length === state.get(\\"count\\")) {\\n    r.next(allowedList);\\n}\\n"},"AccumulateUntil":{"id":"AccumulateUntil","inputs":{"item":{"mode":"optional","type":"any"},"until":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"reactiveInputs":["item","until"],"fnCode":"// magic here\\nconst {item, until} = inputs;\\nconst {r} = outputs;\\nconst {state} = adv;\\n\\nlet list = state.get(\\"list\\") || [];\\n\\n    if (isDefined(item)) {\\n      list.push(item);\\n      state.set(\\"list\\", list);\\n    }\\n\\n    if (isDefined(until)) {\\n      r.next(list);\\n    }"},"AccumulateUntilTime":{"id":"AccumulateUntilTime","inputs":{"time":{"mode":"required","type":"any"},"item":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"reactiveInputs":["item"],"fnCode":"const {item, time} = inputs;\\nconst {r} = outputs;\\nconst {state} = adv;\\n\\n\\nlet list = state.get(\\"list\\") || [];\\nif (isDefined(item)) {\\n  list.push(item);\\n  state.set(\\"list\\", list);\\n\\n  const timer = state.get(\\"timer\\");\\n  \\n  if (timer) {\\n    clearTimeout(timer);\\n  } \\n  \\n  const newTimer = setTimeout(() => {\\n      r.next(state.get(\\"list\\") || []);\\n  }, time);\\n  \\n  state.set(\\"timer\\", newTimer)\\n}\\n\\n\\n"},"Add":{"id":"Add","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const {n1, n2} = inputs;\\nconst {r} = outputs;\\n\\nlog({n1, n2})\\nr.next( n1 + n2 );"},"CollectionCountDocuments":{"id":"CollectionCountDocuments","inputs":{"options":{"mode":"optional","type":"any"},"collectionName":{"mode":"required","type":"any"},"filter":{"mode":"required","type":"any"},"":{"mode":"optional","type":"any"}},"outputs":{"count":{"type":"any"}},"completionOutputs":["count"],"fnCode":"// magic here\\nmongoDb\\n    .collection(inputs.collectionName)\\n    .countDocuments(inputs.filter, inputs.options)\\n    .then((count) => {\\n        outputs.count.next(count);\\n    });"},"CollectionDeleteOne":{"id":"CollectionDeleteOne","inputs":{"collectionName":{"mode":"required","type":"any"},"filter":{"mode":"required","type":"any"},"options":{"mode":"optional","type":"any"}},"outputs":{"result":{"type":"any"}},"completionOutputs":["result"],"fnCode":"mongoDb.collection(inputs.collectionName)\\n    .deleteOne(inputs.filter, inputs.options)\\n    .then(res => {\\n        outputs.result.next(res);\\n    })\\n    .catch((e) => adv.onError(e));"},"CollectionFind":{"id":"CollectionFind","inputs":{"options":{"mode":"optional","type":"any"},"collectionName":{"mode":"required","type":"any"},"filter":{"mode":"required","type":"any"}},"outputs":{"items":{"type":"any"}},"completionOutputs":["items"],"fnCode":"// magic here\\nmongoDb\\n    .collection(inputs.collectionName)\\n    .find(inputs.filter, inputs.options)\\n    .toArray()\\n    .then((doc) => {\\n        outputs.items.next(doc);\\n    })\\n    .catch((e) => adv.onError(e))"},"CollectionFindOne":{"id":"CollectionFindOne","inputs":{"collectionName":{"mode":"required","type":"any"},"filter":{"mode":"required","type":"any"},"options":{"mode":"optional","type":"any"}},"outputs":{"item":{"type":"any"}},"completionOutputs":["item"],"fnCode":"mongoDb.collection(inputs.collectionName)\\n    .findOne(inputs.filter, inputs.options)\\n    .then(res => {\\n        if (res === null) {\\n            adv.onError(new Error(\'not found\'));\\n        } else {\\n            outputs.item.next(res);\\n        }\\n    })\\n    .catch((e) => adv.onError(e));"},"CollectionFindOneAndUpdate":{"id":"CollectionFindOneAndUpdate","inputs":{"options":{"mode":"optional","type":"any"},"collectionName":{"mode":"required","type":"any"},"filter":{"mode":"required","type":"any"},"update":{"mode":"required","type":"any"}},"outputs":{"updatedItem":{"type":"any"}},"completionOutputs":["updatedItem"],"fnCode":"// magic here\\nconst options = inputs.options || {returnDocument: \'after\'};\\nmongoDb\\n    .collection(inputs.collectionName)\\n    .findOneAndUpdate(inputs.filter, inputs.update, options)\\n    .then((doc) => {\\n        outputs.updatedItem.next(doc);\\n    });"},"CollectionInsertOne":{"id":"CollectionInsertOne","inputs":{"collectionName":{"mode":"required","type":"any"},"item":{"mode":"required","type":"any"}},"outputs":{"success":{"type":"any"}},"completionOutputs":["success"],"fnCode":"// magic here\\nmongoDb.collection(inputs.collectionName)\\n    .insertOne(inputs.item)\\n    .then(res => outputs.success.next({...inputs.item, _id: res.insertedId}))\\n    .catch((e) => adv.onError(e));\\n"},"concat":{"id":"concat","inputs":{"a":{"mode":"required","type":"any"},"b":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"object"}},"completionOutputs":["r"],"fnCode":"\\n          let val = \'\\"${a}${b}\\"\';\\n\\n          Object.keys(inputs).forEach((key) => {\\n\\n            const _inpVal = inputs[key]; \\n            const inpVal = typeof _inpVal === \'object\' ? JSON.stringify(_inpVal) : _inpVal;\\n\\n            val = val\\n              .replace(\'${\' + key + \'}\', inpVal)\\n              .replace(\'${\' + key + \'}\', inpVal)\\n              .replace(\'${\' + key + \'}\', inpVal) // todo - support more than 3 instances in a nicer way\\n          })\\n          outputs.r.next(JSON.parse(val));"},"Cuid":{"id":"Cuid","inputs":{"trigger":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\noutputs.r.next(cuid());"},"DbCount":{"id":"DbCount","inputs":{"query":{"mode":"required","type":"any"}},"outputs":{"count":{"type":"any"}},"completionOutputs":["count"],"fnCode":"// magic here\\nconst {query} = inputs;\\n\\nconst {onError} = adv;\\n\\ndb.count(query)\\n    .then(d => outputs.count.next(d))\\n    .catch(err => {\\n        onError(err);\\n    });\\n"},"DbFind":{"id":"DbFind","inputs":{"query":{"mode":"required","type":"any"},"sort":{"mode":"required-if-connected","type":"any"},"limit":{"mode":"required-if-connected","type":"any"},"skip":{"mode":"required-if-connected","type":"any"}},"outputs":{"res":{"type":"any"},"err":{"type":"any"}},"fnCode":"// magic here\\nconst {query, sort, limit, skip} = inputs;\\ndb.find(query, sort || {}, Math.min(limit, 1000), {}, skip)\\n    .then(d => outputs.res.next(d))\\n    .catch(err => outputs.err.next(err.toString()));\\n"},"DbFindOne":{"id":"DbFindOne","inputs":{"query":{"mode":"required","type":"any"}},"outputs":{"res":{"type":"any"}},"completionOutputs":["res"],"fnCode":"// magic here\\ndb.findOne(inputs.query)\\n    .then((doc) => {\\n        if (isDefined(doc)) {\\n            outputs.res.next(doc)\\n        } else {\\n            adv.onError(\'Not found\');\\n        }\\n    })\\n    .catch((err) => adv.onError(err))"},"DbInsert":{"id":"DbInsert","inputs":{"doc":{"mode":"required","type":"any"}},"outputs":{"ok":{"type":"any"},"err":{"type":"any"}},"fnCode":"// magic here\\nlog(\'Going to insert doc\')\\nconst {onError} = adv;\\n\\ndb.insert(inputs.doc)\\n    .then((doc) => {\\n        log(\'Inserted doc\')\\n        outputs.ok.next(doc)\\n    }, (err) => {\\n        log(\'Failed to insert doc\')\\n        outputs.err.next(err);\\n        onError(err);\\n    });\\n"},"DbRemove":{"id":"DbRemove","inputs":{"query":{"mode":"required","type":"any"},"options":{"mode":"required-if-connected","type":"any"}},"outputs":{"ok":{"type":"any"},"err":{"type":"any"}},"fnCode":"// magic here\\nconst {query, options} = inputs;\\nconst {onError} = adv;\\n\\ndb.remove(query, isDefined(options) ? options : {})\\n.then((num) => outputs.ok.next(num))\\n.catch((err) => {\\n    outputs.err.next(err)\\n    onError(err);\\n});\\n\\n"},"DbUpdate":{"id":"DbUpdate","inputs":{"query":{"mode":"required","type":"any"},"update":{"mode":"required","type":"any"},"options":{"mode":"optional","type":"any"}},"outputs":{"ok":{"type":"any"},"err":{"type":"any"}},"fnCode":"// magic here\\nconst {query, update, options} = inputs;\\nconst {ok, err} = outputs;\\ndb.update(query, update, options)\\n    .then((doc) => ok.next(doc))\\n    .catch((e) => err.next(e));"},"Debounce":{"id":"Debounce","inputs":{"i":{"mode":"required","type":"any"},"ms":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"customViewCode":"","completionOutputs":["r"],"reactiveInputs":["i"],"fnCode":"const { i, ms } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nconst timer = adv.state.get(\\"timer\\");\\n  if (timer) {\\n    clearTimeout(timer);\\n  }\\n\\n  const newTimer = setTimeout(() => {\\n    r.next(i);\\n  }, ms);\\n\\n  adv.state.set(\\"timer\\", newTimer);\\n\\n  adv.onCleanup(() => {\\n    clearTimeout(timer);\\n  })"},"Delay":{"id":"Delay","inputs":{"value":{"mode":"required","type":"any"},"ms":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"customViewCode":"","completionOutputs":["r"],"fnCode":"// magic here\\nconst {value, ms} = inputs;\\n const timer = setTimeout(() => {\\n    outputs.r.next(value);\\n}, ms);\\n\\nadv.onCleanup(() => clearTimeout(timer));"},"Delay2":{"id":"Delay2","inputs":{"value":{"mode":"required","type":"any"},"ms":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"customViewCode":"","completionOutputs":["r"],"fnCode":"// magic here\\nconst {value, ms} = inputs;\\n const timer = setTimeout(() => {\\n    outputs.r.next(value);\\n}, ms);\\n\\nadv.onCleanup(() => clearTimeout(timer));"},"Divide":{"id":"Divide","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"},"divByZero":{"type":"any"}},"fnCode":"const { n1, n2 } = inputs;\\nconst { r, divByZero } = outputs;\\n      \\nif (n2 === 0) {\\n      divByZero.next(n1);\\n} else {\\n      r.next(n1 / n2);\\n}\\n      "},"Dot":{"id":"Dot","inputs":{"obj":{"mode":"required","type":"any"},"key":{"mode":"required","type":"any"}},"outputs":{"value":{"type":"any"}},"customViewCode":"<% if (inputs.key) { %> .<%- inputs.key %> <% } else { %> Dot <% } %>","completionOutputs":["value"],"fnCode":"const { obj, key } = inputs;\\nconst { value } = outputs;\\n\\n// magic here\\n\\nlet hadError = false;\\n\\nconst matches = {};\\n\\nconst normalized = key.replace(/\\\\[\\"(([^\\"])+)\\"\\\\]/g, (match, p1, p2, offset) => {\\n  const key = `__$$KEY$$__${offset}`;\\n  matches[key] = p1;\\n  return `.${key}`;\\n});\\n\\nconst path = normalized.split(\\".\\");\\nlet o = { ...obj };\\nfor (let p of path) {\\n  const key = matches[p] || p;\\n  if (o && isDefined(o[key]) && o[key] !== null) {\\n    o = o[key];\\n  } else {\\n    value.next(null);\\n    hadError = true;\\n  }\\n}\\n\\nif (!hadError) {\\n  value.next(o);\\n}\\n"},"EachMs":{"id":"EachMs","inputs":{"ms":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["never"],"fnCode":"const { ms } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nconst s = setInterval(() => {\\n    r.next();\\n}, ms);\\n\\nadv.onCleanup(() => {\\n    clearInterval(s);\\n})        "},"EmptyList":{"id":"EmptyList","inputs":{},"outputs":{"list":{"type":"any"}},"completionOutputs":["list"],"fnCode":"// magic here\\noutputs.list.next(\\n    []\\n);"},"EmptyObject":{"id":"EmptyObject","inputs":{},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const {  } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next({});"},"epochToString":{"id":"epochToString","inputs":{"epoch":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\n\\nconst d = new Date(inputs.epoch);\\noutputs.r.next(d.toLocaleString());"},"Equals":{"id":"Equals","inputs":{"val":{"mode":"required","type":"any"},"compare":{"mode":"required","type":"any"},"transform":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"},"else":{"type":"any"}},"customViewCode":"<% if (inputs.compare) { %>Equals <%- inputs.compare %> <% } else { %> Equals <% } %>","completionOutputs":["r","else"],"fnCode":"const { val, compare, transform } = inputs;\\nconst { r } = outputs;\\n\\nconst valueToPush = isDefined(transform) ? transform : val;\\n        \\n// magic here\\nif (val === compare) {\\n    r.next(valueToPush);\\n}  else {\\n    outputs[\'else\'].next(valueToPush);\\n}"},"FirstSecondOnlyRest":{"id":"FirstSecondOnlyRest","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"i0":{"type":"any"},"i1":{"type":"any"},"rest":{"type":"any"}},"fnCode":"const { list } = inputs;\\nconst { i0, i1, rest } = outputs;\\n      \\nconst [_i0, _i1, ...r] = list;\\n\\n[i0, i1].forEach((o, idx) => {\\n    if (typeof list[idx] !== \'undefined\') {\\n        o.next(list[idx]);\\n    }\\n});\\n\\nr.length && rest.next(r)\\n      "},"FirstSecondRest":{"id":"FirstSecondRest","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"i0":{"type":"any"},"i1":{"type":"any"},"i2":{"type":"any"},"i3":{"type":"any"},"i4":{"type":"any"},"rest":{"type":"any"}},"fnCode":"const { list } = inputs;\\nconst { i0, i1, i2, i3, i4, rest } = outputs;\\n      \\nconst [_i0, _i1, _i2, _i3, _i4, _i5, ...r] = list;\\n\\n[i0, i1, i2, i3, i4].forEach((o, idx) => {\\n    if (typeof list[idx] !== \'undefined\') {\\n        o.next(list[idx]);\\n    }\\n});\\n\\nr.length && rest.next(r)\\n      "},"FlattenArray":{"id":"FlattenArray","inputs":{"arrayOfArrays":{"mode":"required","type":"any"},"depth":{"mode":"required-if-connected","type":"any"}},"outputs":{"array":{"type":"any"}},"completionOutputs":["array"],"fnCode":"// magic here\\n\\nconst flattened = inputs.arrayOfArrays.flat(inputs.depth || 1);\\noutputs.array.next(flattened);"},"Floor":{"id":"Floor","inputs":{"n":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { n } = inputs;\\nconst { r } = outputs;\\n      \\nr.next(Math.floor(n));\\n      "},"FormatMessage":{"id":"FormatMessage","inputs":{"template":{"mode":"required","type":"any"},"var1":{"mode":"required","type":"any"},"var2":{"mode":"required-if-connected","type":"any"},"var3":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { template, var1, var2, var3 } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\n const replaced = template\\n    .replace(\\"$VAL3\\", var3)\\n    .replace(\\"$VAL2\\", var2)\\n    .replace(\\"$VAL\\", var1)\\n    .replace(\\"$VAR3\\", var3)\\n    .replace(\\"$VAR2\\", var2)\\n    .replace(\\"$VAR\\", var1);\\nr.next(replaced);"},"FormatModel":{"id":"FormatModel","inputs":{"template":{"mode":"required","type":"any"},"model":{"mode":"required","type":"any"},"model2":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { template, model, model2 } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nconst combined = { ...model, ...(model2 || {}) };\\n  const find = (_, key) => {\\n    const path = key.split(\\".\\");\\n    let o = { ...combined };\\n    for (let p of path) {\\n      if (o && o[p]) {\\n        o = o[p];\\n      } else {\\n        return key;\\n      }\\n    }\\n    return o;\\n  };\\n\\nconst replaced = template\\n  .replace(/\\\\$\\\\{([a-zA-Z \\\\d\\\\.]*)\\\\}/g, find)\\n  .replace(/<%=([a-zA-Z \\\\d\\\\.]*)%>/g, find);\\n\\nr.next(replaced);"},"GetItem":{"id":"GetItem","inputs":{"key":{"mode":"required","type":"any"},"defaultValue":{"mode":"required-if-connected","type":"any"}},"outputs":{"ok":{"type":"any"}},"completionOutputs":["ok"],"fnCode":"// magic here\\nconst {ok, err} = outputs;\\nconst {key, defaultValue} = inputs;\\nconst {onError} = adv;\\n\\nmongoDb.collection(\'__KVStore\').findOne({id: key})\\n    .then((doc) => {\\n        if (doc === null) {\\n            if (isDefined(defaultValue)) {\\n                ok.next(defaultValue);\\n            } else {\\n                onError(new Error(\'Key not found and no default value\'));\\n            }\\n        } else {\\n            ok.next(doc.value);\\n        }\\n    })\\n    .catch((e) => {\\n        onError(e);\\n    });"},"GetListItem":{"id":"GetListItem","inputs":{"list":{"mode":"required","type":"any"},"idx":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\noutputs.r.next(inputs.list[inputs.idx]);"},"GetState":{"id":"GetState","inputs":{"key":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"},"err":{"type":"any"}},"fnCode":"const {state} = adv;\\nconst {key} = inputs;\\nconst {r, err} = outputs;\\n\\nconst val = state.get(key);\\nif (isDefined(val)) {\\n    r.next(val);\\n} else {\\n    err.next(key);\\n}\\n"},"HeadCSS":{"id":"HeadCSS","inputs":{"css":{"mode":"required","type":"any"},"key":{"mode":"optional","type":"any"}},"outputs":{},"fnCode":"try {\\n    const document = getDocument();\\n    const normKey = inputs.key || \\"default-css\\";\\n    const tag = document.createElement(\\"style\\");\\n    tag.innerHTML = inputs.css;\\n    tag.id = normKey;\\n    \\n    const existing = document.getElementById(normKey);\\n    if (existing) {\\n      existing.remove();\\n    }\\n    document.head.appendChild(tag);\\n} catch (e) {\\n    log(`Unable to run head css part`, e);\\n}"},"HtmlTag":{"id":"HtmlTag","inputs":{"id":{"mode":"required-if-connected","type":"any"},"style":{"mode":"required-if-connected","type":"any"},"className":{"mode":"required-if-connected","type":"any"},"tagName":{"mode":"required","type":"any"},"extra":{"mode":"required-if-connected","type":"any"},"children":{"mode":"required-if-connected","type":"any"}},"outputs":{"jsx":{"type":"any"},"click":{"type":"any"}},"fnCode":"// magic here\\nconst props = {\\n    className: inputs.className,\\n    id: inputs.id,\\n    style: inputs.style\\n}\\n\\nconst onClick = outputs.click ? (e) => outputs.click.next(e) : undefined;\\nconst comp = React.createElement(inputs.tagName, {\\n    ...props,\\n    ...(inputs.extra || {}),\\n    onClick\\n}, inputs.children);\\n\\noutputs.jsx.next(comp);"},"HtmlValueTag":{"id":"HtmlValueTag","inputs":{"id":{"mode":"required-if-connected","type":"any"},"style":{"mode":"required-if-connected","type":"any"},"className":{"mode":"required-if-connected","type":"any"},"tagName":{"mode":"required","type":"any"},"extra":{"mode":"required-if-connected","type":"any"},"children":{"mode":"required-if-connected","type":"any"},"value":{"mode":"required-if-connected","type":"any"},"placeholder":{"mode":"required-if-connected","type":"any"}},"outputs":{"jsx":{"type":"any"},"click":{"type":"any"},"change":{"type":"any"}},"fnCode":"// magic here\\nconst props = {\\n    className: inputs.className,\\n    id: inputs.id,\\n    style: inputs.style\\n}\\n\\nconst onClick = outputs.click ? (e) => outputs.click.next(e) : undefined;\\nconst onChange = outputs.change ? (e) => outputs.change.next(e.target.value) : undefined;\\nconst comp = React.createElement(inputs.tagName, {\\n    ...props,\\n    ...(inputs.extra || {}),\\n    onClick,\\n    onChange\\n}, inputs.children);\\n\\noutputs.jsx.next(comp);"},"HttpGet":{"id":"HttpGet","inputs":{"url":{"mode":"required","type":"any"},"headers":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { url, headers } = inputs;\\nconst { r, error } = outputs;\\n\\nconst {onError} = adv;\\n        \\n// magic here\\naxios.get(url, { headers, timeout: DEFAULT_AXIOS_TIMEOUT }).then((res) => {\\n    r.next(res.data);\\n}, (err) => {\\n    onError(err);\\n});"},"HttpPost":{"id":"HttpPost","inputs":{"url":{"mode":"required","type":"any"},"body":{"mode":"required","type":"any"},"headers":{"mode":"required-if-connected","type":"any"},"bodyType":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"},"e":{"type":"any"}},"fnCode":"const { url, body, headers, bodyType } = inputs;\\nconst { r, e } = outputs;\\n\\nconst {onError} = adv;\\n\\nconst config = {\\n    headers,\\n    timeout: DEFAULT_AXIOS_TIMEOUT\\n}\\n        \\n// magic here\\nif (bodyType === \\"form\\") {\\n    const parts = [];\\n    Object.keys(body).forEach((key) => {\\n      parts.push(`${key}=${encodeURIComponent(body[key])}`);\\n    });\\n    axios.post(url, parts.join(\\"&\\"), config).then(\\n      (res) => {\\n        r.next(res.data);\\n      },\\n      (err) => {\\n        const {response, message} = err;\\n        const errorObj = response ? {data:response.data, status: response.status} : {data: message, status: -1};\\n        e.next(errorObj)\\n        onError(errorObj);\\n      }\\n    );\\n  } else {\\n    axios.post(url, body, config).then(\\n      (res) => {\\n        r.next(res.data);\\n      },\\n      (err) => {\\n        const {response, message} = err;\\n        const errorObj = response ? {data:response.data, status: response.status} : {data: message, status: -1};\\n        e.next(errorObj)\\n        onError(errorObj);\\n      }\\n    );\\n  }"},"HttpRequest":{"id":"HttpRequest","inputs":{"url":{"mode":"required","type":"any"},"method":{"mode":"required","type":"any"},"headers":{"mode":"required-if-connected","type":"any"},"data":{"mode":"required-if-connected","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { url, headers, method, data } = inputs;\\nconst { r } = outputs;\\n\\nconst {onError} = adv;\\n        \\n// magic here\\naxios({ url, method, data, headers, timeout: DEFAULT_AXIOS_TIMEOUT }).then((res) => {\\n    r.next(res.data);\\n}, (err) => {\\n    onError(err);\\n});"},"Id":{"id":"Id","inputs":{"v":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"object"}},"customViewCode":"","completionOutputs":["r"],"fnCode":"outputs.r.next(inputs.v)"},"IndexOf":{"id":"IndexOf","inputs":{"str":{"mode":"required","type":"any"},"char":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"},"notFound":{"type":"any"}},"fnCode":"const { str, char } = inputs;\\nconst { r, notFound } = outputs;\\n        \\n// magic here\\nconst i = str.indexOf(char);\\nif (i !== -1) {\\n    r.next(str.indexOf(char));\\n} else {\\n    notFound.next(str);\\n}  "},"IsEmpty":{"id":"IsEmpty","inputs":{"str":{"mode":"required","type":"any"}},"outputs":{"true":{"type":"any"},"false":{"type":"any"}},"fnCode":"const { str } = inputs;\\n        \\n// magic here\\nif (str === \\"\\") {\\n    outputs.true.next(str);\\n} else {\\n    outputs.false.next(str);\\n}"},"IsGreater bool ":{"id":"IsGreater bool ","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"},"transform":{"mode":"required-if-connected","type":"any"}},"outputs":{"result":{"type":"any"}},"customViewCode":"<% if (inputs.n2) { %>  > <%- inputs.n2 %> <% } else { %> Is Greater <% } %>","fnCode":"const { n1, n2, transform} = inputs;\\n\\n\\noutputs.result.next(n1 > n2);\\n      "},"IsGreater":{"id":"IsGreater","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"},"transform":{"mode":"required-if-connected","type":"any"}},"outputs":{"true":{"type":"any"},"false":{"type":"any"}},"customViewCode":"<% if (inputs.n2) { %>  > <%- inputs.n2 %> <% } else { %> Is Greater <% } %>","fnCode":"const { n1, n2, transform} = inputs;\\n\\n\\n      \\nif (n1 > n2) {\\n      outputs.true.next(isDefined(transform) ? transform : n1);\\n} else {\\n      outputs.false.next(isDefined(transform) ? transform : n2);\\n}\\n// magic here\\n      "},"isLess bool":{"id":"isLess bool","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"},"transform":{"mode":"required-if-connected","type":"any"}},"outputs":{"result":{"type":"any"}},"customViewCode":"<% if (inputs.n2) { %>  < <%- inputs.n2 %> <% } else { %> Is Less <% } %>","fnCode":"const { n1, n2, transform} = inputs;\\n\\n\\noutputs.result.next(n1 < n2);\\n      "},"isLess":{"id":"isLess","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"true":{"type":"any"},"false":{"type":"any"}},"customViewCode":"","completionOutputs":["true","false"],"fnCode":"const { n1, n2 } = inputs;\\n      \\nif (n1 < n2) {\\n      outputs.true.next(n1);\\n} else {\\n      outputs.false.next(n1);\\n}\\n// magic here\\n      "},"isPropertyGreater":{"id":"isPropertyGreater","inputs":{"obj":{"mode":"required","type":"any"},"key":{"mode":"required","type":"any"},"value":{"mode":"required","type":"any"}},"outputs":{"true":{"type":"any"},"false":{"type":"any"}},"customViewCode":"<% if (inputs.key && inputs.value) { %>  .<%- inputs.key %> > <%- inputs.value %> <% } else { %> Is Property Greater <% } %>","fnCode":"const objVal = inputs.obj[inputs.key];\\n\\nif (objVal > inputs.value) {\\n    outputs.true.next(inputs.obj)\\n} else {\\n    outputs.false.next(inputs.obj)\\n}"},"LimitTimes":{"id":"LimitTimes","inputs":{"item":{"mode":"required","type":"any"},"times":{"mode":"required","type":"any"}},"outputs":{"ok":{"type":"any"},"breach":{"type":"any"}},"completionOutputs":["breach"],"reactiveInputs":["item"],"fnCode":"// magic here\\nconst {state} = adv;\\nconst {item, times} = inputs;\\nconst {ok, breach} = outputs;\\n\\nlet curr = state.get(\'val\') || 0;\\ncurr++;\\nstate.set(\'val\', curr);\\nif (curr >= times) {\\n    breach.next(item);\\n} else {\\n    ok.next(item);\\n}\\n"},"ListAppend":{"id":"ListAppend","inputs":{"list":{"mode":"required","type":"any"},"item":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here// magic here\\noutputs.r.next(\\n    [...inputs.list, inputs.item]\\n);"},"ListConcat2":{"id":"ListConcat2","inputs":{"list1":{"mode":"required","type":"any"},"list2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\nconst {list1, list2} = inputs;\\noutputs.r.next(list1.concat(list2));"},"ListFilter":{"id":"ListFilter","inputs":{"list":{"mode":"required","type":"any"},"fn":{"mode":"required","type":"part({\\"item\\": \\"any\\", \\"idx?\\": \\"any\\"}|{\\"allow\\": \\"any\\", \\"block\\": \\"any\\"})"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const o = outputs;\\nconst {list, fn} = inputs;\\n\\nconst allowSet = new Set();\\nconst blockSet = new Set();\\nconst newList = [];\\n\\nconst uns = [];\\n\\nconst maybeSendNewList = () => {\\n  if (allowSet.size + blockSet.size === list.length) {\\n    o.r.next(newList.filter((item) => item !== undefined));\\n  }\\n};\\n\\nlist.forEach((item, idx) => {\\n  const itemInput = dynamicPartInput();\\n  const idxInput = dynamicPartInput();\\n  const outputs = Object.keys(fn.outputs).reduce(\\n    (p, k) => ({ ...p, [k]: dynamicOutput() }),\\n    {}\\n  );\\n  outputs.allow.subscribe(() => {\\n    newList.push(item);\\n    allowSet.add(idx);\\n    maybeSendNewList();\\n  });\\n\\n  outputs.block.subscribe(() => {\\n    blockSet.add(idx);\\n    maybeSendNewList();\\n  });\\n\\n  Object.keys(outputs)\\n    .filter((k) => k !== \\"allow\\" && k !== \\"block\\")\\n    .forEach((k) => {\\n      outputs[k].subscribe(() => {\\n        o.rs.next({ key: k, v: item, idx });\\n      });\\n    });\\n  const clean = adv.execute(\\n    fn,\\n    { item: itemInput, idx: idxInput },\\n    outputs,\\n    `${adv.insId}-fn`\\n  );\\n\\n  idxInput.subject.next(idx);\\n  itemInput.subject.next(item);\\n  uns.push(clean);\\n});\\n\\nadv.onCleanup(() => {\\n  uns.forEach((fn) => fn());\\n});\\n"},"ListFrom2":{"id":"ListFrom2","inputs":{"item1":{"mode":"required","type":"any"},"item2":{"mode":"required","type":"any"}},"outputs":{"list":{"type":"any"}},"completionOutputs":["list"],"fnCode":"// magic here\\noutputs.list.next(\\n    [\\n        inputs.item1,\\n        inputs.item2\\n    ]\\n);"},"ListFrom3":{"id":"ListFrom3","inputs":{"item1":{"mode":"required","type":"any"},"item2":{"mode":"required","type":"any"},"item3":{"mode":"required","type":"any"}},"outputs":{"list":{"type":"any"}},"completionOutputs":["list"],"fnCode":"// magic here\\noutputs.list.next(\\n    [\\n        inputs.item1,\\n        inputs.item2,\\n        inputs.item3\\n    ]\\n);"},"ListFromStr":{"id":"ListFromStr","inputs":{"count":{"mode":"required","type":"any"},"char":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\n\\noutputs\\n    .r\\n    .next(new Array(inputs.count).fill(inputs.char));"},"ListJoin":{"id":"ListJoin","inputs":{"list":{"mode":"required","type":"any"},"delimiter":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { list, delimiter } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(list.join(delimiter));"},"ListLength":{"id":"ListLength","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"length":{"type":"any"}},"completionOutputs":["length"],"fnCode":"// magic here\\noutputs.length.next(inputs.list.length);"},"ListMap":{"id":"ListMap","inputs":{"list":{"mode":"required","type":"any"},"fn":{"mode":"required","type":"part({\\"item?\\": \\"any\\", \\"idx?\\": \\"any\\"}|{\\"r\\": \\"any\\", \\"rs\\": \\"any\\"})"}},"outputs":{"r":{"type":"any"},"rs":{"type":"any"}},"fnCode":"let newList = [];\\n\\nconst { list, fn} = inputs;\\nconst o = outputs;\\n\\nlet received = new Set();\\n\\nconst cleanUps = [];\\n\\nlist.forEach((item, idx) => {\\n  const itemInput = dynamicPartInput();\\n  const idxInput = dynamicPartInput();\\n  const mainOutput = dynamicOutput();\\n  const sideOutput = dynamicOutput();\\n  mainOutput.subscribe((receivedItem) => {\\n    newList[idx] = receivedItem;\\n    received.add(idx);\\n    if (received.size === list.length) {\\n      o.r.next(newList);\\n    }\\n  });\\n\\n  sideOutput.subscribe((v) => {\\n    o.rs.next(v);\\n  });\\n\\n  const clean = adv.execute(\\n    fn,\\n    { item: itemInput, idx: idxInput },\\n    { r: mainOutput, rs: sideOutput },\\n    `${adv.insId}-fn`\\n  );\\n\\n  cleanUps.push(clean);\\n\\n  itemInput.subject.next(item);\\n  idxInput.subject.next(idx);\\n});\\n\\nif (list.length === 0) {\\n  o.r.next(list);\\n}\\n\\nadv.onCleanup(() => {\\n  cleanUps.forEach((fn) => fn());\\n});\\n"},"ListPrepend":{"id":"ListPrepend","inputs":{"list":{"mode":"required","type":"any"},"item":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here// magic here\\noutputs.r.next(\\n    [inputs.item, ...inputs.list]\\n);"},"MathMin":{"id":"MathMin","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { n1, n2 } = inputs;\\n      \\noutputs.r.next(Math.min(n1, n2));\\n// magic here\\n      "},"MD5HashString":{"id":"MD5HashString","inputs":{"str":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"function md5cycle(x, k) {\\n  var a = x[0],\\n    b = x[1],\\n    c = x[2],\\n    d = x[3];\\n\\n  a = ff(a, b, c, d, k[0], 7, -680876936);\\n  d = ff(d, a, b, c, k[1], 12, -389564586);\\n  c = ff(c, d, a, b, k[2], 17, 606105819);\\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\\n  a = ff(a, b, c, d, k[4], 7, -176418897);\\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\\n  b = ff(b, c, d, a, k[7], 22, -45705983);\\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\\n  c = ff(c, d, a, b, k[10], 17, -42063);\\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\\n  d = ff(d, a, b, c, k[13], 12, -40341101);\\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\\n\\n  a = gg(a, b, c, d, k[1], 5, -165796510);\\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\\n  c = gg(c, d, a, b, k[11], 14, 643717713);\\n  b = gg(b, c, d, a, k[0], 20, -373897302);\\n  a = gg(a, b, c, d, k[5], 5, -701558691);\\n  d = gg(d, a, b, c, k[10], 9, 38016083);\\n  c = gg(c, d, a, b, k[15], 14, -660478335);\\n  b = gg(b, c, d, a, k[4], 20, -405537848);\\n  a = gg(a, b, c, d, k[9], 5, 568446438);\\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\\n  c = gg(c, d, a, b, k[3], 14, -187363961);\\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\\n  d = gg(d, a, b, c, k[2], 9, -51403784);\\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\\n\\n  a = hh(a, b, c, d, k[5], 4, -378558);\\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\\n  b = hh(b, c, d, a, k[14], 23, -35309556);\\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\\n  c = hh(c, d, a, b, k[7], 16, -155497632);\\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\\n  a = hh(a, b, c, d, k[13], 4, 681279174);\\n  d = hh(d, a, b, c, k[0], 11, -358537222);\\n  c = hh(c, d, a, b, k[3], 16, -722521979);\\n  b = hh(b, c, d, a, k[6], 23, 76029189);\\n  a = hh(a, b, c, d, k[9], 4, -640364487);\\n  d = hh(d, a, b, c, k[12], 11, -421815835);\\n  c = hh(c, d, a, b, k[15], 16, 530742520);\\n  b = hh(b, c, d, a, k[2], 23, -995338651);\\n\\n  a = ii(a, b, c, d, k[0], 6, -198630844);\\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\\n  b = ii(b, c, d, a, k[5], 21, -57434055);\\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\\n  c = ii(c, d, a, b, k[10], 15, -1051523);\\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\\n  d = ii(d, a, b, c, k[15], 10, -30611744);\\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\\n  a = ii(a, b, c, d, k[4], 6, -145523070);\\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\\n  c = ii(c, d, a, b, k[2], 15, 718787259);\\n  b = ii(b, c, d, a, k[9], 21, -343485551);\\n\\n  x[0] = add32(a, x[0]);\\n  x[1] = add32(b, x[1]);\\n  x[2] = add32(c, x[2]);\\n  x[3] = add32(d, x[3]);\\n}\\n\\nfunction cmn(q, a, b, x, s, t) {\\n  a = add32(add32(a, q), add32(x, t));\\n  return add32((a << s) | (a >>> (32 - s)), b);\\n}\\n\\nfunction ff(a, b, c, d, x, s, t) {\\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\\n}\\n\\nfunction gg(a, b, c, d, x, s, t) {\\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\\n}\\n\\nfunction hh(a, b, c, d, x, s, t) {\\n  return cmn(b ^ c ^ d, a, b, x, s, t);\\n}\\n\\nfunction ii(a, b, c, d, x, s, t) {\\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\\n}\\n\\nfunction md51(s) {\\n  txt = \\"\\";\\n  var n = s.length,\\n    state = [1732584193, -271733879, -1732584194, 271733878],\\n    i;\\n  for (i = 64; i <= s.length; i += 64) {\\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\\n  }\\n  s = s.substring(i - 64);\\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\\n  for (i = 0; i < s.length; i++)\\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\\n  if (i > 55) {\\n    md5cycle(state, tail);\\n    for (i = 0; i < 16; i++) tail[i] = 0;\\n  }\\n  tail[14] = n * 8;\\n  md5cycle(state, tail);\\n  return state;\\n}\\n\\n/* there needs to be support for Unicode here,\\n * unless we pretend that we can redefine the MD-5\\n * algorithm for multi-byte characters (perhaps\\n * by adding every four 16-bit characters and\\n * shortening the sum to 32 bits). Otherwise\\n * I suggest performing MD-5 as if every character\\n * was two bytes--e.g., 0040 0025 = @%--but then\\n * how will an ordinary MD-5 sum be matched?\\n * There is no way to standardize text to something\\n * like UTF-8 before transformation; speed cost is\\n * utterly prohibitive. The JavaScript standard\\n * itself needs to look at this: it should start\\n * providing access to strings as preformed UTF-8\\n * 8-bit unsigned value arrays.\\n */\\nfunction md5blk(s) {\\n  /* I figured global was faster.   */\\n  var md5blks = [],\\n    i; /* Andy King said do it this way. */\\n  for (i = 0; i < 64; i += 4) {\\n    md5blks[i >> 2] =\\n      s.charCodeAt(i) +\\n      (s.charCodeAt(i + 1) << 8) +\\n      (s.charCodeAt(i + 2) << 16) +\\n      (s.charCodeAt(i + 3) << 24);\\n  }\\n  return md5blks;\\n}\\n\\nvar hex_chr = \\"0123456789abcdef\\".split(\\"\\");\\n\\nfunction rhex(n) {\\n  var s = \\"\\",\\n    j = 0;\\n  for (; j < 4; j++)\\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\\n  return s;\\n}\\n\\nfunction hex(x) {\\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\\n  return x.join(\\"\\");\\n}\\n\\nfunction md5(s) {\\n  return hex(md51(s));\\n}\\n\\nfunction add32(a, b) {\\n  return (a + b) & 0xffffffff;\\n}\\n\\noutputs.r.next(md5(inputs.str));\\n"},"MergeObjects":{"id":"MergeObjects","inputs":{"obj1":{"mode":"required","type":"any"},"obj2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\nconst {obj1, obj2} = inputs;\\noutputs.r.next({...obj1, ...obj2});"},"MillisToDateString":{"id":"MillisToDateString","inputs":{"ms":{"mode":"required","type":"any"},"locale":{"mode":"required-if-connected","type":"any"},"options":{"mode":"required-if-connected","type":"any"}},"outputs":{"dateString":{"type":"any"}},"completionOutputs":["dateString"],"fnCode":"// magic here\\n\\nconst {ms, locale, options} = inputs;\\nconst {dateString} = outputs;\\n\\nconst _locale = locale || \'en-US\';\\nconst _options = options || {};\\n\\nconst str = new Date(ms).toLocaleDateString(_locale, _options);\\n\\ndateString.next(str);"},"MillisToString":{"id":"MillisToString","inputs":{"ms":{"mode":"required","type":"any"},"locale":{"mode":"required-if-connected","type":"any"},"options":{"mode":"required-if-connected","type":"any"}},"outputs":{"dateString":{"type":"any"}},"completionOutputs":["dateString"],"fnCode":"// magic here\\n\\nconst {ms, locale, options} = inputs;\\nconst {dateString} = outputs;\\n\\nconst _locale = locale || \'en-US\';\\nconst _options = options || {};\\n\\nconst str = new Date(ms).toLocaleString(_locale, _options);\\n\\ndateString.next(str);"},"Modulo":{"id":"Modulo","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { n1, n2 } = inputs;\\nconst { r } = outputs;\\n      \\n// magic here\\nr.next(n1 % n2);\\n      "},"MouseEvent":{"id":"MouseEvent","inputs":{},"outputs":{"event":{"type":"any"}},"completionOutputs":["never"],"fnCode":"getDocument().body.addEventListener(\'mousemove\', ev => {\\n  outputs.event.next(ev);\\n})"},"Multiply":{"id":"Multiply","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { n1, n2 } = inputs;\\nconst { r } = outputs;\\n      \\n// magic here\\nr.next(n1 * n2);\\n      "},"Now":{"id":"Now","inputs":{"trigger":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { trigger } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(Date.now());\\n        "},"Object-builder-75360":{"id":"Object-builder-75360","inputs":{"statusCode":{"mode":"required","type":"any"},"body":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"object"}},"customViewCode":"{\\"statusCode\\":\\"${statusCode}\\",\\"body\\":\\"${body}\\"}","fnCode":"outputs.r.next(compileObjectTemplate(\\"%7B%22statusCode%22%3A%22%24%7BstatusCode%7D%22%2C%22body%22%3A%22%24%7Bbody%7D%22%7D\\", inputs));"},"Parse":{"id":"Parse","inputs":{"str":{"mode":"required","type":"any"}},"outputs":{"obj":{"type":"any"},"e":{"type":"any"}},"fnCode":"const { str } = inputs;\\nconst { obj, e } = outputs;\\n        \\n// magic here\\ntry {\\n    obj.next(JSON.parse(str));\\n} catch (err) {\\n    console.error(\\"error parsing json\\", err, str);\\n    e.next({str, e});\\n}"},"ParseInt":{"id":"ParseInt","inputs":{"str":{"mode":"required","type":"any"},"base":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"},"e":{"type":"any"}},"fnCode":"const { str, base } = inputs;\\nconst { r, e } = outputs;\\n        \\n// magic here\\nconst int = parseInt(str, base || 10);\\nif (isNaN(int)) {\\n    e.next(str);\\n} else {\\n    r.next(int);\\n}  "},"Pick":{"id":"Pick","inputs":{"obj":{"mode":"required","type":"any"},"key":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"},"e":{"type":"any"}},"customViewCode":"<% if (inputs.key) { %> Pick \\"<%- inputs.key %>\\" <% } else { %> Pick <% } %>","completionOutputs":["r","e"],"fnCode":"const { obj, key } = inputs;\\nconst { r, e } = outputs;\\n\\n// magic here\\n\\nlet hadError = false;\\n\\nconst matches = {};\\n\\nconst normalized = key.replace(/\\\\[\\"(([^\\"])+)\\"\\\\]/g, (match, p1, p2, offset) => {\\n  const key = `__$$KEY$$__${offset}`;\\n  matches[key] = p1;\\n  return `.${key}`;\\n});\\n\\n// outputs.log.next({matches, normalized});\\n\\nconst path = normalized.split(\\".\\");\\nlet o = { ...obj };\\nfor (let p of path) {\\n  const key = matches[p] || p;\\n  if (o && isDefined(o[key]) && o[key] !== null) {\\n    o = o[key];\\n  } else {\\n    e.next(obj);\\n    hadError = true;\\n  }\\n}\\n\\nif (!hadError) {\\n  r.next(o);\\n}\\n"},"Publish":{"id":"Publish","inputs":{"key":{"mode":"required","type":"any"},"value":{"mode":"required","type":"any"}},"outputs":{},"fnCode":"// magic here\\n\\nPubSub.publish(inputs.key, inputs.value);"},"Random":{"id":"Random","inputs":{"trigger":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { trigger } = inputs;\\nconst { r } = outputs;\\n      \\nr.next(Math.random());\\n      "},"RegexMatch":{"id":"RegexMatch","inputs":{"str":{"mode":"required","type":"any"},"pattern":{"mode":"required","type":"any"}},"outputs":{"match":{"type":"any"},"noMatch":{"type":"any"}},"fnCode":"const { str, pattern } = inputs;\\nconst { match, noMatch } = outputs;\\n        \\n// magic here\\nconst regex = new RegExp(pattern);\\nconst matches = str.match(regex);\\n\\nif (matches) {\\n    match.next(matches);\\n} else {\\n    noMatch.next(str);\\n}   "},"ReloadPage":{"id":"ReloadPage","inputs":{"reload":{"mode":"required","type":"any"}},"outputs":{},"fnCode":"const document = getDocument();\\ndocument.location.reload();\\n"},"RemoveAttr":{"id":"RemoveAttr","inputs":{"obj":{"mode":"required","type":"any"},"k":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { obj, k } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nconst o = { ...obj };\\ndelete o[k];\\nr.next(o);        "},"Repeat":{"id":"Repeat","inputs":{"val":{"mode":"required","type":"any"},"count":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\nconst {val, count} = inputs;\\nconst {r} = outputs;\\n\\nfor (let i = 0; i < count; i++) {\\n    r.next(val);\\n}\\n"},"Replace":{"id":"Replace","inputs":{"str":{"mode":"required","type":"any"},"from":{"mode":"required","type":"any"},"to":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { str, from, to } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(str.replace(from, to));"},"Round":{"id":"Round","inputs":{"n":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { n } = inputs;\\nconst { r } = outputs;\\n      \\n// magic here\\nr.next(Math.round(n));\\n      "},"RoundRobin3":{"id":"RoundRobin3","inputs":{"item":{"mode":"required","type":"any"}},"outputs":{"r1":{"type":"any"},"r2":{"type":"any"},"r3":{"type":"any"}},"completionOutputs":["never"],"reactiveInputs":["item"],"fnCode":"// magic here\\nconst {state} = adv;\\nconst {r1, r2, r3} = outputs;\\nconst curr = state.get(\'curr\') || 0;\\n\\nconst o = [r1, r2, r3][curr];\\n\\nconst nextCurr = (curr + 1) % 3;\\n\\nlog(nextCurr, curr);\\no.next(inputs.item);\\nstate.set(\'curr\', nextCurr);"},"ScanValue":{"id":"ScanValue","inputs":{"value":{"mode":"required","type":"any"},"initial":{"mode":"required","type":"any"},"onValue":{"mode":"required","type":"part({\\"prevValue\\": \\"any\\", \\"currValue\\": \\"any\\"}|{\\"newVal\\": \\"any\\"})"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["none"],"reactiveInputs":["value"],"fnCode":"const { state, insId, execute, onCleanup, onArg } = adv;\\nconst {initial, value, onValue } = inputs;\\nconst {r} = outputs;\\n\\nconst prevValue = state.get(\\"prevValue\\") || initial;\\n  \\nconst newVal = dynamicOutput();\\nconst prevValueArg = dynamicPartInput();\\nconst currValue = dynamicPartInput();\\nconst clean = execute(\\nonValue,\\n{ prevValue: prevValueArg, currValue },\\n{ newVal },\\n`${insId}-scan`\\n);\\n\\nlog({value, prevValue});\\n\\nconst s = newVal.subscribe((val) => {\\n    state.set(\\"prevValue\\", val);\\n    r.next(val);\\n    s.unsubscribe();\\n    clean();\\n});\\n\\ncurrValue.subject.next(value);\\nprevValueArg.subject.next(prevValue);\\n\\n"},"SetAttr":{"id":"SetAttr","inputs":{"obj":{"mode":"required","type":"any"},"k":{"mode":"required","type":"any"},"v":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { obj, k, v } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next({ ...obj, [k]: v });"},"SetItem":{"id":"SetItem","inputs":{"key":{"mode":"required","type":"any"},"value":{"mode":"required","type":"any"}},"outputs":{"ok":{"type":"any"}},"completionOutputs":["ok"],"fnCode":"// magic here\\n\\nconst {key, value} = inputs;\\nmongoDb.collection(\'__KVStore\').updateOne({id: key}, {$set: {value}}, {upsert: true})\\n    .then(() => outputs.ok.next(value))\\n    .catch((err) => adv.onError(err));"},"SetState":{"id":"SetState","inputs":{"key":{"mode":"required","type":"any"},"value":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"fnCode":"const {state} = adv;\\nconst {key, value} = inputs;\\n\\nstate.set(key, value);\\noutputs.r.next(value);\\n\\n"},"SliceList":{"id":"SliceList","inputs":{"list":{"mode":"required","type":"any"},"begin":{"mode":"required","type":"any"},"end":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here\\nconst { list, begin, end} = inputs;\\noutputs.r.next(\\n    list.slice(begin, end)\\n);"},"Split":{"id":"Split","inputs":{"str":{"mode":"required","type":"any"},"by":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { str, by } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(str.split(by));"},"SpreadList":{"id":"SpreadList","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"length":{"type":"any"},"idx":{"type":"any"},"val":{"type":"any"}},"fnCode":"// magic here\\nconst { list } = inputs;\\nconst { val, idx, length } = outputs;\\nlength.next(list.length);\\nlist.forEach((v, i) => {\\n    val.next(v);\\n    idx.next(i);\\n});"},"SpreadList5":{"id":"SpreadList5","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"first":{"type":"any"},"second":{"type":"any"},"rest":{"type":"any"}},"fnCode":"const { list } = inputs;\\nconst { first, second, rest } = outputs;\\n      \\nconst [f, s, r] = list;\\n\\nf && first.next(f);\\ns && second.next(s);\\n\\nr.length && rest.next(r)\\n      "},"SpreadListDelayed":{"id":"SpreadListDelayed","inputs":{"list":{"mode":"required","type":"any"}},"outputs":{"val":{"type":"any"},"idx":{"type":"any"},"length":{"type":"any"}},"fnCode":"// magic here\\nconst { list } = inputs;\\nconst { val, idx, length } = outputs;\\nlength.next(list.length);\\nlist.forEach((v, i) => {\\n    setTimeout(() => {\\n        val.next(v);\\n        idx.next(i);\\n    }, 100 * idx);\\n});"},"StringAppend":{"id":"StringAppend","inputs":{"str":{"mode":"required","type":"any"},"strToAppend":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"// magic here// magic here\\noutputs.r.next(`${inputs.str}${inputs.strToAppend}`);"},"Stringify":{"id":"Stringify","inputs":{"obj":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { obj } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(JSON.stringify(obj));"},"StringIncludes":{"id":"StringIncludes","inputs":{"str":{"mode":"required","type":"any"},"strToFind":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"},"else":{"type":"any"}},"customViewCode":"","fnCode":"const { str, strToFind } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nif (str.includes(strToFind)) {\\n    r.next(str);\\n}  else {\\n    outputs[\'else\'].next(str);\\n}"},"Subscribe":{"id":"Subscribe","inputs":{"key":{"mode":"required","type":"any"}},"outputs":{"val":{"type":"any"}},"completionOutputs":["never"],"fnCode":"// magic here\\nconst token = PubSub.subscribe(inputs.key, (_, data) => {\\n    outputs.val.next(data);\\n});\\n\\nadv.onCleanup(() => {\\n    log(\'Unsubscribing!\');\\n    PubSub.unsubscribe(token);\\n});"},"SubStr":{"id":"SubStr","inputs":{"str":{"mode":"required","type":"any"},"from":{"mode":"required","type":"any"},"to":{"mode":"optional","type":"any"}},"outputs":{"r":{"type":"any"}},"completionOutputs":["r"],"fnCode":"const { str, from, to } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(str.substring(from, to));    "},"Subtract":{"id":"Subtract","inputs":{"n1":{"mode":"required","type":"any"},"n2":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"customViewCode":"<% if (inputs.n2) { %>\\n-<%-inputs.n2%>\\n<% } %>","completionOutputs":["r"],"fnCode":"const { n1, n2 } = inputs;\\nconst { r } = outputs;\\n      \\nr.next(n1 - n2);\\n      "},"Switch":{"id":"Switch","inputs":{"val":{"mode":"required","type":"any"},"case1":{"mode":"required","type":"any"},"case2":{"mode":"required-if-connected","type":"any"},"case3":{"mode":"required-if-connected","type":"any"},"case4":{"mode":"required-if-connected","type":"any"},"case5":{"mode":"required-if-connected","type":"any"},"transform":{"mode":"required-if-connected","type":"any"}},"outputs":{"is1":{"type":"any"},"is2":{"type":"any"},"is3":{"type":"any"},"is4":{"type":"any"},"is5":{"type":"any"},"other":{"type":"any"}},"fnCode":"const { val, case1, case2, case3, case4, case5, transform } = inputs;\\nconst { is1, is2, is3, is4, is5, other } = outputs;\\n\\nconst valueToRespond = isDefined(transform) ? transform : val;\\n// magic here\\nswitch (val) {\\n    case case1:\\n        is1.next(valueToRespond);\\n        break;\\n    case case2:\\n        is2.next(valueToRespond);\\n        break;\\n    case case3:\\n        is3.next(valueToRespond);\\n        break;\\n    case case4:\\n        is4.next(valueToRespond);\\n        break;\\n    case case4:\\n        is5.next(valueToRespond);\\n        break;\\n    default:\\n        other.next(valueToRespond);\\n        break;\\n}"},"Throttle":{"id":"Throttle","inputs":{"value":{"mode":"required","type":"any"},"threshold":{"mode":"required","type":"any"}},"outputs":{"result":{"type":"any"}},"customViewCode":"","reactiveInputs":["value"],"fnCode":"const { value, ms } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\n\\nconst last = adv.state.get(\\"last\\") || 0;\\nconst now = Date.now();\\nconst delta = now - last;\\nadv.state.set(\\"last\\", Date.now());\\n  \\nif (delta > ms) {\\n    result.next(value);\\n} "},"Transform":{"id":"Transform","inputs":{"from":{"mode":"required","type":"any"},"to":{"mode":"required","type":"any"}},"outputs":{"r":{"type":"any"}},"customViewCode":"<% if (inputs.to) { %> to \\"<%- inputs.to %>\\" <% } %>","completionOutputs":["r"],"fnCode":"const { to } = inputs;\\nconst { r } = outputs;\\n        \\n// magic here\\nr.next(to);"},"WebScraper":{"id":"WebScraper","inputs":{"url":{"mode":"required","type":"any"},"config":{"mode":"required","type":"any"}},"outputs":{"result":{"type":"any"}},"completionOutputs":["result"],"fnCode":"// magic here\\nconst {onError} = adv;\\n\\nscrapeIt(inputs.url, inputs.config).then(({ data, response }) => {\\n    outputs.result.next(data)\\n}, err => {\\n    onError(err);\\n})"}}')}}]);